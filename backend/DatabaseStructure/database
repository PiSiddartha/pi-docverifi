--
-- PostgreSQL database dump
--

-- Dumped from database version 16.8
-- Dumped by pg_dump version 17.5

-- Started on 2025-11-27 09:00:21 IST

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2 (class 3079 OID 180641)
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- TOC entry 1054 (class 1247 OID 20500)
-- Name: annual_turnover_enum_gbp; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.annual_turnover_enum_gbp AS ENUM (
    'LESS THAN £100K',
    '£100K - £500K',
    '£500K - £1M',
    '£1M - £10M',
    'MORE THAN £10M'
);


ALTER TYPE public.annual_turnover_enum_gbp OWNER TO piadmin;

--
-- TOC entry 1057 (class 1247 OID 20512)
-- Name: business_document_type_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.business_document_type_enum AS ENUM (
    'CERTIFICATE_OF_INCORPORATION',
    'PROOF_OF_ADDRESS',
    'TAX_REGISTRATION',
    'BANK_ACCOUNT_LETTER',
    'OTHER'
);


ALTER TYPE public.business_document_type_enum OWNER TO piadmin;

--
-- TOC entry 1060 (class 1247 OID 20524)
-- Name: business_structure_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.business_structure_enum AS ENUM (
    'SOLE_PROPRIETORSHIP',
    'PARTNERSHIP',
    'LLP',
    'LLC',
    'CORPORATION',
    'NONPROFIT',
    'TRUST',
    'UNINCORPORATED_PARTNERSHIP',
    'OTHER'
);


ALTER TYPE public.business_structure_enum OWNER TO piadmin;

--
-- TOC entry 1063 (class 1247 OID 20544)
-- Name: country_code_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.country_code_enum AS ENUM (
    'AF',
    'AL',
    'DZ',
    'AD',
    'AO',
    'AR',
    'AM',
    'AU',
    'AT',
    'AZ',
    'BS',
    'BH',
    'BD',
    'BB',
    'BY',
    'BE',
    'BZ',
    'BJ',
    'BT',
    'BO',
    'BA',
    'BW',
    'BR',
    'BN',
    'BG',
    'BF',
    'BI',
    'KH',
    'CM',
    'CA',
    'CV',
    'CF',
    'TD',
    'CL',
    'CN',
    'CO',
    'KM',
    'CR',
    'HR',
    'CU',
    'CY',
    'CZ',
    'DK',
    'DJ',
    'DM',
    'DO',
    'EC',
    'EG',
    'SV',
    'GQ',
    'ER',
    'EE',
    'SZ',
    'ET',
    'FJ',
    'FI',
    'FR',
    'GA',
    'GM',
    'GE',
    'DE',
    'GH',
    'GR',
    'GD',
    'GT',
    'GN',
    'GW',
    'GY',
    'HT',
    'HN',
    'HU',
    'IS',
    'IN',
    'ID',
    'IR',
    'IQ',
    'IE',
    'IL',
    'IT',
    'JM',
    'JP',
    'JO',
    'KZ',
    'KE',
    'KI',
    'KP',
    'KR',
    'KW',
    'KG',
    'LA',
    'LV',
    'LB',
    'LS',
    'LR',
    'LY',
    'LI',
    'LT',
    'LU',
    'MG',
    'MW',
    'MY',
    'MV',
    'ML',
    'MT',
    'MH',
    'MR',
    'MU',
    'MX',
    'FM',
    'MD',
    'MC',
    'MN',
    'ME',
    'MA',
    'MZ',
    'MM',
    'NA',
    'NR',
    'NP',
    'NL',
    'NZ',
    'NI',
    'NE',
    'NG',
    'MK',
    'NO',
    'OM',
    'PK',
    'PW',
    'PA',
    'PG',
    'PY',
    'PE',
    'PH',
    'PL',
    'PT',
    'QA',
    'RO',
    'RU',
    'RW',
    'KN',
    'LC',
    'VC',
    'WS',
    'SM',
    'ST',
    'SA',
    'SN',
    'RS',
    'SC',
    'SL',
    'SG',
    'SK',
    'SI',
    'SB',
    'SO',
    'ZA',
    'SS',
    'ES',
    'LK',
    'SD',
    'SR',
    'SE',
    'CH',
    'SY',
    'TW',
    'TJ',
    'TZ',
    'TH',
    'TL',
    'TG',
    'TO',
    'TT',
    'TN',
    'TR',
    'TM',
    'TV',
    'UG',
    'UA',
    'AE',
    'GB',
    'US',
    'UY',
    'UZ',
    'VU',
    'VA',
    'VE',
    'VN',
    'YE',
    'ZM',
    'ZW'
);


ALTER TYPE public.country_code_enum OWNER TO piadmin;

--
-- TOC entry 1066 (class 1247 OID 20928)
-- Name: creation_type_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.creation_type_enum AS ENUM (
    'ECOM',
    'STORED_ACCOUNT',
    'RECURRING',
    'OTHER'
);


ALTER TYPE public.creation_type_enum OWNER TO piadmin;

--
-- TOC entry 1069 (class 1247 OID 20938)
-- Name: credit_card_type_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.credit_card_type_enum AS ENUM (
    'VISA',
    'MASTERCARD',
    'DINERS',
    'AMEX'
);


ALTER TYPE public.credit_card_type_enum OWNER TO piadmin;

--
-- TOC entry 1072 (class 1247 OID 20948)
-- Name: currency_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.currency_enum AS ENUM (
    'AED',
    'AFN',
    'ALL',
    'AMD',
    'ANG',
    'AOA',
    'ARS',
    'AUD',
    'AWG',
    'AZN',
    'BAM',
    'BBD',
    'BDT',
    'BGN',
    'BHD',
    'BIF',
    'BMD',
    'BND',
    'BOB',
    'BRL',
    'BSD',
    'BTN',
    'BWP',
    'BYN',
    'BZD',
    'CAD',
    'CDF',
    'CHF',
    'CLP',
    'CNY',
    'COP',
    'CRC',
    'CUP',
    'CVE',
    'CZK',
    'DJF',
    'DKK',
    'DOP',
    'DZD',
    'EGP',
    'ERN',
    'ETB',
    'EUR',
    'FJD',
    'FKP',
    'FOK',
    'GBP',
    'GEL',
    'GGP',
    'GHS',
    'GIP',
    'GMD',
    'GNF',
    'GTQ',
    'GYD',
    'HKD',
    'HNL',
    'HRK',
    'HTG',
    'HUF',
    'IDR',
    'ILS',
    'IMP',
    'INR',
    'IQD',
    'IRR',
    'ISK',
    'JEP',
    'JMD',
    'JOD',
    'JPY',
    'KES',
    'KGS',
    'KHR',
    'KID',
    'KMF',
    'KRW',
    'KWD',
    'KYD',
    'KZT',
    'LAK',
    'LBP',
    'LKR',
    'LRD',
    'LSL',
    'LYD',
    'MAD',
    'MDL',
    'MGA',
    'MKD',
    'MMK',
    'MNT',
    'MOP',
    'MRU',
    'MUR',
    'MVR',
    'MWK',
    'MXN',
    'MYR',
    'MZN',
    'NAD',
    'NGN',
    'NIO',
    'NOK',
    'NPR',
    'NZD',
    'OMR',
    'PAB',
    'PEN',
    'PGK',
    'PHP',
    'PKR',
    'PLN',
    'PYG',
    'QAR',
    'RON',
    'RSD',
    'RUB',
    'RWF',
    'SAR',
    'SBD',
    'SCR',
    'SDG',
    'SEK',
    'SGD',
    'SHP',
    'SLE',
    'SLL',
    'SOS',
    'SRD',
    'SSP',
    'STN',
    'SYP',
    'SZL',
    'THB',
    'TJS',
    'TMT',
    'TND',
    'TOP',
    'TRY',
    'TTD',
    'TVD',
    'TWD',
    'TZS',
    'UAH',
    'UGX',
    'USD',
    'UYU',
    'UZS',
    'VES',
    'VND',
    'VUV',
    'WST',
    'XAF',
    'XCD',
    'XOF',
    'XPF',
    'YER',
    'ZAR',
    'ZMW',
    'ZWL'
);


ALTER TYPE public.currency_enum OWNER TO piadmin;

--
-- TOC entry 1075 (class 1247 OID 21272)
-- Name: document_file_type; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.document_file_type AS ENUM (
    'PDF',
    'JPEG',
    'PNG',
    'TIFF',
    'CSV'
);


ALTER TYPE public.document_file_type OWNER TO piadmin;

--
-- TOC entry 1078 (class 1247 OID 21284)
-- Name: funding_source_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.funding_source_enum AS ENUM (
    'CREDIT',
    'DEBIT',
    'PREPAID',
    'DEFERRED_DEBIT',
    'OTHER'
);


ALTER TYPE public.funding_source_enum OWNER TO piadmin;

--
-- TOC entry 1081 (class 1247 OID 21296)
-- Name: gender_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.gender_enum AS ENUM (
    'MALE',
    'FEMALE',
    'OTHER'
);


ALTER TYPE public.gender_enum OWNER TO piadmin;

--
-- TOC entry 1084 (class 1247 OID 21304)
-- Name: industry_category_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.industry_category_enum AS ENUM (
    'SOFTWARE_SAAS',
    'SOFTWARE_ON_PREM',
    'ECOMMERCE',
    'RETAIL',
    'CONSULTING',
    'EDUCATION',
    'FINTECH',
    'OTHER'
);


ALTER TYPE public.industry_category_enum OWNER TO piadmin;

--
-- TOC entry 1087 (class 1247 OID 21322)
-- Name: legal_entity_type_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.legal_entity_type_enum AS ENUM (
    'INDIVIDUAL',
    'ORGANIZATION',
    'SOLE_PROPRIETORSHIP',
    'TRUST',
    'UNINCORPORATED_PARTNERSHIP'
);


ALTER TYPE public.legal_entity_type_enum OWNER TO piadmin;

--
-- TOC entry 1090 (class 1247 OID 21334)
-- Name: payout_schedule_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.payout_schedule_enum AS ENUM (
    'MANUAL',
    'DAILY',
    'WEEKLY',
    'MONTHLY'
);


ALTER TYPE public.payout_schedule_enum OWNER TO piadmin;

--
-- TOC entry 1093 (class 1247 OID 21344)
-- Name: platform_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.platform_enum AS ENUM (
    'FACEBOOK',
    'TWITTER',
    'LINKEDIN',
    'INSTAGRAM',
    'OTHER'
);


ALTER TYPE public.platform_enum OWNER TO piadmin;

--
-- TOC entry 1096 (class 1247 OID 21356)
-- Name: product_service_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.product_service_enum AS ENUM (
    'SAAS',
    'ECOMMERCE',
    'CONSULTING',
    'EDUCATION',
    'FINTECH',
    'OTHER'
);


ALTER TYPE public.product_service_enum OWNER TO piadmin;

--
-- TOC entry 1099 (class 1247 OID 21370)
-- Name: psc_document_type_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.psc_document_type_enum AS ENUM (
    'PASSPORT',
    'LICENSE',
    'UTILITY_BILL',
    'BANK_STATEMENT',
    'OTHER'
);


ALTER TYPE public.psc_document_type_enum OWNER TO piadmin;

--
-- TOC entry 1102 (class 1247 OID 21382)
-- Name: region_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.region_enum AS ENUM (
    'INTER',
    'INTRA',
    'DOMESTIC'
);


ALTER TYPE public.region_enum OWNER TO piadmin;

--
-- TOC entry 1231 (class 1247 OID 22249)
-- Name: reset_mechanism_type; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.reset_mechanism_type AS ENUM (
    'SCA_RESET',
    'ROLLING',
    'DAILY_FIXED'
);


ALTER TYPE public.reset_mechanism_type OWNER TO piadmin;

--
-- TOC entry 1105 (class 1247 OID 21390)
-- Name: sca_type_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.sca_type_enum AS ENUM (
    'EXEMPTION',
    'TRA',
    'EXEMPTION_LOW_VALUE',
    'NO_SCA',
    'THREEDS_2_0',
    'OTHERS'
);


ALTER TYPE public.sca_type_enum OWNER TO piadmin;

--
-- TOC entry 1108 (class 1247 OID 21404)
-- Name: status_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.status_enum AS ENUM (
    'PENDING',
    'APPROVED',
    'REJECTED'
);


ALTER TYPE public.status_enum OWNER TO piadmin;

--
-- TOC entry 1111 (class 1247 OID 21412)
-- Name: transaction_status_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.transaction_status_enum AS ENUM (
    'PAY_CREATED',
    'PAY_AUTHORIZED',
    'PAY_CAPTURED',
    'PAY_SETTLED',
    'PAY_CHARGEBACK',
    'PAY_REFUNDED',
    'PAY_WITHDRAW'
);


ALTER TYPE public.transaction_status_enum OWNER TO piadmin;

--
-- TOC entry 1114 (class 1247 OID 21428)
-- Name: transaction_type_enum; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.transaction_type_enum AS ENUM (
    'PAYMENT',
    'REFUND',
    'REVERSAL',
    'CHARGEBACK',
    'WITHDRAWAL',
    'DEPOSIT',
    'TRANSFER',
    'FEE',
    'ADJUSTMENT'
);


ALTER TYPE public.transaction_type_enum OWNER TO piadmin;

--
-- TOC entry 1328 (class 1247 OID 69661)
-- Name: translation_status; Type: TYPE; Schema: public; Owner: piadmin
--

CREATE TYPE public.translation_status AS ENUM (
    'draft',
    'approved',
    'pending_review',
    'rejected'
);


ALTER TYPE public.translation_status OWNER TO piadmin;

--
-- TOC entry 419 (class 1255 OID 30132)
-- Name: update_reconciliation_updated_at(); Type: FUNCTION; Schema: public; Owner: piadmin
--

CREATE FUNCTION public.update_reconciliation_updated_at() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    NEW.updated_at = CURRENT_TIMESTAMP;
    RETURN NEW;
END;
$$;


ALTER FUNCTION public.update_reconciliation_updated_at() OWNER TO piadmin;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 347 (class 1259 OID 72625)
-- Name: a360_metric_forecast_model_state_daily; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.a360_metric_forecast_model_state_daily (
    metric_id text NOT NULL,
    method text NOT NULL,
    n_obs integer DEFAULT 0 NOT NULL,
    level double precision,
    trend double precision,
    alpha double precision,
    beta double precision,
    gamma double precision,
    phi double precision,
    season0 double precision,
    season1 double precision,
    season2 double precision,
    season3 double precision,
    season4 double precision,
    season5 double precision,
    season6 double precision,
    last_day date,
    last_abs_err_sn double precision,
    last_abs_err_hw double precision,
    updated_at timestamp with time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.a360_metric_forecast_model_state_daily OWNER TO piadmin;

--
-- TOC entry 379 (class 1259 OID 181240)
-- Name: access_audit_log; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.access_audit_log (
    id uuid DEFAULT gen_random_uuid(),
    hub_id character varying(50),
    client_user_id integer,
    client_id character varying(50),
    resource_id character varying(100),
    action character varying(50),
    access_granted boolean,
    denial_reason text,
    ip_address inet,
    user_agent text,
    "timestamp" timestamp with time zone DEFAULT now(),
    request_metadata jsonb,
    impersonator_admin_id character varying(100),
    session_id character varying(100),
    admin_user_id integer
)
PARTITION BY RANGE ("timestamp");


ALTER TABLE public.access_audit_log OWNER TO piadmin;

--
-- TOC entry 396 (class 1259 OID 187938)
-- Name: access_audit_log_2025_11; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.access_audit_log_2025_11 (
    id uuid DEFAULT gen_random_uuid(),
    hub_id character varying(50),
    client_user_id integer,
    client_id character varying(50),
    resource_id character varying(100),
    action character varying(50),
    access_granted boolean,
    denial_reason text,
    ip_address inet,
    user_agent text,
    "timestamp" timestamp with time zone DEFAULT now(),
    request_metadata jsonb,
    impersonator_admin_id character varying(100),
    session_id character varying(100),
    admin_user_id integer
);


ALTER TABLE public.access_audit_log_2025_11 OWNER TO piadmin;

--
-- TOC entry 232 (class 1259 OID 21447)
-- Name: acquirer_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.acquirer_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.acquirer_id_seq OWNER TO piadmin;

--
-- TOC entry 233 (class 1259 OID 21448)
-- Name: acquirer; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.acquirer (
    id integer DEFAULT nextval('public.acquirer_id_seq'::regclass) NOT NULL,
    name text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.acquirer OWNER TO piadmin;

--
-- TOC entry 285 (class 1259 OID 22149)
-- Name: addresses; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.addresses (
    id character varying(100) NOT NULL,
    user_id character varying(100) NOT NULL,
    address character varying(200),
    city character varying(100),
    state character varying(100),
    country character varying(3),
    postal_code character varying(20),
    address_type character varying(50) DEFAULT 'primary'::character varying,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    created_by character varying(100) NOT NULL
);


ALTER TABLE public.addresses OWNER TO piadmin;

--
-- TOC entry 378 (class 1259 OID 181216)
-- Name: admin_user_permission_overrides; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.admin_user_permission_overrides (
    id character varying(100) DEFAULT ('AUPO_'::text || (gen_random_uuid())::text) NOT NULL,
    permission_id character varying(150) NOT NULL,
    is_granted boolean NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    created_by character varying(100),
    reason text,
    expires_at timestamp with time zone,
    updated_at timestamp with time zone DEFAULT now(),
    updated_by character varying(100),
    notes text,
    user_id integer NOT NULL
);


ALTER TABLE public.admin_user_permission_overrides OWNER TO piadmin;

--
-- TOC entry 373 (class 1259 OID 181095)
-- Name: admin_user_roles; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.admin_user_roles (
    id character varying(100) DEFAULT ('AUR_'::text || (gen_random_uuid())::text) NOT NULL,
    role_id character varying(50) NOT NULL,
    is_active boolean DEFAULT true,
    created_at timestamp with time zone DEFAULT now(),
    created_by character varying(100),
    expires_at timestamp with time zone,
    updated_at timestamp with time zone DEFAULT now(),
    updated_by character varying(100),
    notes text,
    user_id integer NOT NULL
);


ALTER TABLE public.admin_user_roles OWNER TO piadmin;

--
-- TOC entry 370 (class 1259 OID 181009)
-- Name: admin_users; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.admin_users (
    cognito_sub uuid,
    email character varying(320) NOT NULL,
    department character varying(100),
    is_super_admin boolean DEFAULT false,
    last_login_at timestamp with time zone,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    status character varying(20) DEFAULT 'ACTIVE'::character varying,
    timezone character varying(50) DEFAULT 'UTC'::character varying,
    language character varying(10) DEFAULT 'en'::character varying,
    notes text,
    id integer NOT NULL,
    created_by integer,
    updated_by integer,
    CONSTRAINT check_status CHECK (((status)::text = ANY ((ARRAY['ACTIVE'::character varying, 'INACTIVE'::character varying, 'SUSPENDED'::character varying])::text[])))
);


ALTER TABLE public.admin_users OWNER TO piadmin;

--
-- TOC entry 402 (class 1259 OID 200093)
-- Name: admin_users_id_new_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.admin_users_id_new_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.admin_users_id_new_seq OWNER TO piadmin;

--
-- TOC entry 5930 (class 0 OID 0)
-- Dependencies: 402
-- Name: admin_users_id_new_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.admin_users_id_new_seq OWNED BY public.admin_users.id;


--
-- TOC entry 234 (class 1259 OID 21455)
-- Name: api_key_audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.api_key_audit_logs (
    id bigint NOT NULL,
    client_id character varying(100) NOT NULL,
    api_key_hash character varying(1000),
    action character varying(20) NOT NULL,
    expires_at timestamp without time zone,
    performed_by character varying(100) NOT NULL,
    performed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    notes character varying(500),
    request_metadata text
);


ALTER TABLE public.api_key_audit_logs OWNER TO piadmin;

--
-- TOC entry 235 (class 1259 OID 21461)
-- Name: api_key_audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.api_key_audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.api_key_audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 5932 (class 0 OID 0)
-- Dependencies: 235
-- Name: api_key_audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.api_key_audit_logs_id_seq OWNED BY public.api_key_audit_logs.id;


--
-- TOC entry 418 (class 1259 OID 201964)
-- Name: audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.audit_logs (
    id integer NOT NULL,
    document_id character varying(255) NOT NULL,
    action character varying(100) NOT NULL,
    details jsonb,
    user_id character varying(255),
    created_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.audit_logs OWNER TO piadmin;

--
-- TOC entry 417 (class 1259 OID 201963)
-- Name: audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.audit_logs_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 5935 (class 0 OID 0)
-- Dependencies: 417
-- Name: audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.audit_logs_id_seq OWNED BY public.audit_logs.id;


--
-- TOC entry 236 (class 1259 OID 21462)
-- Name: checkout_audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.checkout_audit_logs (
    id bigint NOT NULL,
    checkout_id character varying(100) NOT NULL,
    action character varying(20) NOT NULL,
    status character varying(30),
    amount numeric(15,2),
    notes character varying(500),
    performed_by character varying(100) NOT NULL,
    performed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    metadata text
);


ALTER TABLE public.checkout_audit_logs OWNER TO piadmin;

--
-- TOC entry 237 (class 1259 OID 21468)
-- Name: checkout_audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.checkout_audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.checkout_audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 5937 (class 0 OID 0)
-- Dependencies: 237
-- Name: checkout_audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.checkout_audit_logs_id_seq OWNED BY public.checkout_audit_logs.id;


--
-- TOC entry 364 (class 1259 OID 165410)
-- Name: checkout_custom_configurations; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.checkout_custom_configurations (
    id uuid DEFAULT gen_random_uuid() NOT NULL,
    client_id character varying NOT NULL,
    config_name character varying(100) DEFAULT 'default'::character varying,
    is_active boolean DEFAULT true,
    colors jsonb DEFAULT '{"button_text_color": "#ffffff", "input_border_color": "#6ee7b7", "text_primary_color": "#111827", "background_end_color": "#d1fae5", "background_start_color": "#ffffff", "background_middle_color": "#ffffff", "button_background_color": "#059669", "card_payment_border_color": "#6ee7b7", "tabs_hover_background_color": "#ecfdf5", "tabs_button_background_color": "#059669", "button_hover_background_color": "#34d399", "order_summary_background_color": "rgba(255, 255, 255, 0.85)", "billing_address_card_border_color": "#a4f4cf"}'::jsonb NOT NULL,
    fonts jsonb DEFAULT '{}'::jsonb,
    layout jsonb DEFAULT '{}'::jsonb,
    metadata jsonb DEFAULT '{}'::jsonb,
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone DEFAULT now(),
    updated_by character varying
);


ALTER TABLE public.checkout_custom_configurations OWNER TO piadmin;

--
-- TOC entry 238 (class 1259 OID 21469)
-- Name: checkouts; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.checkouts (
    id character varying(100) NOT NULL,
    merchant_order_id character varying(100),
    status character varying(30) DEFAULT 'PENDING'::character varying NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    expires_at timestamp without time zone,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    description character varying(1000),
    client_id character varying(100) NOT NULL,
    amount numeric(15,2) NOT NULL,
    currency character varying(3) DEFAULT 'USD'::character varying NOT NULL,
    user_id character varying(100) NOT NULL,
    success_url character varying(500),
    cancel_url character varying(500),
    webhook_url character varying(500),
    correlation_id character varying(50),
    CONSTRAINT chk_checkouts_amount CHECK ((amount > (0)::numeric)),
    CONSTRAINT chk_checkouts_status CHECK (((status)::text = ANY (ARRAY[('PENDING'::character varying)::text, ('COMPLETED'::character varying)::text, ('FAILED'::character varying)::text, ('EXPIRED'::character varying)::text, ('CANCELLED'::character varying)::text])))
);


ALTER TABLE public.checkouts OWNER TO piadmin;

--
-- TOC entry 239 (class 1259 OID 21480)
-- Name: client_api_keys; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_api_keys (
    client_id character varying(100) NOT NULL,
    api_key character varying(1000) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    expires_at timestamp without time zone,
    created_by character varying(100) NOT NULL,
    notes character varying(500)
);


ALTER TABLE public.client_api_keys OWNER TO piadmin;

--
-- TOC entry 315 (class 1259 OID 35419)
-- Name: client_api_keys_v2; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_api_keys_v2 (
    key_id character varying(100) NOT NULL,
    hashed_api_key text NOT NULL,
    client_id character varying(100) NOT NULL,
    service_name character varying(50) NOT NULL,
    permissions text[] NOT NULL,
    active boolean DEFAULT true NOT NULL,
    created_at timestamp without time zone DEFAULT now() NOT NULL,
    expires_at timestamp without time zone,
    created_by character varying(100) NOT NULL,
    notes character varying(500),
    ip_whitelist inet[] DEFAULT '{}'::inet[],
    CONSTRAINT client_api_keys_v2_service_name_check CHECK (((service_name)::text = ANY ((ARRAY['checkout'::character varying, 'payment'::character varying, 'all'::character varying])::text[])))
);


ALTER TABLE public.client_api_keys_v2 OWNER TO piadmin;

--
-- TOC entry 240 (class 1259 OID 21487)
-- Name: client_audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_audit_logs (
    id bigint NOT NULL,
    client_id character varying(100) NOT NULL,
    action character varying(20) NOT NULL,
    old_name character varying(200),
    new_name character varying(200),
    old_status character varying(30),
    new_status character varying(30),
    notes character varying(500),
    performed_by character varying(100) NOT NULL,
    performed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    ip_address character varying(45),
    user_agent text
);


ALTER TABLE public.client_audit_logs OWNER TO piadmin;

--
-- TOC entry 241 (class 1259 OID 21493)
-- Name: client_audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 5944 (class 0 OID 0)
-- Dependencies: 241
-- Name: client_audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_audit_logs_id_seq OWNED BY public.client_audit_logs.id;


--
-- TOC entry 300 (class 1259 OID 24666)
-- Name: client_configs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_configs (
    id bigint NOT NULL,
    client_id character varying(100) NOT NULL,
    config_key character varying(100) NOT NULL,
    config_value character varying(1000),
    notes character varying(500),
    updated_by character varying(100) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    is_active boolean
);


ALTER TABLE public.client_configs OWNER TO piadmin;

--
-- TOC entry 299 (class 1259 OID 24665)
-- Name: client_configs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_configs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_configs_id_seq OWNER TO piadmin;

--
-- TOC entry 5947 (class 0 OID 0)
-- Dependencies: 299
-- Name: client_configs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_configs_id_seq OWNED BY public.client_configs.id;


--
-- TOC entry 330 (class 1259 OID 43747)
-- Name: client_custom_country_rules; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_custom_country_rules (
    id integer NOT NULL,
    client_id character varying(100) NOT NULL,
    bin_patterns text[],
    country_codes public.country_code_enum[],
    amount_threshold numeric(10,2) NOT NULL,
    currency character varying(3) DEFAULT 'EUR'::character varying,
    rule_priority integer DEFAULT 0,
    rule_name character varying(200),
    rule_description character varying(500),
    is_active boolean DEFAULT true,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_by character varying(100),
    CONSTRAINT chk_amount_threshold CHECK ((amount_threshold >= (0)::numeric)),
    CONSTRAINT chk_currency_length CHECK ((length((currency)::text) = 3)),
    CONSTRAINT chk_rule_has_criteria CHECK (((bin_patterns IS NOT NULL) OR (country_codes IS NOT NULL) OR (amount_threshold > (0)::numeric))),
    CONSTRAINT chk_rule_priority CHECK (((rule_priority >= 0) AND (rule_priority <= 100)))
);


ALTER TABLE public.client_custom_country_rules OWNER TO piadmin;

--
-- TOC entry 329 (class 1259 OID 43746)
-- Name: client_custom_country_rules_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_custom_country_rules_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_custom_country_rules_id_seq OWNER TO piadmin;

--
-- TOC entry 5950 (class 0 OID 0)
-- Dependencies: 329
-- Name: client_custom_country_rules_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_custom_country_rules_id_seq OWNED BY public.client_custom_country_rules.id;


--
-- TOC entry 358 (class 1259 OID 127258)
-- Name: client_descriptors; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_descriptors (
    id integer NOT NULL,
    client_id character varying(100) NOT NULL,
    brand character varying(100) NOT NULL,
    product character varying(50),
    country character varying(3),
    contact_info character varying(100),
    static_descriptor character varying(255),
    dynamic_template character varying(500),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_by character varying(100),
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    CONSTRAINT chk_client_descriptors_country_length CHECK (((country IS NULL) OR (length((country)::text) <= 3))),
    CONSTRAINT chk_client_descriptors_static_or_dynamic CHECK (((static_descriptor IS NOT NULL) OR (dynamic_template IS NOT NULL)))
);


ALTER TABLE public.client_descriptors OWNER TO piadmin;

--
-- TOC entry 356 (class 1259 OID 127256)
-- Name: client_descriptors_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_descriptors_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_descriptors_id_seq OWNER TO piadmin;

--
-- TOC entry 5953 (class 0 OID 0)
-- Dependencies: 356
-- Name: client_descriptors_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_descriptors_id_seq OWNED BY public.client_descriptors.id;


--
-- TOC entry 326 (class 1259 OID 43705)
-- Name: client_force_3ds_bins; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_force_3ds_bins (
    id integer NOT NULL,
    client_id character varying(100) NOT NULL,
    bin_patterns text[] DEFAULT '{}'::text[] NOT NULL,
    description character varying(500),
    is_active boolean DEFAULT true,
    rule_priority integer DEFAULT 0,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_by character varying(100),
    CONSTRAINT chk_bin_patterns_not_empty CHECK ((array_length(bin_patterns, 1) > 0)),
    CONSTRAINT chk_rule_priority_bins CHECK (((rule_priority >= 0) AND (rule_priority <= 100)))
);


ALTER TABLE public.client_force_3ds_bins OWNER TO piadmin;

--
-- TOC entry 325 (class 1259 OID 43704)
-- Name: client_force_3ds_bins_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_force_3ds_bins_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_force_3ds_bins_id_seq OWNER TO piadmin;

--
-- TOC entry 5956 (class 0 OID 0)
-- Dependencies: 325
-- Name: client_force_3ds_bins_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_force_3ds_bins_id_seq OWNED BY public.client_force_3ds_bins.id;


--
-- TOC entry 328 (class 1259 OID 43726)
-- Name: client_force_3ds_countries; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_force_3ds_countries (
    id integer NOT NULL,
    client_id character varying(100) NOT NULL,
    country_codes public.country_code_enum[] DEFAULT '{}'::public.country_code_enum[] NOT NULL,
    description character varying(500),
    is_active boolean DEFAULT true,
    rule_priority integer DEFAULT 0,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_by character varying(100),
    CONSTRAINT chk_country_codes_not_empty CHECK ((array_length(country_codes, 1) > 0)),
    CONSTRAINT chk_rule_priority_countries CHECK (((rule_priority >= 0) AND (rule_priority <= 100)))
);


ALTER TABLE public.client_force_3ds_countries OWNER TO piadmin;

--
-- TOC entry 327 (class 1259 OID 43725)
-- Name: client_force_3ds_countries_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_force_3ds_countries_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_force_3ds_countries_id_seq OWNER TO piadmin;

--
-- TOC entry 5959 (class 0 OID 0)
-- Dependencies: 327
-- Name: client_force_3ds_countries_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_force_3ds_countries_id_seq OWNED BY public.client_force_3ds_countries.id;


--
-- TOC entry 387 (class 1259 OID 183308)
-- Name: client_payment_configs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_payment_configs (
    id bigint NOT NULL,
    client_id character varying(280) NOT NULL,
    payment_method_id bigint NOT NULL,
    country_code character(2) NOT NULL,
    display_name character varying(100),
    display_order integer DEFAULT 0,
    is_enabled boolean DEFAULT true,
    updated_by character varying(280),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.client_payment_configs OWNER TO piadmin;

--
-- TOC entry 395 (class 1259 OID 183374)
-- Name: client_payment_configs_audit; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_payment_configs_audit (
    audit_id bigint NOT NULL,
    id bigint NOT NULL,
    client_id character varying(280),
    payment_method_id bigint,
    country_code character(2),
    display_name character varying(100),
    display_order integer,
    is_enabled boolean,
    action character varying(20) NOT NULL,
    changed_by character varying(280),
    changed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT client_payment_configs_audit_action_check CHECK (((action)::text = ANY ((ARRAY['INSERT'::character varying, 'UPDATE'::character varying, 'DELETE'::character varying])::text[])))
);


ALTER TABLE public.client_payment_configs_audit OWNER TO piadmin;

--
-- TOC entry 394 (class 1259 OID 183373)
-- Name: client_payment_configs_audit_audit_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_payment_configs_audit_audit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_payment_configs_audit_audit_id_seq OWNER TO piadmin;

--
-- TOC entry 5963 (class 0 OID 0)
-- Dependencies: 394
-- Name: client_payment_configs_audit_audit_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_payment_configs_audit_audit_id_seq OWNED BY public.client_payment_configs_audit.audit_id;


--
-- TOC entry 386 (class 1259 OID 183307)
-- Name: client_payment_configs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_payment_configs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_payment_configs_id_seq OWNER TO piadmin;

--
-- TOC entry 5964 (class 0 OID 0)
-- Dependencies: 386
-- Name: client_payment_configs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_payment_configs_id_seq OWNED BY public.client_payment_configs.id;


--
-- TOC entry 385 (class 1259 OID 183282)
-- Name: client_payment_method_currencies; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_payment_method_currencies (
    id bigint NOT NULL,
    client_id character varying(280) NOT NULL,
    payment_method_id bigint NOT NULL,
    country_code character(2) NOT NULL,
    currency_code character(3) NOT NULL,
    is_active boolean DEFAULT true,
    min_amount numeric(15,2),
    max_amount numeric(15,2),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_by character varying(280)
);


ALTER TABLE public.client_payment_method_currencies OWNER TO piadmin;

--
-- TOC entry 393 (class 1259 OID 183360)
-- Name: client_payment_method_currencies_audit; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_payment_method_currencies_audit (
    audit_id bigint NOT NULL,
    id bigint NOT NULL,
    client_id character varying(280),
    payment_method_id bigint,
    country_code character(2),
    currency_code character(3),
    is_active boolean,
    min_amount numeric(15,2),
    max_amount numeric(15,2),
    action character varying(20) NOT NULL,
    changed_by character varying(280),
    changed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT client_payment_method_currencies_audit_action_check CHECK (((action)::text = ANY ((ARRAY['INSERT'::character varying, 'UPDATE'::character varying, 'DELETE'::character varying])::text[])))
);


ALTER TABLE public.client_payment_method_currencies_audit OWNER TO piadmin;

--
-- TOC entry 392 (class 1259 OID 183359)
-- Name: client_payment_method_currencies_audit_audit_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_payment_method_currencies_audit_audit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_payment_method_currencies_audit_audit_id_seq OWNER TO piadmin;

--
-- TOC entry 5967 (class 0 OID 0)
-- Dependencies: 392
-- Name: client_payment_method_currencies_audit_audit_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_payment_method_currencies_audit_audit_id_seq OWNED BY public.client_payment_method_currencies_audit.audit_id;


--
-- TOC entry 384 (class 1259 OID 183281)
-- Name: client_payment_method_currencies_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_payment_method_currencies_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_payment_method_currencies_id_seq OWNER TO piadmin;

--
-- TOC entry 5968 (class 0 OID 0)
-- Dependencies: 384
-- Name: client_payment_method_currencies_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_payment_method_currencies_id_seq OWNED BY public.client_payment_method_currencies.id;


--
-- TOC entry 283 (class 1259 OID 22124)
-- Name: client_preferences_a360; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_preferences_a360 (
    client_id text NOT NULL,
    dashboard_id text NOT NULL,
    preferences jsonb,
    tokens_remaining integer DEFAULT 1000,
    updated_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.client_preferences_a360 OWNER TO piadmin;

--
-- TOC entry 242 (class 1259 OID 21494)
-- Name: client_provider_audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_provider_audit_logs (
    id bigint NOT NULL,
    client_id character varying(100) NOT NULL,
    provider_id character varying(100) NOT NULL,
    action character varying(20) NOT NULL,
    config_key character varying(100) NOT NULL,
    config_value character varying(1000),
    performed_by character varying(100) NOT NULL,
    performed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    notes character varying(500)
);


ALTER TABLE public.client_provider_audit_logs OWNER TO piadmin;

--
-- TOC entry 243 (class 1259 OID 21500)
-- Name: client_provider_audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_provider_audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_provider_audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 5971 (class 0 OID 0)
-- Dependencies: 243
-- Name: client_provider_audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_provider_audit_logs_id_seq OWNED BY public.client_provider_audit_logs.id;


--
-- TOC entry 244 (class 1259 OID 21501)
-- Name: client_provider_configs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_provider_configs (
    id bigint NOT NULL,
    client_id character varying(100) NOT NULL,
    provider_id character varying(100) NOT NULL,
    config_key character varying(100) NOT NULL,
    config_value character varying(1000),
    notes character varying(500),
    f_updated_by character varying(100) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.client_provider_configs OWNER TO piadmin;

--
-- TOC entry 245 (class 1259 OID 21508)
-- Name: client_provider_configs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_provider_configs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_provider_configs_id_seq OWNER TO piadmin;

--
-- TOC entry 5974 (class 0 OID 0)
-- Dependencies: 245
-- Name: client_provider_configs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_provider_configs_id_seq OWNED BY public.client_provider_configs.id;


--
-- TOC entry 334 (class 1259 OID 57832)
-- Name: client_provider_volumes; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_provider_volumes (
    id integer NOT NULL,
    client_id text,
    configuration json,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    created_by text,
    notes text
);


ALTER TABLE public.client_provider_volumes OWNER TO piadmin;

--
-- TOC entry 333 (class 1259 OID 57831)
-- Name: client_provider_configuration_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_provider_configuration_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_provider_configuration_id_seq OWNER TO piadmin;

--
-- TOC entry 5977 (class 0 OID 0)
-- Dependencies: 333
-- Name: client_provider_configuration_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_provider_configuration_id_seq OWNED BY public.client_provider_volumes.id;


--
-- TOC entry 324 (class 1259 OID 43686)
-- Name: client_sca_config; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_sca_config (
    id integer NOT NULL,
    client_id character varying(100) NOT NULL,
    force_sca_above_amount numeric(10,2) DEFAULT 30.00,
    force_sca_currency character varying(3) DEFAULT 'EUR'::character varying,
    enable_custom_rules boolean DEFAULT false,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_by character varying(100),
    CONSTRAINT chk_force_sca_amount CHECK ((force_sca_above_amount >= (0)::numeric)),
    CONSTRAINT chk_force_sca_currency_length CHECK ((length((force_sca_currency)::text) = 3))
);


ALTER TABLE public.client_sca_config OWNER TO piadmin;

--
-- TOC entry 323 (class 1259 OID 43685)
-- Name: client_sca_config_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_sca_config_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_sca_config_id_seq OWNER TO piadmin;

--
-- TOC entry 5980 (class 0 OID 0)
-- Dependencies: 323
-- Name: client_sca_config_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_sca_config_id_seq OWNED BY public.client_sca_config.id;


--
-- TOC entry 246 (class 1259 OID 21509)
-- Name: client_user_audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_user_audit_logs (
    id bigint NOT NULL,
    client_user_id character varying(100) NOT NULL,
    client_id character varying(100) NOT NULL,
    action character varying(30) NOT NULL,
    old_email character varying(255),
    new_email character varying(255),
    old_role character varying(30),
    new_role character varying(30),
    old_status character varying(30),
    new_status character varying(30),
    old_permissions text,
    new_permissions text,
    login_result character varying(20),
    login_failure_reason character varying(100),
    password_changed boolean DEFAULT false,
    two_factor_used boolean DEFAULT false,
    permissions_changed boolean DEFAULT false,
    performed_by character varying(100) NOT NULL,
    performed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    reason character varying(500),
    ip_address character varying(45),
    user_agent text,
    session_id character varying(100),
    device_fingerprint character varying(100),
    geolocation character varying(100),
    risk_level character varying(20),
    metadata text
);


ALTER TABLE public.client_user_audit_logs OWNER TO piadmin;

--
-- TOC entry 247 (class 1259 OID 21518)
-- Name: client_user_audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_user_audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_user_audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 5983 (class 0 OID 0)
-- Dependencies: 247
-- Name: client_user_audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_user_audit_logs_id_seq OWNED BY public.client_user_audit_logs.id;


--
-- TOC entry 377 (class 1259 OID 181192)
-- Name: client_user_permission_overrides; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_user_permission_overrides (
    id character varying(100) DEFAULT ('CUPO_'::text || (gen_random_uuid())::text) NOT NULL,
    permission_id character varying(150) NOT NULL,
    is_granted boolean NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    created_by character varying(100),
    reason text,
    expires_at timestamp with time zone,
    updated_at timestamp with time zone DEFAULT now(),
    updated_by character varying(100),
    notes text,
    user_id integer
);


ALTER TABLE public.client_user_permission_overrides OWNER TO piadmin;

--
-- TOC entry 372 (class 1259 OID 181062)
-- Name: client_user_roles; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_user_roles (
    id character varying(100) DEFAULT ('CUR_'::text || (gen_random_uuid())::text) NOT NULL,
    role_id character varying(50) NOT NULL,
    client_id character varying(50) NOT NULL,
    is_active boolean DEFAULT true,
    created_at timestamp with time zone DEFAULT now(),
    created_by character varying(100),
    expires_at timestamp with time zone,
    updated_at timestamp with time zone DEFAULT now(),
    updated_by character varying(100),
    notes text,
    user_id integer
);


ALTER TABLE public.client_user_roles OWNER TO piadmin;

--
-- TOC entry 369 (class 1259 OID 180978)
-- Name: client_users; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.client_users (
    client_id character varying(50) NOT NULL,
    cognito_sub uuid,
    email character varying(320) NOT NULL,
    last_login_at timestamp with time zone,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    created_by character varying(100),
    updated_by character varying(100),
    status character varying(20) DEFAULT 'ACTIVE'::character varying,
    timezone character varying(50) DEFAULT 'UTC'::character varying,
    language character varying(10) DEFAULT 'en'::character varying,
    notes text,
    id integer NOT NULL,
    CONSTRAINT check_status CHECK (((status)::text = ANY ((ARRAY['ACTIVE'::character varying, 'INACTIVE'::character varying, 'SUSPENDED'::character varying, 'PENDING'::character varying])::text[])))
);


ALTER TABLE public.client_users OWNER TO piadmin;

--
-- TOC entry 401 (class 1259 OID 195884)
-- Name: client_users_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.client_users_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.client_users_id_seq OWNER TO piadmin;

--
-- TOC entry 5988 (class 0 OID 0)
-- Dependencies: 401
-- Name: client_users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.client_users_id_seq OWNED BY public.client_users.id;


--
-- TOC entry 248 (class 1259 OID 21537)
-- Name: clients; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.clients (
    id character varying(100) NOT NULL,
    name character varying(200) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    status character varying(30) DEFAULT 'ACTIVE'::character varying NOT NULL,
    created_by character varying(100) NOT NULL,
    notes character varying(500),
    CONSTRAINT chk_clients_status CHECK (((status)::text = ANY (ARRAY[('ACTIVE'::character varying)::text, ('INACTIVE'::character varying)::text, ('SUSPENDED'::character varying)::text])))
);


ALTER TABLE public.clients OWNER TO piadmin;

--
-- TOC entry 367 (class 1259 OID 177423)
-- Name: contract_log; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.contract_log (
    id integer NOT NULL,
    client_id text,
    provider_id text,
    obligation integer,
    updated_at timestamp without time zone,
    updated_by text,
    notes text
);


ALTER TABLE public.contract_log OWNER TO piadmin;

--
-- TOC entry 366 (class 1259 OID 177422)
-- Name: contract_log_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.contract_log_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.contract_log_id_seq OWNER TO piadmin;

--
-- TOC entry 5991 (class 0 OID 0)
-- Dependencies: 366
-- Name: contract_log_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.contract_log_id_seq OWNED BY public.contract_log.id;


--
-- TOC entry 336 (class 1259 OID 59711)
-- Name: contracts; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.contracts (
    id integer NOT NULL,
    client_id text,
    obligation integer,
    provider_id text,
    updated_at timestamp without time zone,
    updated_by text,
    notes text
);


ALTER TABLE public.contracts OWNER TO piadmin;

--
-- TOC entry 335 (class 1259 OID 59710)
-- Name: contracts_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.contracts_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.contracts_id_seq OWNER TO piadmin;

--
-- TOC entry 5993 (class 0 OID 0)
-- Dependencies: 335
-- Name: contracts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.contracts_id_seq OWNED BY public.contracts.id;


--
-- TOC entry 332 (class 1259 OID 49376)
-- Name: countries; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.countries (
    country_name text NOT NULL,
    alpha2 character(2) NOT NULL,
    alpha3 character(3) NOT NULL
);


ALTER TABLE public.countries OWNER TO piadmin;

--
-- TOC entry 249 (class 1259 OID 21546)
-- Name: credit_card_audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.credit_card_audit_logs (
    id bigint NOT NULL,
    credit_card_id character varying(100) NOT NULL,
    user_id character varying(100) NOT NULL,
    action character varying(20) NOT NULL,
    last_four character varying(4),
    bin character varying(10),
    expiry_month character varying(2),
    expiry_year character varying(4),
    is_active boolean,
    event_type character varying(50),
    performed_by character varying(100) NOT NULL,
    performed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    notes character varying(500),
    ip_address character varying(45)
);


ALTER TABLE public.credit_card_audit_logs OWNER TO piadmin;

--
-- TOC entry 250 (class 1259 OID 21552)
-- Name: credit_card_audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.credit_card_audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.credit_card_audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 5997 (class 0 OID 0)
-- Dependencies: 250
-- Name: credit_card_audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.credit_card_audit_logs_id_seq OWNED BY public.credit_card_audit_logs.id;


--
-- TOC entry 251 (class 1259 OID 21553)
-- Name: credit_cards; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.credit_cards (
    id character varying(100) NOT NULL,
    bin character varying(10),
    last_four character varying(4),
    user_id character varying(100) NOT NULL,
    client_id character varying(100) NOT NULL,
    encrypted_number character varying(500),
    encrypted_cvv character varying(200),
    brand character varying(20) NOT NULL,
    issuing_bank character varying(200),
    funding_source character varying(30),
    country_code character varying(2),
    expiry_month character varying(2),
    expiry_year character varying(4),
    holder_name character varying(100),
    is_active boolean DEFAULT true,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    created_by character varying(100) NOT NULL,
    notes character varying(500),
    threeds_enrolled character varying(10),
    fingerprint character varying(200),
    par character varying(50)
);


ALTER TABLE public.credit_cards OWNER TO piadmin;

--
-- TOC entry 301 (class 1259 OID 25338)
-- Name: currencies; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.currencies (
    code character varying(3) NOT NULL,
    name character varying(100) NOT NULL,
    symbol character varying(10),
    decimal_places integer DEFAULT 2,
    is_active boolean DEFAULT true,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.currencies OWNER TO piadmin;

--
-- TOC entry 359 (class 1259 OID 127275)
-- Name: descriptor_rules; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.descriptor_rules (
    id integer NOT NULL,
    max_length integer NOT NULL,
    min_length integer,
    allowed_chars character varying(255),
    must_include character varying(100),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_by character varying(100),
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    CONSTRAINT chk_descriptor_rules_max_length CHECK ((max_length > 0)),
    CONSTRAINT chk_descriptor_rules_min_max CHECK ((((min_length IS NULL) OR (min_length >= 0)) AND ((min_length IS NULL) OR (min_length <= max_length))))
);


ALTER TABLE public.descriptor_rules OWNER TO piadmin;

--
-- TOC entry 357 (class 1259 OID 127257)
-- Name: descriptor_rules_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.descriptor_rules_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.descriptor_rules_id_seq OWNER TO piadmin;

--
-- TOC entry 6002 (class 0 OID 0)
-- Dependencies: 357
-- Name: descriptor_rules_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.descriptor_rules_id_seq OWNED BY public.descriptor_rules.id;


--
-- TOC entry 296 (class 1259 OID 22483)
-- Name: dispute_transactions; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.dispute_transactions (
    id bigint NOT NULL,
    client_id character varying(100) NOT NULL,
    transaction_id character varying(100) NOT NULL,
    provider_reference_id character varying(100) NOT NULL,
    dispute_type character varying(30) NOT NULL,
    status character varying(50) NOT NULL,
    provider_dispute_reference_id character varying(100),
    reason_code character varying(50),
    description text,
    amount bigint NOT NULL,
    currency character(3) NOT NULL,
    initiated_by character varying(100) NOT NULL,
    source_event character varying(100),
    event_date timestamp with time zone DEFAULT now() NOT NULL,
    updated_at timestamp without time zone DEFAULT now() NOT NULL,
    dispute_status character varying(50),
    CONSTRAINT dispute_transactions_currency_check CHECK ((char_length(currency) = 3)),
    CONSTRAINT dispute_transactions_dispute_type_check CHECK (((dispute_type)::text = ANY ((ARRAY['REFUND'::character varying, 'CHARGEBACK'::character varying, 'SECOND_CB'::character varying, 'REFUND_REVERSAL'::character varying])::text[]))),
    CONSTRAINT dispute_transactions_status_check CHECK (((status)::text = ANY ((ARRAY['PENDING'::character varying, 'ACCEPTED'::character varying, 'REVERSED'::character varying, 'DECLINED'::character varying, 'WON'::character varying, 'LOST'::character varying])::text[])))
);


ALTER TABLE public.dispute_transactions OWNER TO piadmin;

--
-- TOC entry 298 (class 1259 OID 22504)
-- Name: dispute_transactions_audit; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.dispute_transactions_audit (
    audit_id bigint NOT NULL,
    dispute_id bigint NOT NULL,
    client_id character varying(100),
    transaction_id character varying(100) NOT NULL,
    provider_reference_id character varying(100) NOT NULL,
    dispute_type character varying(30) NOT NULL,
    status character varying(30) NOT NULL,
    provider_dispute_reference_id character varying(100),
    reason_code character varying(50),
    description text,
    amount bigint NOT NULL,
    currency character(3) NOT NULL,
    source_event character varying(100),
    audit_action character varying(10) NOT NULL,
    change_reason character varying(255),
    changed_by character varying(100),
    change_source_event character varying(100),
    changed_at timestamp without time zone DEFAULT now() NOT NULL,
    dispute_status character varying(50),
    event_date timestamp with time zone,
    updated_at timestamp without time zone DEFAULT now() NOT NULL,
    CONSTRAINT dispute_transactions_audit_audit_action_check CHECK (((audit_action)::text = ANY ((ARRAY['INSERT'::character varying, 'UPDATE'::character varying, 'DELETE'::character varying])::text[])))
);


ALTER TABLE public.dispute_transactions_audit OWNER TO piadmin;

--
-- TOC entry 297 (class 1259 OID 22503)
-- Name: dispute_transactions_audit_audit_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.dispute_transactions_audit_audit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.dispute_transactions_audit_audit_id_seq OWNER TO piadmin;

--
-- TOC entry 6006 (class 0 OID 0)
-- Dependencies: 297
-- Name: dispute_transactions_audit_audit_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.dispute_transactions_audit_audit_id_seq OWNED BY public.dispute_transactions_audit.audit_id;


--
-- TOC entry 295 (class 1259 OID 22482)
-- Name: dispute_transactions_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.dispute_transactions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.dispute_transactions_id_seq OWNER TO piadmin;

--
-- TOC entry 6008 (class 0 OID 0)
-- Dependencies: 295
-- Name: dispute_transactions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.dispute_transactions_id_seq OWNED BY public.dispute_transactions.id;


--
-- TOC entry 416 (class 1259 OID 201932)
-- Name: document_verifications; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.document_verifications (
    id integer NOT NULL,
    document_id character varying(255) NOT NULL,
    filename character varying(500) NOT NULL,
    file_path text NOT NULL,
    s3_key character varying(500),
    merchant_company_name character varying(500),
    merchant_company_number character varying(50),
    merchant_address text,
    merchant_date character varying(50),
    ocr_company_name character varying(500),
    ocr_company_number character varying(50),
    ocr_address text,
    ocr_date character varying(50),
    ocr_confidence double precision,
    ocr_raw_text text,
    companies_house_company_name character varying(500),
    companies_house_company_number character varying(50),
    companies_house_address text,
    companies_house_date character varying(50),
    companies_house_officers jsonb,
    companies_house_data jsonb,
    forensic_score double precision,
    forensic_penalty double precision DEFAULT 0.0,
    forensic_details jsonb,
    exif_data jsonb,
    ela_score double precision,
    jpeg_quality double precision,
    copy_move_detected character varying(50),
    registry_match_score double precision,
    registry_data jsonb,
    data_match_score double precision,
    provided_data_accuracy double precision,
    comparison_details jsonb,
    ocr_score double precision DEFAULT 0.0,
    registry_score double precision DEFAULT 0.0,
    provided_score double precision DEFAULT 0.0,
    final_score double precision DEFAULT 0.0,
    status character varying(50) DEFAULT 'pending'::character varying,
    decision character varying(50),
    reviewer_id character varying(255),
    reviewer_action character varying(50),
    reviewer_notes text,
    created_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP,
    processed_at timestamp with time zone,
    flags jsonb,
    CONSTRAINT document_verifications_decision_check CHECK (((decision)::text = ANY ((ARRAY['PASS'::character varying, 'FAIL'::character varying, 'REVIEW'::character varying])::text[]))),
    CONSTRAINT document_verifications_reviewer_action_check CHECK (((reviewer_action)::text = ANY ((ARRAY['APPROVE'::character varying, 'REJECT'::character varying, 'ESCALATE'::character varying])::text[]))),
    CONSTRAINT document_verifications_status_check CHECK (((status)::text = ANY ((ARRAY['pending'::character varying, 'processing'::character varying, 'passed'::character varying, 'failed'::character varying, 'review'::character varying, 'manual_review'::character varying])::text[])))
);


ALTER TABLE public.document_verifications OWNER TO piadmin;

--
-- TOC entry 415 (class 1259 OID 201931)
-- Name: document_verifications_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.document_verifications_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.document_verifications_id_seq OWNER TO piadmin;

--
-- TOC entry 6011 (class 0 OID 0)
-- Dependencies: 415
-- Name: document_verifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.document_verifications_id_seq OWNED BY public.document_verifications.id;


--
-- TOC entry 412 (class 1259 OID 200350)
-- Name: email_campaigns; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.email_campaigns (
    id integer NOT NULL,
    campaign_name character varying(255) NOT NULL,
    campaign_type character varying(50) NOT NULL,
    subject character varying(500) NOT NULL,
    content_html text,
    content_text text,
    status character varying(20) DEFAULT 'DRAFT'::character varying,
    scheduled_for timestamp with time zone,
    sent_at timestamp with time zone,
    recipient_count integer DEFAULT 0,
    sent_count integer DEFAULT 0,
    delivered_count integer DEFAULT 0,
    opened_count integer DEFAULT 0,
    clicked_count integer DEFAULT 0,
    bounced_count integer DEFAULT 0,
    unsubscribed_count integer DEFAULT 0,
    created_by_admin_user_id integer NOT NULL,
    updated_by_admin_user_id integer,
    notes text,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    CONSTRAINT check_campaign_status CHECK (((status)::text = ANY (ARRAY[('DRAFT'::character varying)::text, ('SCHEDULED'::character varying)::text, ('SENDING'::character varying)::text, ('SENT'::character varying)::text, ('FAILED'::character varying)::text, ('CANCELLED'::character varying)::text]))),
    CONSTRAINT check_campaign_type CHECK (((campaign_type)::text = ANY (ARRAY[('NEWSLETTER'::character varying)::text, ('BLOG'::character varying)::text, ('ANNOUNCEMENT'::character varying)::text, ('PROMOTIONAL'::character varying)::text])))
);


ALTER TABLE public.email_campaigns OWNER TO piadmin;

--
-- TOC entry 411 (class 1259 OID 200349)
-- Name: email_campaigns_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.email_campaigns_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.email_campaigns_id_seq OWNER TO piadmin;

--
-- TOC entry 6013 (class 0 OID 0)
-- Dependencies: 411
-- Name: email_campaigns_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.email_campaigns_id_seq OWNED BY public.email_campaigns.id;


--
-- TOC entry 414 (class 1259 OID 200587)
-- Name: email_insights; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.email_insights (
    id integer NOT NULL,
    client_user_id integer NOT NULL,
    receive_emails boolean DEFAULT true NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    notes text
);


ALTER TABLE public.email_insights OWNER TO piadmin;

--
-- TOC entry 413 (class 1259 OID 200586)
-- Name: email_insights_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.email_insights_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.email_insights_id_seq OWNER TO piadmin;

--
-- TOC entry 6015 (class 0 OID 0)
-- Dependencies: 413
-- Name: email_insights_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.email_insights_id_seq OWNED BY public.email_insights.id;


--
-- TOC entry 317 (class 1259 OID 36092)
-- Name: employee_credentials; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.employee_credentials (
    id integer NOT NULL,
    username character varying(100) NOT NULL,
    email character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    role character varying(50) NOT NULL,
    createdat timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.employee_credentials OWNER TO piadmin;

--
-- TOC entry 316 (class 1259 OID 36091)
-- Name: employee_credentials_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.employee_credentials_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.employee_credentials_id_seq OWNER TO piadmin;

--
-- TOC entry 6017 (class 0 OID 0)
-- Dependencies: 316
-- Name: employee_credentials_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.employee_credentials_id_seq OWNED BY public.employee_credentials.id;


--
-- TOC entry 290 (class 1259 OID 22237)
-- Name: exemption_details_metadata; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.exemption_details_metadata (
    exemption_key character varying(50) NOT NULL,
    exemption_name character varying(100) NOT NULL,
    exemption_description text NOT NULL,
    max_amount_eur numeric(10,2),
    frequency_limit integer,
    time_period_days integer,
    requires_merchant_whitelist boolean DEFAULT false,
    created_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    is_active boolean DEFAULT true
);


ALTER TABLE public.exemption_details_metadata OWNER TO piadmin;

--
-- TOC entry 354 (class 1259 OID 108315)
-- Name: faq_docs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.faq_docs (
    id integer NOT NULL,
    filename text NOT NULL,
    chunk text NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.faq_docs OWNER TO piadmin;

--
-- TOC entry 353 (class 1259 OID 108314)
-- Name: faq_docs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.faq_docs_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.faq_docs_id_seq OWNER TO piadmin;

--
-- TOC entry 6021 (class 0 OID 0)
-- Dependencies: 353
-- Name: faq_docs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.faq_docs_id_seq OWNED BY public.faq_docs.id;


--
-- TOC entry 351 (class 1259 OID 93936)
-- Name: faqs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.faqs (
    id integer NOT NULL,
    category character varying(128) NOT NULL,
    question text NOT NULL,
    answer text NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.faqs OWNER TO piadmin;

--
-- TOC entry 350 (class 1259 OID 93935)
-- Name: faqs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.faqs_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.faqs_id_seq OWNER TO piadmin;

--
-- TOC entry 6024 (class 0 OID 0)
-- Dependencies: 350
-- Name: faqs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.faqs_id_seq OWNED BY public.faqs.id;


--
-- TOC entry 303 (class 1259 OID 25387)
-- Name: fx_rate_providers; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.fx_rate_providers (
    name character varying(50) NOT NULL,
    api_url character varying(255),
    is_active boolean DEFAULT true,
    priority integer DEFAULT 0,
    last_sync timestamp without time zone,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.fx_rate_providers OWNER TO piadmin;

--
-- TOC entry 302 (class 1259 OID 25360)
-- Name: fx_rates_current; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.fx_rates_current (
    from_currency character varying(3) NOT NULL,
    to_currency character varying(3) NOT NULL,
    rate numeric(20,8) NOT NULL,
    last_updated timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    source character varying(50),
    snapshot character varying(50),
    CONSTRAINT fx_rates_current_check CHECK (((from_currency)::text <> (to_currency)::text))
);


ALTER TABLE public.fx_rates_current OWNER TO piadmin;

--
-- TOC entry 306 (class 1259 OID 26047)
-- Name: fx_rates_history; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.fx_rates_history (
    id integer NOT NULL,
    from_currency character varying(3) NOT NULL,
    to_currency character varying(3) NOT NULL,
    rate numeric(20,10) NOT NULL,
    effective_date timestamp without time zone NOT NULL,
    source character varying(50),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    snapshot character varying(50)
);


ALTER TABLE public.fx_rates_history OWNER TO piadmin;

--
-- TOC entry 305 (class 1259 OID 26046)
-- Name: fx_rates_history_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.fx_rates_history_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.fx_rates_history_id_seq OWNER TO piadmin;

--
-- TOC entry 6029 (class 0 OID 0)
-- Dependencies: 305
-- Name: fx_rates_history_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.fx_rates_history_id_seq OWNED BY public.fx_rates_history.id;


--
-- TOC entry 368 (class 1259 OID 180968)
-- Name: hubs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.hubs (
    id character varying(50) NOT NULL,
    name character varying(100) NOT NULL,
    description text,
    base_url character varying(255),
    is_active boolean DEFAULT true,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    updated_by character varying(100),
    notes text
);


ALTER TABLE public.hubs OWNER TO piadmin;

--
-- TOC entry 363 (class 1259 OID 151515)
-- Name: images; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.images (
    id integer NOT NULL,
    image_name character varying(255) NOT NULL,
    s3_location character varying(500) NOT NULL,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_by character varying(100) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.images OWNER TO piadmin;

--
-- TOC entry 362 (class 1259 OID 151514)
-- Name: images_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.images_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.images_id_seq OWNER TO piadmin;

--
-- TOC entry 6033 (class 0 OID 0)
-- Dependencies: 362
-- Name: images_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.images_id_seq OWNED BY public.images.id;


--
-- TOC entry 252 (class 1259 OID 21561)
-- Name: industry_mcc_map; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.industry_mcc_map (
    id integer NOT NULL,
    industry_category public.industry_category_enum NOT NULL,
    mcc_code text NOT NULL,
    mcc_description text NOT NULL
);


ALTER TABLE public.industry_mcc_map OWNER TO piadmin;

--
-- TOC entry 253 (class 1259 OID 21566)
-- Name: industry_mcc_map_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.industry_mcc_map_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.industry_mcc_map_id_seq OWNER TO piadmin;

--
-- TOC entry 6035 (class 0 OID 0)
-- Dependencies: 253
-- Name: industry_mcc_map_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.industry_mcc_map_id_seq OWNED BY public.industry_mcc_map.id;


--
-- TOC entry 365 (class 1259 OID 169901)
-- Name: job_listings; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.job_listings (
    id character varying(255) NOT NULL,
    title character varying(255) NOT NULL,
    location character varying(255) NOT NULL,
    type character varying(50) NOT NULL,
    summary text NOT NULL,
    responsibilities jsonb DEFAULT '[]'::jsonb NOT NULL,
    qualifications jsonb DEFAULT '[]'::jsonb NOT NULL,
    department character varying(100),
    experience_level character varying(50),
    status character varying(20) DEFAULT 'active'::character varying,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    is_deleted boolean DEFAULT false,
    CONSTRAINT job_listings_experience_level_check CHECK (((experience_level)::text = ANY ((ARRAY['Entry'::character varying, 'Mid'::character varying, 'Senior'::character varying, 'Lead'::character varying, 'Executive'::character varying])::text[]))),
    CONSTRAINT job_listings_location_check CHECK ((char_length((location)::text) >= 2)),
    CONSTRAINT job_listings_status_check CHECK (((status)::text = ANY ((ARRAY['active'::character varying, 'inactive'::character varying, 'draft'::character varying, 'closed'::character varying])::text[]))),
    CONSTRAINT job_listings_title_check CHECK ((char_length((title)::text) >= 3)),
    CONSTRAINT job_listings_type_check CHECK (((type)::text = ANY ((ARRAY['Full-time'::character varying, 'Part-time'::character varying, 'Contract'::character varying, 'Internship'::character varying, 'Freelance'::character varying])::text[])))
);


ALTER TABLE public.job_listings OWNER TO piadmin;

--
-- TOC entry 338 (class 1259 OID 69670)
-- Name: languages; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.languages (
    id bigint NOT NULL,
    code character varying(10) NOT NULL,
    name character varying(100) NOT NULL,
    native_name character varying(100),
    active boolean DEFAULT true NOT NULL,
    is_default boolean DEFAULT false NOT NULL,
    is_rtl boolean DEFAULT false NOT NULL,
    created_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.languages OWNER TO piadmin;

--
-- TOC entry 337 (class 1259 OID 69669)
-- Name: languages_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.languages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.languages_id_seq OWNER TO piadmin;

--
-- TOC entry 6039 (class 0 OID 0)
-- Dependencies: 337
-- Name: languages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.languages_id_seq OWNED BY public.languages.id;


--
-- TOC entry 254 (class 1259 OID 21567)
-- Name: transaction_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.transaction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.transaction_id_seq OWNER TO piadmin;

--
-- TOC entry 255 (class 1259 OID 21568)
-- Name: live_transactions_bkp; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.live_transactions_bkp (
    id integer DEFAULT nextval('public.transaction_id_seq'::regclass) NOT NULL,
    merchant_id integer,
    i_transaction_id text,
    e_transaction_id text,
    date_time timestamp without time zone,
    credit_card_num text,
    amount numeric(15,2),
    full_name text,
    gender public.gender_enum,
    address_line_1 text,
    address_line_2 text,
    city text,
    state_or_province text,
    postal_code text,
    issuer_country_code public.country_code_enum,
    credit_card_type public.credit_card_type_enum,
    funding_source public.funding_source_enum,
    creation_type public.creation_type_enum,
    sca_type public.sca_type_enum,
    latitude numeric(9,4),
    longitude numeric(9,4),
    transaction_currency public.currency_enum,
    usd_value numeric(15,2),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    acquirer_id integer,
    ip_address text,
    status public.transaction_status_enum,
    transaction_type public.transaction_type_enum,
    fraud boolean,
    pred_fraud boolean,
    fraud_score numeric,
    email text,
    payment_successful boolean,
    gateway_fee numeric,
    pricing_ic numeric,
    country_code public.country_code_enum,
    region public.region_enum
);


ALTER TABLE public.live_transactions_bkp OWNER TO piadmin;

--
-- TOC entry 256 (class 1259 OID 21575)
-- Name: merchant_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.merchant_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.merchant_id_seq OWNER TO piadmin;

--
-- TOC entry 257 (class 1259 OID 21576)
-- Name: merchant; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.merchant (
    id integer DEFAULT nextval('public.merchant_id_seq'::regclass) NOT NULL,
    company_name text,
    address text,
    country text,
    phone text,
    email text,
    annual_turnover public.annual_turnover_enum_gbp,
    website text,
    company_num text,
    tax_number text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    onboarding_person_id integer,
    industry_category public.industry_category_enum,
    product_description public.product_service_enum,
    business_structure public.business_structure_enum,
    legal_entity_type public.legal_entity_type_enum,
    application_id character varying(50),
    city character varying(255),
    postal_code character varying(20),
    state character varying(255),
    status public.status_enum DEFAULT 'PENDING'::public.status_enum
);


ALTER TABLE public.merchant OWNER TO piadmin;

--
-- TOC entry 258 (class 1259 OID 21583)
-- Name: merchant_acquirer_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.merchant_acquirer_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.merchant_acquirer_id_seq OWNER TO piadmin;

--
-- TOC entry 259 (class 1259 OID 21584)
-- Name: merchant_acquirer; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.merchant_acquirer (
    id integer DEFAULT nextval('public.merchant_acquirer_id_seq'::regclass) NOT NULL,
    merchant_id integer,
    acquirer_id integer,
    merchant_category text,
    merchant_industry text,
    merchant_acq_num text,
    mcc_code text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.merchant_acquirer OWNER TO piadmin;

--
-- TOC entry 260 (class 1259 OID 21591)
-- Name: merchant_api_key; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.merchant_api_key (
    id integer NOT NULL,
    merchant_id integer NOT NULL,
    key text NOT NULL,
    key_type text NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    expires_at timestamp with time zone DEFAULT (now() + '1 year'::interval) NOT NULL,
    revoked boolean DEFAULT false NOT NULL,
    CONSTRAINT merchant_api_key_key_type_check CHECK ((key_type = ANY (ARRAY['read'::text, 'write'::text, 'admin'::text, 'dev'::text])))
);


ALTER TABLE public.merchant_api_key OWNER TO piadmin;

--
-- TOC entry 261 (class 1259 OID 21600)
-- Name: merchant_api_key_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.merchant_api_key_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.merchant_api_key_id_seq OWNER TO piadmin;

--
-- TOC entry 6048 (class 0 OID 0)
-- Dependencies: 261
-- Name: merchant_api_key_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.merchant_api_key_id_seq OWNED BY public.merchant_api_key.id;


--
-- TOC entry 262 (class 1259 OID 21601)
-- Name: merchant_bank_details; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.merchant_bank_details (
    id integer NOT NULL,
    merchant_id integer,
    currency public.currency_enum,
    bank_country public.country_code_enum,
    sort_code text,
    account_number text,
    confirm_account_number text,
    payout_schedule public.payout_schedule_enum,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.merchant_bank_details OWNER TO piadmin;

--
-- TOC entry 263 (class 1259 OID 21607)
-- Name: merchant_bank_details_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.merchant_bank_details_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.merchant_bank_details_id_seq OWNER TO piadmin;

--
-- TOC entry 6051 (class 0 OID 0)
-- Dependencies: 263
-- Name: merchant_bank_details_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.merchant_bank_details_id_seq OWNED BY public.merchant_bank_details.id;


--
-- TOC entry 264 (class 1259 OID 21608)
-- Name: merchant_document_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.merchant_document_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.merchant_document_id_seq OWNER TO piadmin;

--
-- TOC entry 265 (class 1259 OID 21609)
-- Name: merchant_document; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.merchant_document (
    id integer DEFAULT nextval('public.merchant_document_id_seq'::regclass) NOT NULL,
    merchant_id integer,
    document_type public.business_document_type_enum,
    s3_key text,
    status public.status_enum,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.merchant_document OWNER TO piadmin;

--
-- TOC entry 266 (class 1259 OID 21616)
-- Name: merchant_psc_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.merchant_psc_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.merchant_psc_id_seq OWNER TO piadmin;

--
-- TOC entry 267 (class 1259 OID 21617)
-- Name: merchant_psc; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.merchant_psc (
    id integer DEFAULT nextval('public.merchant_psc_id_seq'::regclass) NOT NULL,
    name text,
    job_role text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    merchant_id integer,
    ownership_percentage numeric(5,2),
    is_authorized_signatory boolean DEFAULT false
);


ALTER TABLE public.merchant_psc OWNER TO piadmin;

--
-- TOC entry 268 (class 1259 OID 21625)
-- Name: merchant_social_media_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.merchant_social_media_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.merchant_social_media_id_seq OWNER TO piadmin;

--
-- TOC entry 269 (class 1259 OID 21626)
-- Name: merchant_social_media; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.merchant_social_media (
    id integer DEFAULT nextval('public.merchant_social_media_id_seq'::regclass) NOT NULL,
    merchant_id integer,
    platform public.platform_enum,
    uri text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.merchant_social_media OWNER TO piadmin;

--
-- TOC entry 410 (class 1259 OID 200313)
-- Name: newsletter_subscriptions; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.newsletter_subscriptions (
    id integer NOT NULL,
    email character varying(320) NOT NULL,
    subscription_type character varying(50) DEFAULT 'NEWSLETTER'::character varying NOT NULL,
    status character varying(20) DEFAULT 'ACTIVE'::character varying,
    source character varying(100),
    is_verified boolean DEFAULT false,
    verification_token character varying(255),
    verified_at timestamp with time zone,
    subscribed_at timestamp with time zone DEFAULT now(),
    unsubscribed_at timestamp with time zone,
    is_internal boolean DEFAULT false,
    created_by_admin_user_id integer,
    updated_by_admin_user_id integer,
    notes text,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    CONSTRAINT check_subscription_status CHECK (((status)::text = ANY (ARRAY[('ACTIVE'::character varying)::text, ('INACTIVE'::character varying)::text, ('UNSUBSCRIBED'::character varying)::text, ('BOUNCED'::character varying)::text]))),
    CONSTRAINT check_subscription_type CHECK (((subscription_type)::text = ANY (ARRAY[('NEWSLETTER'::character varying)::text, ('BLOG'::character varying)::text, ('BOTH'::character varying)::text])))
);


ALTER TABLE public.newsletter_subscriptions OWNER TO piadmin;

--
-- TOC entry 409 (class 1259 OID 200312)
-- Name: newsletter_subscriptions_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.newsletter_subscriptions_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.newsletter_subscriptions_id_seq OWNER TO piadmin;

--
-- TOC entry 6060 (class 0 OID 0)
-- Dependencies: 409
-- Name: newsletter_subscriptions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.newsletter_subscriptions_id_seq OWNED BY public.newsletter_subscriptions.id;


--
-- TOC entry 270 (class 1259 OID 21633)
-- Name: onboarding_person; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.onboarding_person (
    id integer NOT NULL,
    work_email text NOT NULL,
    role text NOT NULL,
    created_at timestamp with time zone DEFAULT now() NOT NULL,
    company_name text,
    is_authenticated boolean DEFAULT false,
    first_name character varying(255),
    last_name character varying(255)
);


ALTER TABLE public.onboarding_person OWNER TO piadmin;

--
-- TOC entry 271 (class 1259 OID 21640)
-- Name: onboarding_person_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.onboarding_person_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.onboarding_person_id_seq OWNER TO piadmin;

--
-- TOC entry 6062 (class 0 OID 0)
-- Dependencies: 271
-- Name: onboarding_person_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.onboarding_person_id_seq OWNED BY public.onboarding_person.id;


--
-- TOC entry 383 (class 1259 OID 183263)
-- Name: payment_method_country_currencies; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.payment_method_country_currencies (
    id bigint NOT NULL,
    payment_method_id bigint NOT NULL,
    country_code character(2) NOT NULL,
    currency_code character(3) NOT NULL,
    is_active boolean DEFAULT true,
    min_amount numeric(15,2),
    max_amount numeric(15,2),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_by character varying(280)
);


ALTER TABLE public.payment_method_country_currencies OWNER TO piadmin;

--
-- TOC entry 391 (class 1259 OID 183349)
-- Name: payment_method_country_currencies_audit; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.payment_method_country_currencies_audit (
    audit_id bigint NOT NULL,
    id bigint NOT NULL,
    payment_method_id bigint,
    country_code character(2),
    currency_code character(3),
    is_active boolean,
    min_amount numeric(15,2),
    max_amount numeric(15,2),
    action character varying(20) NOT NULL,
    changed_by character varying(280),
    changed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT payment_method_country_currencies_audit_action_check CHECK (((action)::text = ANY ((ARRAY['INSERT'::character varying, 'UPDATE'::character varying, 'DELETE'::character varying])::text[])))
);


ALTER TABLE public.payment_method_country_currencies_audit OWNER TO piadmin;

--
-- TOC entry 390 (class 1259 OID 183348)
-- Name: payment_method_country_currencies_audit_audit_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.payment_method_country_currencies_audit_audit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.payment_method_country_currencies_audit_audit_id_seq OWNER TO piadmin;

--
-- TOC entry 6066 (class 0 OID 0)
-- Dependencies: 390
-- Name: payment_method_country_currencies_audit_audit_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.payment_method_country_currencies_audit_audit_id_seq OWNED BY public.payment_method_country_currencies_audit.audit_id;


--
-- TOC entry 382 (class 1259 OID 183262)
-- Name: payment_method_country_currencies_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.payment_method_country_currencies_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.payment_method_country_currencies_id_seq OWNER TO piadmin;

--
-- TOC entry 6067 (class 0 OID 0)
-- Dependencies: 382
-- Name: payment_method_country_currencies_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.payment_method_country_currencies_id_seq OWNED BY public.payment_method_country_currencies.id;


--
-- TOC entry 381 (class 1259 OID 183245)
-- Name: payment_methods; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.payment_methods (
    id bigint NOT NULL,
    code character varying(50) NOT NULL,
    name character varying(100) NOT NULL,
    description text,
    payment_type character varying(50) NOT NULL,
    is_active boolean DEFAULT true,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_by character varying(280),
    CONSTRAINT payment_methods_payment_type_check CHECK (((payment_type)::text = ANY ((ARRAY['CARD'::character varying, 'BANK_TRANSFER'::character varying, 'WALLET'::character varying, 'UPI'::character varying, 'BNPL'::character varying, 'OTHER'::character varying])::text[])))
);


ALTER TABLE public.payment_methods OWNER TO piadmin;

--
-- TOC entry 389 (class 1259 OID 183336)
-- Name: payment_methods_audit; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.payment_methods_audit (
    audit_id bigint NOT NULL,
    id bigint NOT NULL,
    code character varying(50),
    name character varying(100),
    description text,
    payment_type character varying(50),
    is_active boolean,
    action character varying(20) NOT NULL,
    changed_by character varying(280),
    changed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT payment_methods_audit_action_check CHECK (((action)::text = ANY ((ARRAY['INSERT'::character varying, 'UPDATE'::character varying, 'DELETE'::character varying])::text[])))
);


ALTER TABLE public.payment_methods_audit OWNER TO piadmin;

--
-- TOC entry 388 (class 1259 OID 183335)
-- Name: payment_methods_audit_audit_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.payment_methods_audit_audit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.payment_methods_audit_audit_id_seq OWNER TO piadmin;

--
-- TOC entry 6070 (class 0 OID 0)
-- Dependencies: 388
-- Name: payment_methods_audit_audit_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.payment_methods_audit_audit_id_seq OWNED BY public.payment_methods_audit.audit_id;


--
-- TOC entry 380 (class 1259 OID 183244)
-- Name: payment_methods_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.payment_methods_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.payment_methods_id_seq OWNER TO piadmin;

--
-- TOC entry 6071 (class 0 OID 0)
-- Dependencies: 380
-- Name: payment_methods_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.payment_methods_id_seq OWNED BY public.payment_methods.id;


--
-- TOC entry 398 (class 1259 OID 188449)
-- Name: payment_provider_config; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.payment_provider_config (
    id integer NOT NULL,
    provider_name character varying(100) NOT NULL,
    property_name character varying(100) NOT NULL,
    property_value text,
    data_format character varying(20) DEFAULT 'TEXT'::character varying,
    is_active boolean DEFAULT true,
    modified_by character varying(50),
    modified_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT chk_data_format CHECK (((data_format)::text = ANY ((ARRAY['TEXT'::character varying, 'NUMBER'::character varying, 'BOOLEAN'::character varying, 'JSON'::character varying])::text[])))
);


ALTER TABLE public.payment_provider_config OWNER TO piadmin;

--
-- TOC entry 400 (class 1259 OID 188466)
-- Name: payment_provider_config_audit; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.payment_provider_config_audit (
    audit_id bigint NOT NULL,
    config_id integer,
    provider_name character varying(100) NOT NULL,
    property_name character varying(100) NOT NULL,
    value text,
    data_format character varying(20),
    is_active boolean,
    operation_type character varying(20) NOT NULL,
    modified_by character varying(50) NOT NULL,
    modified_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    change_reason text,
    CONSTRAINT chk_operation_type CHECK (((operation_type)::text = ANY ((ARRAY['INSERT'::character varying, 'UPDATE'::character varying, 'DELETE'::character varying, 'ACTIVATE'::character varying, 'DEACTIVATE'::character varying])::text[])))
);


ALTER TABLE public.payment_provider_config_audit OWNER TO piadmin;

--
-- TOC entry 399 (class 1259 OID 188465)
-- Name: payment_provider_config_audit_audit_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.payment_provider_config_audit_audit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.payment_provider_config_audit_audit_id_seq OWNER TO piadmin;

--
-- TOC entry 6074 (class 0 OID 0)
-- Dependencies: 399
-- Name: payment_provider_config_audit_audit_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.payment_provider_config_audit_audit_id_seq OWNED BY public.payment_provider_config_audit.audit_id;


--
-- TOC entry 397 (class 1259 OID 188448)
-- Name: payment_provider_config_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.payment_provider_config_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.payment_provider_config_id_seq OWNER TO piadmin;

--
-- TOC entry 6075 (class 0 OID 0)
-- Dependencies: 397
-- Name: payment_provider_config_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.payment_provider_config_id_seq OWNED BY public.payment_provider_config.id;


--
-- TOC entry 272 (class 1259 OID 21641)
-- Name: payment_providers; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.payment_providers (
    id character varying(100) NOT NULL,
    name character varying(100) NOT NULL,
    status character varying(30) DEFAULT 'ACTIVE'::character varying,
    notes character varying(500),
    created_by character varying(100) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    base_url character varying(500)
);


ALTER TABLE public.payment_providers OWNER TO piadmin;

--
-- TOC entry 375 (class 1259 OID 181149)
-- Name: permissions; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.permissions (
    id character varying(150) NOT NULL,
    resource_id character varying(100) NOT NULL,
    action character varying(50) NOT NULL,
    description text,
    is_sensitive boolean DEFAULT false,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    updated_by character varying(100),
    notes text
);


ALTER TABLE public.permissions OWNER TO piadmin;

--
-- TOC entry 273 (class 1259 OID 21649)
-- Name: provider_audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.provider_audit_logs (
    id bigint NOT NULL,
    provider_id character varying(100) NOT NULL,
    action character varying(20) NOT NULL,
    name character varying(100),
    status character varying(30),
    performed_by character varying(100) NOT NULL,
    performed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    notes character varying(500),
    config_changes text
);


ALTER TABLE public.provider_audit_logs OWNER TO piadmin;

--
-- TOC entry 274 (class 1259 OID 21655)
-- Name: provider_audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.provider_audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.provider_audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 6079 (class 0 OID 0)
-- Dependencies: 274
-- Name: provider_audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.provider_audit_logs_id_seq OWNED BY public.provider_audit_logs.id;


--
-- TOC entry 292 (class 1259 OID 22256)
-- Name: provider_exemption_config; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.provider_exemption_config (
    exemption_config_id bigint NOT NULL,
    provider_id character varying(50) NOT NULL,
    exemption_key character varying(50) NOT NULL,
    max_amount_eur bigint,
    frequency_limit integer,
    time_period_hours integer,
    reset_mechanism public.reset_mechanism_type NOT NULL,
    cumulative_limit_eur bigint,
    requires_velocity_check boolean DEFAULT false,
    custom_parameters jsonb,
    is_enabled boolean DEFAULT true,
    created_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_by character varying(100),
    updated_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    client_id character varying(100)
);


ALTER TABLE public.provider_exemption_config OWNER TO piadmin;

--
-- TOC entry 291 (class 1259 OID 22255)
-- Name: provider_exemption_config_exemption_config_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.provider_exemption_config_exemption_config_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.provider_exemption_config_exemption_config_id_seq OWNER TO piadmin;

--
-- TOC entry 6082 (class 0 OID 0)
-- Dependencies: 291
-- Name: provider_exemption_config_exemption_config_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.provider_exemption_config_exemption_config_id_seq OWNED BY public.provider_exemption_config.exemption_config_id;


--
-- TOC entry 294 (class 1259 OID 22435)
-- Name: provider_fees; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.provider_fees (
    id bigint NOT NULL,
    client_id character varying(100) NOT NULL,
    provider_name character varying(50) NOT NULL,
    provider_id character varying(100) NOT NULL,
    gateway_fee numeric(10,6) NOT NULL,
    fee_type character varying(20) DEFAULT 'FIXED'::character varying,
    currency character(3) DEFAULT 'USD'::bpchar,
    effective_from date DEFAULT CURRENT_DATE NOT NULL,
    effective_to date,
    created_at timestamp without time zone DEFAULT now() NOT NULL,
    updated_at timestamp without time zone DEFAULT now() NOT NULL,
    created_by character varying(50) DEFAULT 'SYSTEM'::character varying,
    CONSTRAINT provider_fees_fee_type_check CHECK (((fee_type)::text = ANY ((ARRAY['PERCENTAGE'::character varying, 'FIXED'::character varying, 'MIXED'::character varying])::text[])))
);


ALTER TABLE public.provider_fees OWNER TO piadmin;

--
-- TOC entry 293 (class 1259 OID 22434)
-- Name: provider_fees_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.provider_fees_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.provider_fees_id_seq OWNER TO piadmin;

--
-- TOC entry 6085 (class 0 OID 0)
-- Dependencies: 293
-- Name: provider_fees_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.provider_fees_id_seq OWNED BY public.provider_fees.id;


--
-- TOC entry 275 (class 1259 OID 21656)
-- Name: psc_document_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.psc_document_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.psc_document_id_seq OWNER TO piadmin;

--
-- TOC entry 276 (class 1259 OID 21657)
-- Name: psc_document; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.psc_document (
    id integer DEFAULT nextval('public.psc_document_id_seq'::regclass) NOT NULL,
    merchant_psc_id integer,
    document_type public.psc_document_type_enum,
    file_type public.document_file_type,
    s3_key text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.psc_document OWNER TO piadmin;

--
-- TOC entry 282 (class 1259 OID 21692)
-- Name: transactions; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.transactions (
    id character varying(100) NOT NULL,
    checkout_id character varying(100),
    client_id character varying(100) NOT NULL,
    payment_method character varying(30) NOT NULL,
    user_id character varying(100) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    status character varying(30) NOT NULL,
    amount bigint NOT NULL,
    currency character varying(3) DEFAULT 'USD'::character varying NOT NULL,
    created_by character varying(100),
    notes character varying(500),
    credit_card_id character varying(100),
    provider_id character varying(100),
    customer_ip character varying(45),
    provider_transaction_id character varying(100),
    fraud_score numeric(5,2),
    processing_fee numeric(10,2),
    user_agent character varying(200),
    decline_code character varying(10),
    decline_message character varying(200),
    creation_type character varying(100),
    transaction_type character varying(30),
    channel character varying(30),
    fraud_engine_decision character varying(100),
    base_currency character varying(3),
    base_amount bigint,
    fx_snapshot character varying(50),
    correlation_id character varying(50),
    ic_plus_pluss bigint,
    CONSTRAINT chk_transactions_amount CHECK (((amount)::numeric > (0)::numeric)),
    CONSTRAINT chk_transactions_fraud_score CHECK (((fraud_score >= (0)::numeric) AND (fraud_score <= (100)::numeric))),
    CONSTRAINT chk_transactions_status CHECK (((status)::text = ANY (ARRAY[('INITIATED'::character varying)::text, ('PENDING'::character varying)::text, ('SUCCESS'::character varying)::text, ('FAILED'::character varying)::text, ('CANCELLED'::character varying)::text, ('REFUNDED'::character varying)::text, ('CHARGEBACK'::character varying)::text])))
);


ALTER TABLE public.transactions OWNER TO piadmin;

--
-- TOC entry 345 (class 1259 OID 72614)
-- Name: psp_daily_active_acquirers; Type: VIEW; Schema: public; Owner: piadmin
--

CREATE VIEW public.psp_daily_active_acquirers AS
 SELECT (date_trunc('day'::text, (created_at AT TIME ZONE 'UTC'::text)))::date AS day_utc,
    (count(DISTINCT provider_id))::integer AS value
   FROM public.transactions t
  GROUP BY ((date_trunc('day'::text, (created_at AT TIME ZONE 'UTC'::text)))::date)
  ORDER BY ((date_trunc('day'::text, (created_at AT TIME ZONE 'UTC'::text)))::date);


ALTER VIEW public.psp_daily_active_acquirers OWNER TO piadmin;

--
-- TOC entry 346 (class 1259 OID 72618)
-- Name: psp_daily_success_components; Type: VIEW; Schema: public; Owner: piadmin
--

CREATE VIEW public.psp_daily_success_components AS
 SELECT (date_trunc('day'::text, (created_at AT TIME ZONE 'UTC'::text)))::date AS day_utc,
    (sum(
        CASE
            WHEN ((status)::text = 'SUCCESS'::text) THEN 1
            ELSE 0
        END))::integer AS succ,
    (count(*))::integer AS total
   FROM public.transactions t
  GROUP BY ((date_trunc('day'::text, (created_at AT TIME ZONE 'UTC'::text)))::date)
  ORDER BY ((date_trunc('day'::text, (created_at AT TIME ZONE 'UTC'::text)))::date);


ALTER VIEW public.psp_daily_success_components OWNER TO piadmin;

--
-- TOC entry 307 (class 1259 OID 30275)
-- Name: recon_internal_transactions; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.recon_internal_transactions (
    transaction_id character varying(100) NOT NULL,
    checkout_id character varying(100),
    client_id character varying(100) NOT NULL,
    amount bigint NOT NULL,
    currency character varying(3) NOT NULL,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    recon_status character varying(50),
    rule_tier character varying(50),
    engine character varying(100),
    confidence_score numeric(5,2),
    match_description text,
    payment_method character varying(30),
    provider_id character varying(100),
    filename character varying
);


ALTER TABLE public.recon_internal_transactions OWNER TO piadmin;

--
-- TOC entry 360 (class 1259 OID 135900)
-- Name: recon_matched_transactions; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.recon_matched_transactions (
    transaction_id text,
    checkout_id text,
    client_id text,
    amount integer,
    currency text,
    updated_at timestamp without time zone,
    rule_tier text,
    match_status text,
    match_description text,
    user_match_status text,
    user_match_description text,
    user_transaction_id text,
    payment_method text,
    provider_id text,
    filename text,
    username text,
    matched_transaction_id text
);


ALTER TABLE public.recon_matched_transactions OWNER TO piadmin;

--
-- TOC entry 331 (class 1259 OID 44057)
-- Name: recon_staging_raw_transactions; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.recon_staging_raw_transactions (
    transaction_id character varying(100),
    checkout_id character varying(100),
    client_id character varying(100),
    amount numeric(18,2),
    currency character varying(10),
    updated_at timestamp without time zone,
    recon_status character varying(50),
    rule_tier integer,
    engine character varying(50),
    confidence_score double precision,
    match_description text,
    payment_method character varying(30),
    provider_id character varying(100),
    filename character varying,
    matched_transaction_id text
);


ALTER TABLE public.recon_staging_raw_transactions OWNER TO piadmin;

--
-- TOC entry 361 (class 1259 OID 135905)
-- Name: recon_unmatched_transactions; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.recon_unmatched_transactions (
    transaction_id text,
    checkout_id text,
    client_id text,
    amount integer,
    currency text,
    updated_at timestamp without time zone,
    rule_tier text,
    match_status text,
    match_description text,
    user_match_status text,
    user_match_description text,
    payment_method text,
    provider_id text,
    filename text,
    username text
);


ALTER TABLE public.recon_unmatched_transactions OWNER TO piadmin;

--
-- TOC entry 374 (class 1259 OID 181122)
-- Name: resources; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.resources (
    id character varying(100) NOT NULL,
    hub_id character varying(50) NOT NULL,
    name character varying(100) NOT NULL,
    description text,
    resource_type character varying(50) NOT NULL,
    parent_resource_id character varying(100),
    display_order integer DEFAULT 0,
    is_active boolean DEFAULT true,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    updated_by character varying(100),
    notes text
);


ALTER TABLE public.resources OWNER TO piadmin;

--
-- TOC entry 376 (class 1259 OID 181168)
-- Name: role_permissions; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.role_permissions (
    id character varying(100) DEFAULT ('RP_'::text || (gen_random_uuid())::text) NOT NULL,
    role_id character varying(50) NOT NULL,
    permission_id character varying(150) NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    updated_by character varying(100),
    notes text
);


ALTER TABLE public.role_permissions OWNER TO piadmin;

--
-- TOC entry 371 (class 1259 OID 181032)
-- Name: roles; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.roles (
    id character varying(50) NOT NULL,
    hub_id character varying(50) NOT NULL,
    name character varying(100) NOT NULL,
    description text,
    scope character varying(20) DEFAULT 'GLOBAL'::character varying NOT NULL,
    client_id character varying(50),
    is_system_role boolean DEFAULT false,
    is_default_role boolean DEFAULT false,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    created_by character varying(100),
    updated_by character varying(100),
    notes text,
    CONSTRAINT check_hub_scope CHECK (((((hub_id)::text = 'CLIENT_HUB'::text) AND ((scope)::text = 'CLIENT'::text) AND (client_id IS NOT NULL)) OR (((scope)::text = 'GLOBAL'::text) AND (client_id IS NULL)))),
    CONSTRAINT check_scope CHECK (((scope)::text = ANY ((ARRAY['GLOBAL'::character varying, 'CLIENT'::character varying])::text[])))
);


ALTER TABLE public.roles OWNER TO piadmin;

--
-- TOC entry 355 (class 1259 OID 110226)
-- Name: shield_configs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.shield_configs (
    client_id text,
    version text,
    minimum integer,
    maximum integer,
    action text,
    changed_by text,
    time_updated timestamp without time zone,
    recall double precision,
    f1 double precision,
    roi double precision,
    fraud double precision
);


ALTER TABLE public.shield_configs OWNER TO piadmin;

--
-- TOC entry 349 (class 1259 OID 84835)
-- Name: states; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.states (
    id bigint NOT NULL,
    name character varying(255) NOT NULL,
    country_code character(2) NOT NULL,
    type character varying(50)
);


ALTER TABLE public.states OWNER TO piadmin;

--
-- TOC entry 348 (class 1259 OID 84813)
-- Name: states_tmp; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.states_tmp (
    id bigint NOT NULL,
    name character varying(255) NOT NULL,
    country_id bigint NOT NULL,
    country_code character(2) NOT NULL,
    fips_code character varying(255),
    iso2 character varying(255),
    iso3166_2 character varying(10),
    type character varying(191),
    level integer,
    parent_id bigint,
    native character varying(255),
    latitude numeric(10,8),
    longitude numeric(11,8),
    timezone character varying(255),
    created_at timestamp without time zone,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    flag smallint DEFAULT 1 NOT NULL,
    "wikiDataId" character varying(255)
);


ALTER TABLE public.states_tmp OWNER TO piadmin;

--
-- TOC entry 304 (class 1259 OID 25898)
-- Name: supported_currencies; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.supported_currencies (
    currency_code character varying(3) NOT NULL,
    is_active boolean DEFAULT true,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.supported_currencies OWNER TO piadmin;

--
-- TOC entry 287 (class 1259 OID 22209)
-- Name: system_metadata; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.system_metadata (
    id integer NOT NULL,
    property_name character varying(100),
    property_value text,
    data_format character varying(20),
    modified_by character varying(50),
    modified_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    is_active boolean
);


ALTER TABLE public.system_metadata OWNER TO piadmin;

--
-- TOC entry 289 (class 1259 OID 22220)
-- Name: system_metadata_audit; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.system_metadata_audit (
    audit_id integer NOT NULL,
    metadata_id integer,
    property_name character varying(100),
    action_type character varying(10),
    property_value text,
    data_format character varying(20),
    modified_by character varying(50),
    modified_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    change_reason character varying(500),
    CONSTRAINT system_metadata_audit_action_type_check CHECK (((action_type)::text = ANY ((ARRAY['INSERT'::character varying, 'UPDATE'::character varying, 'DELETE'::character varying])::text[])))
);


ALTER TABLE public.system_metadata_audit OWNER TO piadmin;

--
-- TOC entry 288 (class 1259 OID 22219)
-- Name: system_metadata_audit_audit_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.system_metadata_audit_audit_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.system_metadata_audit_audit_id_seq OWNER TO piadmin;

--
-- TOC entry 6105 (class 0 OID 0)
-- Dependencies: 288
-- Name: system_metadata_audit_audit_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.system_metadata_audit_audit_id_seq OWNED BY public.system_metadata_audit.audit_id;


--
-- TOC entry 286 (class 1259 OID 22208)
-- Name: system_metadata_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.system_metadata_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.system_metadata_id_seq OWNER TO piadmin;

--
-- TOC entry 6107 (class 0 OID 0)
-- Dependencies: 286
-- Name: system_metadata_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.system_metadata_id_seq OWNED BY public.system_metadata.id;


--
-- TOC entry 408 (class 1259 OID 200222)
-- Name: ticket_comments; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.ticket_comments (
    id integer NOT NULL,
    ticket_id integer NOT NULL,
    admin_user_id integer,
    client_user_id integer,
    message text NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    CONSTRAINT check_comment_user_type CHECK ((((client_user_id IS NOT NULL) AND (admin_user_id IS NULL)) OR ((client_user_id IS NULL) AND (admin_user_id IS NOT NULL))))
);


ALTER TABLE public.ticket_comments OWNER TO piadmin;

--
-- TOC entry 407 (class 1259 OID 200221)
-- Name: ticket_comments_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.ticket_comments_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.ticket_comments_id_seq OWNER TO piadmin;

--
-- TOC entry 6110 (class 0 OID 0)
-- Dependencies: 407
-- Name: ticket_comments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.ticket_comments_id_seq OWNED BY public.ticket_comments.id;


--
-- TOC entry 406 (class 1259 OID 200200)
-- Name: ticket_files; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.ticket_files (
    id integer NOT NULL,
    ticket_id integer NOT NULL,
    file_url text NOT NULL,
    file_name character varying(500) NOT NULL,
    file_size bigint,
    file_type character varying(100),
    uploaded_at timestamp with time zone DEFAULT now(),
    uploaded_by_client_user_id integer
);


ALTER TABLE public.ticket_files OWNER TO piadmin;

--
-- TOC entry 405 (class 1259 OID 200199)
-- Name: ticket_files_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.ticket_files_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.ticket_files_id_seq OWNER TO piadmin;

--
-- TOC entry 6112 (class 0 OID 0)
-- Dependencies: 405
-- Name: ticket_files_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.ticket_files_id_seq OWNED BY public.ticket_files.id;


--
-- TOC entry 404 (class 1259 OID 200175)
-- Name: tickets; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.tickets (
    id integer NOT NULL,
    client_user_id integer NOT NULL,
    subject character varying(500) NOT NULL,
    description text NOT NULL,
    priority character varying(20) DEFAULT 'MEDIUM'::character varying,
    category character varying(100),
    status character varying(20) DEFAULT 'OPEN'::character varying,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone DEFAULT now(),
    CONSTRAINT check_ticket_priority CHECK (((priority)::text = ANY (ARRAY[('LOW'::character varying)::text, ('MEDIUM'::character varying)::text, ('HIGH'::character varying)::text, ('URGENT'::character varying)::text]))),
    CONSTRAINT check_ticket_status CHECK (((status)::text = ANY (ARRAY[('OPEN'::character varying)::text, ('IN_PROGRESS'::character varying)::text, ('RESOLVED'::character varying)::text, ('CLOSED'::character varying)::text])))
);


ALTER TABLE public.tickets OWNER TO piadmin;

--
-- TOC entry 403 (class 1259 OID 200174)
-- Name: tickets_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.tickets_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.tickets_id_seq OWNER TO piadmin;

--
-- TOC entry 6114 (class 0 OID 0)
-- Dependencies: 403
-- Name: tickets_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.tickets_id_seq OWNED BY public.tickets.id;


--
-- TOC entry 352 (class 1259 OID 101567)
-- Name: token_ledger; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.token_ledger (
    ledger_id character varying(25) NOT NULL,
    client_id character varying(255) NOT NULL,
    user_id character varying(255) NOT NULL,
    "timestamp" timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    subscription boolean DEFAULT false,
    balance integer DEFAULT 0,
    credit integer DEFAULT 0,
    debit integer DEFAULT 0,
    final_balance integer DEFAULT 0,
    description text
);


ALTER TABLE public.token_ledger OWNER TO piadmin;

--
-- TOC entry 322 (class 1259 OID 36784)
-- Name: transaction_3ds; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.transaction_3ds (
    id bigint NOT NULL,
    transaction_id character varying(100) NOT NULL,
    step character varying(50),
    three_ds_version character varying(10),
    three_ds_status character varying(20),
    three_ds_challenge_indicator character varying(20),
    three_ds_challenge_result character varying(20),
    three_ds_eci character varying(10),
    three_ds_cavv character varying(100),
    three_ds_xid character varying(100),
    three_ds_authentication_value character varying(100),
    three_ds_authentication_timestamp timestamp without time zone,
    three_ds_liability_shift boolean,
    three_ds_server_trans_id character varying(100),
    three_ds_requestor_trans_id character varying(100),
    three_ds_device_channel character varying(20),
    updated_by character varying(100),
    log_created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.transaction_3ds OWNER TO piadmin;

--
-- TOC entry 321 (class 1259 OID 36783)
-- Name: transaction_3ds_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.transaction_3ds_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.transaction_3ds_id_seq OWNER TO piadmin;

--
-- TOC entry 6117 (class 0 OID 0)
-- Dependencies: 321
-- Name: transaction_3ds_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.transaction_3ds_id_seq OWNED BY public.transaction_3ds.id;


--
-- TOC entry 318 (class 1259 OID 36701)
-- Name: transaction_additional_data; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.transaction_additional_data (
    transaction_id character varying(100) NOT NULL,
    arn character varying(100),
    auth_code character varying(50),
    merchant_advice_code character varying(100),
    acquirer_reference_id character varying(100),
    network_reference_id character varying(100),
    avs_result character varying(200),
    cvc_result character varying(200),
    threeds boolean,
    exemption_type character varying(20),
    sca_auth_type character varying(30),
    updated_at timestamp without time zone
);


ALTER TABLE public.transaction_additional_data OWNER TO piadmin;

--
-- TOC entry 278 (class 1259 OID 21671)
-- Name: transaction_audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.transaction_audit_logs (
    id bigint NOT NULL,
    transaction_id character varying(100) NOT NULL,
    action character varying(20) NOT NULL,
    new_status character varying(30),
    amount numeric(15,2),
    fraud_score numeric(5,2),
    provider_response text,
    error_code character varying(50),
    error_message text,
    retry_count integer DEFAULT 0,
    processing_time_ms integer,
    performed_by character varying(100) NOT NULL,
    performed_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    notes character varying(500),
    ip_address character varying(45),
    user_agent character varying(200),
    webhook_payload text,
    internal_notes text
);


ALTER TABLE public.transaction_audit_logs OWNER TO piadmin;

--
-- TOC entry 279 (class 1259 OID 21678)
-- Name: transaction_audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.transaction_audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.transaction_audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 6121 (class 0 OID 0)
-- Dependencies: 279
-- Name: transaction_audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.transaction_audit_logs_id_seq OWNED BY public.transaction_audit_logs.id;


--
-- TOC entry 277 (class 1259 OID 21664)
-- Name: transaction_bkp; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.transaction_bkp (
    id integer DEFAULT nextval('public.transaction_id_seq'::regclass) NOT NULL,
    merchant_id integer,
    i_transaction_id text,
    e_transaction_id text,
    date_time timestamp without time zone,
    credit_card_num text,
    amount numeric(15,2),
    full_name text,
    gender public.gender_enum,
    address_line_1 text,
    address_line_2 text,
    city text,
    state_or_province text,
    postal_code text,
    issuer_country_code public.country_code_enum,
    credit_card_type public.credit_card_type_enum,
    funding_source public.funding_source_enum,
    creation_type public.creation_type_enum,
    sca_type public.sca_type_enum,
    latitude numeric(9,4),
    longitude numeric(9,4),
    transaction_currency public.currency_enum,
    usd_value numeric(15,2),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    acquirer_id integer,
    ip_address text,
    status public.transaction_status_enum,
    transaction_type public.transaction_type_enum,
    fraud boolean,
    pred_fraud boolean,
    fraud_score numeric,
    email text,
    payment_successful boolean,
    gateway_fee numeric,
    pricing_ic numeric,
    country_code public.country_code_enum,
    region public.region_enum
);


ALTER TABLE public.transaction_bkp OWNER TO piadmin;

--
-- TOC entry 320 (class 1259 OID 36770)
-- Name: transaction_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.transaction_logs (
    log_id bigint NOT NULL,
    transaction_id character varying(100) NOT NULL,
    checkout_id character varying(100),
    previous_status character varying(30),
    status character varying(30) NOT NULL,
    updated_by character varying(100),
    updated_at timestamp without time zone,
    gateway_request text,
    gateway_response text,
    decline_code character varying(10),
    decline_message character varying(200),
    threeds boolean,
    sca_auth_type character varying(30),
    exemption_type character varying(20),
    correlation_id character varying(50),
    amount bigint,
    currency character varying(3)
);


ALTER TABLE public.transaction_logs OWNER TO piadmin;

--
-- TOC entry 319 (class 1259 OID 36769)
-- Name: transaction_logs_log_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.transaction_logs_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.transaction_logs_log_id_seq OWNER TO piadmin;

--
-- TOC entry 6125 (class 0 OID 0)
-- Dependencies: 319
-- Name: transaction_logs_log_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.transaction_logs_log_id_seq OWNED BY public.transaction_logs.log_id;


--
-- TOC entry 280 (class 1259 OID 21679)
-- Name: transaction_metadata; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.transaction_metadata (
    id bigint NOT NULL,
    transaction_id character varying(100) NOT NULL,
    key character varying(100) NOT NULL,
    value text,
    data_type character varying(20) DEFAULT 'STRING'::character varying,
    version integer DEFAULT 1,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    created_by character varying(100) DEFAULT 'SYSTEM'::character varying,
    source character varying(50) DEFAULT 'API'::character varying,
    notes character varying(500),
    CONSTRAINT chk_transaction_metadata_data_type CHECK (((data_type)::text = ANY (ARRAY[('STRING'::character varying)::text, ('NUMBER'::character varying)::text, ('BOOLEAN'::character varying)::text, ('JSON'::character varying)::text, ('ENCRYPTED'::character varying)::text, ('DATE'::character varying)::text, ('DECIMAL'::character varying)::text]))),
    CONSTRAINT chk_transaction_metadata_source CHECK (((source)::text = ANY (ARRAY[('API'::character varying)::text, ('WEBHOOK'::character varying)::text, ('BATCH'::character varying)::text, ('MANUAL'::character varying)::text, ('SYSTEM'::character varying)::text, ('MIGRATION'::character varying)::text])))
);


ALTER TABLE public.transaction_metadata OWNER TO piadmin;

--
-- TOC entry 281 (class 1259 OID 21691)
-- Name: transaction_metadata_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.transaction_metadata_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.transaction_metadata_id_seq OWNER TO piadmin;

--
-- TOC entry 6128 (class 0 OID 0)
-- Dependencies: 281
-- Name: transaction_metadata_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.transaction_metadata_id_seq OWNED BY public.transaction_metadata.id;


--
-- TOC entry 344 (class 1259 OID 69736)
-- Name: translation_history; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.translation_history (
    id bigint NOT NULL,
    translation_id bigint NOT NULL,
    translation_key_id bigint NOT NULL,
    language_id bigint NOT NULL,
    old_value text,
    new_value text,
    old_status public.translation_status,
    new_status public.translation_status,
    changed_by character varying(100),
    change_reason text,
    changed_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.translation_history OWNER TO piadmin;

--
-- TOC entry 343 (class 1259 OID 69735)
-- Name: translation_history_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.translation_history_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.translation_history_id_seq OWNER TO piadmin;

--
-- TOC entry 6131 (class 0 OID 0)
-- Dependencies: 343
-- Name: translation_history_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.translation_history_id_seq OWNED BY public.translation_history.id;


--
-- TOC entry 340 (class 1259 OID 69686)
-- Name: translation_keys; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.translation_keys (
    id bigint NOT NULL,
    key_code character varying(500) NOT NULL,
    namespace character varying(100) DEFAULT 'common'::character varying NOT NULL,
    description text,
    context text,
    max_length integer,
    is_plural boolean DEFAULT false NOT NULL,
    placeholder_count integer DEFAULT 0,
    created_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    created_by character varying(100)
);


ALTER TABLE public.translation_keys OWNER TO piadmin;

--
-- TOC entry 339 (class 1259 OID 69685)
-- Name: translation_keys_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.translation_keys_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.translation_keys_id_seq OWNER TO piadmin;

--
-- TOC entry 6134 (class 0 OID 0)
-- Dependencies: 339
-- Name: translation_keys_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.translation_keys_id_seq OWNED BY public.translation_keys.id;


--
-- TOC entry 342 (class 1259 OID 69704)
-- Name: translations; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.translations (
    id bigint NOT NULL,
    translation_key_id bigint NOT NULL,
    language_id bigint NOT NULL,
    value text NOT NULL,
    plural_value text,
    status public.translation_status DEFAULT 'draft'::public.translation_status NOT NULL,
    is_verified boolean DEFAULT false NOT NULL,
    version integer DEFAULT 1 NOT NULL,
    character_count integer,
    translated_by character varying(100),
    verified_by character varying(100),
    verified_at timestamp with time zone,
    notes text,
    created_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    updated_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    CONSTRAINT valid_value CHECK ((length(value) > 0))
);


ALTER TABLE public.translations OWNER TO piadmin;

--
-- TOC entry 341 (class 1259 OID 69703)
-- Name: translations_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.translations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.translations_id_seq OWNER TO piadmin;

--
-- TOC entry 6137 (class 0 OID 0)
-- Dependencies: 341
-- Name: translations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.translations_id_seq OWNED BY public.translations.id;


--
-- TOC entry 284 (class 1259 OID 22138)
-- Name: users; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.users (
    id character varying(100) NOT NULL,
    first_name character varying(100) NOT NULL,
    last_name character varying(100) NOT NULL,
    phone character varying(20),
    email character varying(255) NOT NULL,
    client_id character varying(100) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    created_by character varying(100) NOT NULL,
    notes character varying(500),
    client_user_id character varying(100)
);


ALTER TABLE public.users OWNER TO piadmin;

--
-- TOC entry 312 (class 1259 OID 30578)
-- Name: webhook_deliveries; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.webhook_deliveries (
    id bigint NOT NULL,
    webhook_endpoint_id bigint NOT NULL,
    event_type character varying(50) NOT NULL,
    payload text NOT NULL,
    response_status integer,
    response_body text,
    attempt_count integer DEFAULT 1,
    delivered_at timestamp without time zone,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    next_retry_at timestamp without time zone,
    status character varying(20) DEFAULT 'PENDING'::character varying
);


ALTER TABLE public.webhook_deliveries OWNER TO piadmin;

--
-- TOC entry 310 (class 1259 OID 30576)
-- Name: webhook_deliveries_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.webhook_deliveries_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.webhook_deliveries_id_seq OWNER TO piadmin;

--
-- TOC entry 6141 (class 0 OID 0)
-- Dependencies: 310
-- Name: webhook_deliveries_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.webhook_deliveries_id_seq OWNED BY public.webhook_deliveries.id;


--
-- TOC entry 311 (class 1259 OID 30577)
-- Name: webhook_deliveries_webhook_endpoint_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.webhook_deliveries_webhook_endpoint_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.webhook_deliveries_webhook_endpoint_id_seq OWNER TO piadmin;

--
-- TOC entry 6143 (class 0 OID 0)
-- Dependencies: 311
-- Name: webhook_deliveries_webhook_endpoint_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.webhook_deliveries_webhook_endpoint_id_seq OWNED BY public.webhook_deliveries.webhook_endpoint_id;


--
-- TOC entry 314 (class 1259 OID 31205)
-- Name: webhook_delivery_audit_logs; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.webhook_delivery_audit_logs (
    id bigint NOT NULL,
    delivery_id bigint NOT NULL,
    request_headers jsonb,
    request_body text,
    response_status integer,
    response_headers jsonb,
    response_body text,
    attempt_number integer NOT NULL,
    logged_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    status character varying(20) DEFAULT 'PENDING'::character varying
);


ALTER TABLE public.webhook_delivery_audit_logs OWNER TO piadmin;

--
-- TOC entry 313 (class 1259 OID 31204)
-- Name: webhook_delivery_audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.webhook_delivery_audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.webhook_delivery_audit_logs_id_seq OWNER TO piadmin;

--
-- TOC entry 6146 (class 0 OID 0)
-- Dependencies: 313
-- Name: webhook_delivery_audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.webhook_delivery_audit_logs_id_seq OWNED BY public.webhook_delivery_audit_logs.id;


--
-- TOC entry 309 (class 1259 OID 30557)
-- Name: webhook_endpoints; Type: TABLE; Schema: public; Owner: piadmin
--

CREATE TABLE public.webhook_endpoints (
    id bigint NOT NULL,
    client_id character varying(100) NOT NULL,
    url character varying(500) NOT NULL,
    events text NOT NULL,
    secret character varying(100),
    is_active boolean DEFAULT true,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    created_by character varying(100) NOT NULL,
    notes character varying(500),
    auth_type character varying(20) DEFAULT 'none'::character varying,
    auth_username character varying(100),
    auth_credentials character varying(255)
);


ALTER TABLE public.webhook_endpoints OWNER TO piadmin;

--
-- TOC entry 308 (class 1259 OID 30556)
-- Name: webhook_endpoints_id_seq; Type: SEQUENCE; Schema: public; Owner: piadmin
--

CREATE SEQUENCE public.webhook_endpoints_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.webhook_endpoints_id_seq OWNER TO piadmin;

--
-- TOC entry 6149 (class 0 OID 0)
-- Dependencies: 308
-- Name: webhook_endpoints_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: piadmin
--

ALTER SEQUENCE public.webhook_endpoints_id_seq OWNED BY public.webhook_endpoints.id;


--
-- TOC entry 4763 (class 0 OID 0)
-- Name: access_audit_log_2025_11; Type: TABLE ATTACH; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.access_audit_log ATTACH PARTITION public.access_audit_log_2025_11 FOR VALUES FROM ('2025-11-01 00:00:00+00') TO ('2025-12-01 00:00:00+00');


--
-- TOC entry 5009 (class 2604 OID 200094)
-- Name: admin_users id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_users ALTER COLUMN id SET DEFAULT nextval('public.admin_users_id_new_seq'::regclass);


--
-- TOC entry 4766 (class 2604 OID 21728)
-- Name: api_key_audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.api_key_audit_logs ALTER COLUMN id SET DEFAULT nextval('public.api_key_audit_logs_id_seq'::regclass);


--
-- TOC entry 5117 (class 2604 OID 201967)
-- Name: audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.audit_logs ALTER COLUMN id SET DEFAULT nextval('public.audit_logs_id_seq'::regclass);


--
-- TOC entry 4768 (class 2604 OID 21729)
-- Name: checkout_audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.checkout_audit_logs ALTER COLUMN id SET DEFAULT nextval('public.checkout_audit_logs_id_seq'::regclass);


--
-- TOC entry 4776 (class 2604 OID 21730)
-- Name: client_audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_audit_logs ALTER COLUMN id SET DEFAULT nextval('public.client_audit_logs_id_seq'::regclass);


--
-- TOC entry 4872 (class 2604 OID 24669)
-- Name: client_configs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_configs ALTER COLUMN id SET DEFAULT nextval('public.client_configs_id_seq'::regclass);


--
-- TOC entry 4926 (class 2604 OID 43750)
-- Name: client_custom_country_rules id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_custom_country_rules ALTER COLUMN id SET DEFAULT nextval('public.client_custom_country_rules_id_seq'::regclass);


--
-- TOC entry 4969 (class 2604 OID 127261)
-- Name: client_descriptors id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_descriptors ALTER COLUMN id SET DEFAULT nextval('public.client_descriptors_id_seq'::regclass);


--
-- TOC entry 4914 (class 2604 OID 43708)
-- Name: client_force_3ds_bins id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_force_3ds_bins ALTER COLUMN id SET DEFAULT nextval('public.client_force_3ds_bins_id_seq'::regclass);


--
-- TOC entry 4920 (class 2604 OID 43729)
-- Name: client_force_3ds_countries id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_force_3ds_countries ALTER COLUMN id SET DEFAULT nextval('public.client_force_3ds_countries_id_seq'::regclass);


--
-- TOC entry 5053 (class 2604 OID 183311)
-- Name: client_payment_configs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_configs ALTER COLUMN id SET DEFAULT nextval('public.client_payment_configs_id_seq'::regclass);


--
-- TOC entry 5064 (class 2604 OID 183377)
-- Name: client_payment_configs_audit audit_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_configs_audit ALTER COLUMN audit_id SET DEFAULT nextval('public.client_payment_configs_audit_audit_id_seq'::regclass);


--
-- TOC entry 5049 (class 2604 OID 183285)
-- Name: client_payment_method_currencies id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_method_currencies ALTER COLUMN id SET DEFAULT nextval('public.client_payment_method_currencies_id_seq'::regclass);


--
-- TOC entry 5062 (class 2604 OID 183363)
-- Name: client_payment_method_currencies_audit audit_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_method_currencies_audit ALTER COLUMN audit_id SET DEFAULT nextval('public.client_payment_method_currencies_audit_audit_id_seq'::regclass);


--
-- TOC entry 4778 (class 2604 OID 21731)
-- Name: client_provider_audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_provider_audit_logs ALTER COLUMN id SET DEFAULT nextval('public.client_provider_audit_logs_id_seq'::regclass);


--
-- TOC entry 4780 (class 2604 OID 21732)
-- Name: client_provider_configs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_provider_configs ALTER COLUMN id SET DEFAULT nextval('public.client_provider_configs_id_seq'::regclass);


--
-- TOC entry 4932 (class 2604 OID 57835)
-- Name: client_provider_volumes id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_provider_volumes ALTER COLUMN id SET DEFAULT nextval('public.client_provider_configuration_id_seq'::regclass);


--
-- TOC entry 4908 (class 2604 OID 43689)
-- Name: client_sca_config id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_sca_config ALTER COLUMN id SET DEFAULT nextval('public.client_sca_config_id_seq'::regclass);


--
-- TOC entry 4783 (class 2604 OID 21733)
-- Name: client_user_audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_user_audit_logs ALTER COLUMN id SET DEFAULT nextval('public.client_user_audit_logs_id_seq'::regclass);


--
-- TOC entry 5002 (class 2604 OID 195885)
-- Name: client_users id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_users ALTER COLUMN id SET DEFAULT nextval('public.client_users_id_seq'::regclass);


--
-- TOC entry 4993 (class 2604 OID 177426)
-- Name: contract_log id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.contract_log ALTER COLUMN id SET DEFAULT nextval('public.contract_log_id_seq'::regclass);


--
-- TOC entry 4934 (class 2604 OID 59714)
-- Name: contracts id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.contracts ALTER COLUMN id SET DEFAULT nextval('public.contracts_id_seq'::regclass);


--
-- TOC entry 4791 (class 2604 OID 21734)
-- Name: credit_card_audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.credit_card_audit_logs ALTER COLUMN id SET DEFAULT nextval('public.credit_card_audit_logs_id_seq'::regclass);


--
-- TOC entry 4972 (class 2604 OID 127278)
-- Name: descriptor_rules id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.descriptor_rules ALTER COLUMN id SET DEFAULT nextval('public.descriptor_rules_id_seq'::regclass);


--
-- TOC entry 4866 (class 2604 OID 22486)
-- Name: dispute_transactions id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.dispute_transactions ALTER COLUMN id SET DEFAULT nextval('public.dispute_transactions_id_seq'::regclass);


--
-- TOC entry 4869 (class 2604 OID 22507)
-- Name: dispute_transactions_audit audit_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.dispute_transactions_audit ALTER COLUMN audit_id SET DEFAULT nextval('public.dispute_transactions_audit_audit_id_seq'::regclass);


--
-- TOC entry 5108 (class 2604 OID 201935)
-- Name: document_verifications id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.document_verifications ALTER COLUMN id SET DEFAULT nextval('public.document_verifications_id_seq'::regclass);


--
-- TOC entry 5093 (class 2604 OID 200353)
-- Name: email_campaigns id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.email_campaigns ALTER COLUMN id SET DEFAULT nextval('public.email_campaigns_id_seq'::regclass);


--
-- TOC entry 5104 (class 2604 OID 200590)
-- Name: email_insights id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.email_insights ALTER COLUMN id SET DEFAULT nextval('public.email_insights_id_seq'::regclass);


--
-- TOC entry 4903 (class 2604 OID 36095)
-- Name: employee_credentials id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.employee_credentials ALTER COLUMN id SET DEFAULT nextval('public.employee_credentials_id_seq'::regclass);


--
-- TOC entry 4967 (class 2604 OID 108318)
-- Name: faq_docs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.faq_docs ALTER COLUMN id SET DEFAULT nextval('public.faq_docs_id_seq'::regclass);


--
-- TOC entry 4959 (class 2604 OID 93939)
-- Name: faqs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.faqs ALTER COLUMN id SET DEFAULT nextval('public.faqs_id_seq'::regclass);


--
-- TOC entry 4884 (class 2604 OID 26050)
-- Name: fx_rates_history id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.fx_rates_history ALTER COLUMN id SET DEFAULT nextval('public.fx_rates_history_id_seq'::regclass);


--
-- TOC entry 4975 (class 2604 OID 151518)
-- Name: images id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.images ALTER COLUMN id SET DEFAULT nextval('public.images_id_seq'::regclass);


--
-- TOC entry 4796 (class 2604 OID 21735)
-- Name: industry_mcc_map id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.industry_mcc_map ALTER COLUMN id SET DEFAULT nextval('public.industry_mcc_map_id_seq'::regclass);


--
-- TOC entry 4935 (class 2604 OID 69673)
-- Name: languages id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.languages ALTER COLUMN id SET DEFAULT nextval('public.languages_id_seq'::regclass);


--
-- TOC entry 4804 (class 2604 OID 21736)
-- Name: merchant_api_key id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_api_key ALTER COLUMN id SET DEFAULT nextval('public.merchant_api_key_id_seq'::regclass);


--
-- TOC entry 4808 (class 2604 OID 21737)
-- Name: merchant_bank_details id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_bank_details ALTER COLUMN id SET DEFAULT nextval('public.merchant_bank_details_id_seq'::regclass);


--
-- TOC entry 5085 (class 2604 OID 200316)
-- Name: newsletter_subscriptions id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.newsletter_subscriptions ALTER COLUMN id SET DEFAULT nextval('public.newsletter_subscriptions_id_seq'::regclass);


--
-- TOC entry 4817 (class 2604 OID 21738)
-- Name: onboarding_person id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.onboarding_person ALTER COLUMN id SET DEFAULT nextval('public.onboarding_person_id_seq'::regclass);


--
-- TOC entry 5045 (class 2604 OID 183266)
-- Name: payment_method_country_currencies id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_method_country_currencies ALTER COLUMN id SET DEFAULT nextval('public.payment_method_country_currencies_id_seq'::regclass);


--
-- TOC entry 5060 (class 2604 OID 183352)
-- Name: payment_method_country_currencies_audit audit_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_method_country_currencies_audit ALTER COLUMN audit_id SET DEFAULT nextval('public.payment_method_country_currencies_audit_audit_id_seq'::regclass);


--
-- TOC entry 5041 (class 2604 OID 183248)
-- Name: payment_methods id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_methods ALTER COLUMN id SET DEFAULT nextval('public.payment_methods_id_seq'::regclass);


--
-- TOC entry 5058 (class 2604 OID 183339)
-- Name: payment_methods_audit audit_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_methods_audit ALTER COLUMN audit_id SET DEFAULT nextval('public.payment_methods_audit_audit_id_seq'::regclass);


--
-- TOC entry 5068 (class 2604 OID 188452)
-- Name: payment_provider_config id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_provider_config ALTER COLUMN id SET DEFAULT nextval('public.payment_provider_config_id_seq'::regclass);


--
-- TOC entry 5073 (class 2604 OID 188469)
-- Name: payment_provider_config_audit audit_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_provider_config_audit ALTER COLUMN audit_id SET DEFAULT nextval('public.payment_provider_config_audit_audit_id_seq'::regclass);


--
-- TOC entry 4823 (class 2604 OID 21739)
-- Name: provider_audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_audit_logs ALTER COLUMN id SET DEFAULT nextval('public.provider_audit_logs_id_seq'::regclass);


--
-- TOC entry 4854 (class 2604 OID 22259)
-- Name: provider_exemption_config exemption_config_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_exemption_config ALTER COLUMN exemption_config_id SET DEFAULT nextval('public.provider_exemption_config_exemption_config_id_seq'::regclass);


--
-- TOC entry 4859 (class 2604 OID 22438)
-- Name: provider_fees id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_fees ALTER COLUMN id SET DEFAULT nextval('public.provider_fees_id_seq'::regclass);


--
-- TOC entry 4846 (class 2604 OID 22212)
-- Name: system_metadata id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.system_metadata ALTER COLUMN id SET DEFAULT nextval('public.system_metadata_id_seq'::regclass);


--
-- TOC entry 4848 (class 2604 OID 22223)
-- Name: system_metadata_audit audit_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.system_metadata_audit ALTER COLUMN audit_id SET DEFAULT nextval('public.system_metadata_audit_audit_id_seq'::regclass);


--
-- TOC entry 5082 (class 2604 OID 200225)
-- Name: ticket_comments id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.ticket_comments ALTER COLUMN id SET DEFAULT nextval('public.ticket_comments_id_seq'::regclass);


--
-- TOC entry 5080 (class 2604 OID 200203)
-- Name: ticket_files id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.ticket_files ALTER COLUMN id SET DEFAULT nextval('public.ticket_files_id_seq'::regclass);


--
-- TOC entry 5075 (class 2604 OID 200178)
-- Name: tickets id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.tickets ALTER COLUMN id SET DEFAULT nextval('public.tickets_id_seq'::regclass);


--
-- TOC entry 4906 (class 2604 OID 36787)
-- Name: transaction_3ds id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_3ds ALTER COLUMN id SET DEFAULT nextval('public.transaction_3ds_id_seq'::regclass);


--
-- TOC entry 4829 (class 2604 OID 21740)
-- Name: transaction_audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_audit_logs ALTER COLUMN id SET DEFAULT nextval('public.transaction_audit_logs_id_seq'::regclass);


--
-- TOC entry 4905 (class 2604 OID 36773)
-- Name: transaction_logs log_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_logs ALTER COLUMN log_id SET DEFAULT nextval('public.transaction_logs_log_id_seq'::regclass);


--
-- TOC entry 4832 (class 2604 OID 21741)
-- Name: transaction_metadata id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_metadata ALTER COLUMN id SET DEFAULT nextval('public.transaction_metadata_id_seq'::regclass);


--
-- TOC entry 4953 (class 2604 OID 69739)
-- Name: translation_history id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translation_history ALTER COLUMN id SET DEFAULT nextval('public.translation_history_id_seq'::regclass);


--
-- TOC entry 4941 (class 2604 OID 69689)
-- Name: translation_keys id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translation_keys ALTER COLUMN id SET DEFAULT nextval('public.translation_keys_id_seq'::regclass);


--
-- TOC entry 4947 (class 2604 OID 69707)
-- Name: translations id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translations ALTER COLUMN id SET DEFAULT nextval('public.translations_id_seq'::regclass);


--
-- TOC entry 4892 (class 2604 OID 30581)
-- Name: webhook_deliveries id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_deliveries ALTER COLUMN id SET DEFAULT nextval('public.webhook_deliveries_id_seq'::regclass);


--
-- TOC entry 4893 (class 2604 OID 30582)
-- Name: webhook_deliveries webhook_endpoint_id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_deliveries ALTER COLUMN webhook_endpoint_id SET DEFAULT nextval('public.webhook_deliveries_webhook_endpoint_id_seq'::regclass);


--
-- TOC entry 4897 (class 2604 OID 31208)
-- Name: webhook_delivery_audit_logs id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_delivery_audit_logs ALTER COLUMN id SET DEFAULT nextval('public.webhook_delivery_audit_logs_id_seq'::regclass);


--
-- TOC entry 4887 (class 2604 OID 30560)
-- Name: webhook_endpoints id; Type: DEFAULT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_endpoints ALTER COLUMN id SET DEFAULT nextval('public.webhook_endpoints_id_seq'::regclass);


--
-- TOC entry 5442 (class 2606 OID 72633)
-- Name: a360_metric_forecast_model_state_daily a360_metric_forecast_model_state_daily_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.a360_metric_forecast_model_state_daily
    ADD CONSTRAINT a360_metric_forecast_model_state_daily_pkey PRIMARY KEY (metric_id);


--
-- TOC entry 5178 (class 2606 OID 21799)
-- Name: acquirer acquirer_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.acquirer
    ADD CONSTRAINT acquirer_pkey PRIMARY KEY (id);


--
-- TOC entry 5314 (class 2606 OID 22157)
-- Name: addresses addresses_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.addresses
    ADD CONSTRAINT addresses_pkey PRIMARY KEY (id);


--
-- TOC entry 5539 (class 2606 OID 181225)
-- Name: admin_user_permission_overrides admin_user_permission_overrides_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_user_permission_overrides
    ADD CONSTRAINT admin_user_permission_overrides_pkey PRIMARY KEY (id);


--
-- TOC entry 5512 (class 2606 OID 181105)
-- Name: admin_user_roles admin_user_roles_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_user_roles
    ADD CONSTRAINT admin_user_roles_pkey PRIMARY KEY (id);


--
-- TOC entry 5488 (class 2606 OID 181024)
-- Name: admin_users admin_users_cognito_sub_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_users
    ADD CONSTRAINT admin_users_cognito_sub_key UNIQUE (cognito_sub);


--
-- TOC entry 5490 (class 2606 OID 181026)
-- Name: admin_users admin_users_email_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_users
    ADD CONSTRAINT admin_users_email_key UNIQUE (email);


--
-- TOC entry 5492 (class 2606 OID 200114)
-- Name: admin_users admin_users_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_users
    ADD CONSTRAINT admin_users_pkey PRIMARY KEY (id);


--
-- TOC entry 5183 (class 2606 OID 21801)
-- Name: api_key_audit_logs api_key_audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.api_key_audit_logs
    ADD CONSTRAINT api_key_audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5663 (class 2606 OID 201972)
-- Name: audit_logs audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.audit_logs
    ADD CONSTRAINT audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5188 (class 2606 OID 21803)
-- Name: checkout_audit_logs checkout_audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.checkout_audit_logs
    ADD CONSTRAINT checkout_audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5465 (class 2606 OID 165427)
-- Name: checkout_custom_configurations checkout_custom_configurations_client_id_config_name_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.checkout_custom_configurations
    ADD CONSTRAINT checkout_custom_configurations_client_id_config_name_key UNIQUE (client_id, config_name);


--
-- TOC entry 5467 (class 2606 OID 165425)
-- Name: checkout_custom_configurations checkout_custom_configurations_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.checkout_custom_configurations
    ADD CONSTRAINT checkout_custom_configurations_pkey PRIMARY KEY (id);


--
-- TOC entry 5194 (class 2606 OID 21805)
-- Name: checkouts checkouts_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.checkouts
    ADD CONSTRAINT checkouts_pkey PRIMARY KEY (id);


--
-- TOC entry 5199 (class 2606 OID 21807)
-- Name: client_api_keys client_api_keys_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_api_keys
    ADD CONSTRAINT client_api_keys_pkey PRIMARY KEY (client_id, api_key);


--
-- TOC entry 5389 (class 2606 OID 35429)
-- Name: client_api_keys_v2 client_api_keys_v2_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_api_keys_v2
    ADD CONSTRAINT client_api_keys_v2_pkey PRIMARY KEY (key_id);


--
-- TOC entry 5206 (class 2606 OID 21809)
-- Name: client_audit_logs client_audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_audit_logs
    ADD CONSTRAINT client_audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5354 (class 2606 OID 24677)
-- Name: client_configs client_configs_client_id_config_key_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_configs
    ADD CONSTRAINT client_configs_client_id_config_key_key UNIQUE (client_id, config_key);


--
-- TOC entry 5356 (class 2606 OID 24675)
-- Name: client_configs client_configs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_configs
    ADD CONSTRAINT client_configs_pkey PRIMARY KEY (id);


--
-- TOC entry 5409 (class 2606 OID 43763)
-- Name: client_custom_country_rules client_custom_country_rules_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_custom_country_rules
    ADD CONSTRAINT client_custom_country_rules_pkey PRIMARY KEY (id);


--
-- TOC entry 5454 (class 2606 OID 127269)
-- Name: client_descriptors client_descriptors_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_descriptors
    ADD CONSTRAINT client_descriptors_pkey PRIMARY KEY (id);


--
-- TOC entry 5405 (class 2606 OID 43719)
-- Name: client_force_3ds_bins client_force_3ds_bins_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_force_3ds_bins
    ADD CONSTRAINT client_force_3ds_bins_pkey PRIMARY KEY (id);


--
-- TOC entry 5407 (class 2606 OID 43740)
-- Name: client_force_3ds_countries client_force_3ds_countries_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_force_3ds_countries
    ADD CONSTRAINT client_force_3ds_countries_pkey PRIMARY KEY (id);


--
-- TOC entry 5586 (class 2606 OID 183383)
-- Name: client_payment_configs_audit client_payment_configs_audit_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_configs_audit
    ADD CONSTRAINT client_payment_configs_audit_pkey PRIMARY KEY (audit_id);


--
-- TOC entry 5566 (class 2606 OID 183319)
-- Name: client_payment_configs client_payment_configs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_configs
    ADD CONSTRAINT client_payment_configs_pkey PRIMARY KEY (id);


--
-- TOC entry 5581 (class 2606 OID 183369)
-- Name: client_payment_method_currencies_audit client_payment_method_currencies_audit_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_method_currencies_audit
    ADD CONSTRAINT client_payment_method_currencies_audit_pkey PRIMARY KEY (audit_id);


--
-- TOC entry 5560 (class 2606 OID 183292)
-- Name: client_payment_method_currencies client_payment_method_currencies_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_method_currencies
    ADD CONSTRAINT client_payment_method_currencies_pkey PRIMARY KEY (id);


--
-- TOC entry 5307 (class 2606 OID 22132)
-- Name: client_preferences_a360 client_preferences_a360_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_preferences_a360
    ADD CONSTRAINT client_preferences_a360_pkey PRIMARY KEY (client_id, dashboard_id);


--
-- TOC entry 5211 (class 2606 OID 21811)
-- Name: client_provider_audit_logs client_provider_audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_provider_audit_logs
    ADD CONSTRAINT client_provider_audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5214 (class 2606 OID 21813)
-- Name: client_provider_configs client_provider_configs_client_id_provider_id_config_key_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_provider_configs
    ADD CONSTRAINT client_provider_configs_client_id_provider_id_config_key_key UNIQUE (client_id, provider_id, config_key);


--
-- TOC entry 5217 (class 2606 OID 21815)
-- Name: client_provider_configs client_provider_configs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_provider_configs
    ADD CONSTRAINT client_provider_configs_pkey PRIMARY KEY (id);


--
-- TOC entry 5403 (class 2606 OID 43698)
-- Name: client_sca_config client_sca_config_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_sca_config
    ADD CONSTRAINT client_sca_config_pkey PRIMARY KEY (id);


--
-- TOC entry 5224 (class 2606 OID 21817)
-- Name: client_user_audit_logs client_user_audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_user_audit_logs
    ADD CONSTRAINT client_user_audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5536 (class 2606 OID 181201)
-- Name: client_user_permission_overrides client_user_permission_overrides_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_user_permission_overrides
    ADD CONSTRAINT client_user_permission_overrides_pkey PRIMARY KEY (id);


--
-- TOC entry 5507 (class 2606 OID 181072)
-- Name: client_user_roles client_user_roles_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_user_roles
    ADD CONSTRAINT client_user_roles_pkey PRIMARY KEY (id);


--
-- TOC entry 5478 (class 2606 OID 180992)
-- Name: client_users client_users_cognito_sub_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_users
    ADD CONSTRAINT client_users_cognito_sub_key UNIQUE (cognito_sub);


--
-- TOC entry 5480 (class 2606 OID 180994)
-- Name: client_users client_users_email_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_users
    ADD CONSTRAINT client_users_email_key UNIQUE (email);


--
-- TOC entry 5482 (class 2606 OID 195887)
-- Name: client_users client_users_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_users
    ADD CONSTRAINT client_users_pkey PRIMARY KEY (id);


--
-- TOC entry 5229 (class 2606 OID 21821)
-- Name: clients clients_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_pkey PRIMARY KEY (id);


--
-- TOC entry 5414 (class 2606 OID 49382)
-- Name: countries countries_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.countries
    ADD CONSTRAINT countries_pkey PRIMARY KEY (alpha2);


--
-- TOC entry 5235 (class 2606 OID 21823)
-- Name: credit_card_audit_logs credit_card_audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.credit_card_audit_logs
    ADD CONSTRAINT credit_card_audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5242 (class 2606 OID 21825)
-- Name: credit_cards credit_cards_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.credit_cards
    ADD CONSTRAINT credit_cards_pkey PRIMARY KEY (id);


--
-- TOC entry 5358 (class 2606 OID 25345)
-- Name: currencies currencies_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.currencies
    ADD CONSTRAINT currencies_pkey PRIMARY KEY (code);


--
-- TOC entry 5458 (class 2606 OID 127284)
-- Name: descriptor_rules descriptor_rules_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.descriptor_rules
    ADD CONSTRAINT descriptor_rules_pkey PRIMARY KEY (id);


--
-- TOC entry 5352 (class 2606 OID 22513)
-- Name: dispute_transactions_audit dispute_transactions_audit_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.dispute_transactions_audit
    ADD CONSTRAINT dispute_transactions_audit_pkey PRIMARY KEY (audit_id);


--
-- TOC entry 5341 (class 2606 OID 22495)
-- Name: dispute_transactions dispute_transactions_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.dispute_transactions
    ADD CONSTRAINT dispute_transactions_pkey PRIMARY KEY (id);


--
-- TOC entry 5343 (class 2606 OID 22497)
-- Name: dispute_transactions dispute_transactions_provider_dispute_reference_id_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.dispute_transactions
    ADD CONSTRAINT dispute_transactions_provider_dispute_reference_id_key UNIQUE (provider_dispute_reference_id);


--
-- TOC entry 5649 (class 2606 OID 201952)
-- Name: document_verifications document_verifications_document_id_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.document_verifications
    ADD CONSTRAINT document_verifications_document_id_key UNIQUE (document_id);


--
-- TOC entry 5651 (class 2606 OID 201950)
-- Name: document_verifications document_verifications_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.document_verifications
    ADD CONSTRAINT document_verifications_pkey PRIMARY KEY (id);


--
-- TOC entry 5636 (class 2606 OID 200369)
-- Name: email_campaigns email_campaigns_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.email_campaigns
    ADD CONSTRAINT email_campaigns_pkey PRIMARY KEY (id);


--
-- TOC entry 5643 (class 2606 OID 200597)
-- Name: email_insights email_insights_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.email_insights
    ADD CONSTRAINT email_insights_pkey PRIMARY KEY (id);


--
-- TOC entry 5391 (class 2606 OID 36104)
-- Name: employee_credentials employee_credentials_email_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.employee_credentials
    ADD CONSTRAINT employee_credentials_email_key UNIQUE (email);


--
-- TOC entry 5393 (class 2606 OID 36100)
-- Name: employee_credentials employee_credentials_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.employee_credentials
    ADD CONSTRAINT employee_credentials_pkey PRIMARY KEY (id);


--
-- TOC entry 5395 (class 2606 OID 36102)
-- Name: employee_credentials employee_credentials_username_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.employee_credentials
    ADD CONSTRAINT employee_credentials_username_key UNIQUE (username);


--
-- TOC entry 5323 (class 2606 OID 22247)
-- Name: exemption_details_metadata exemption_details_metadata_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.exemption_details_metadata
    ADD CONSTRAINT exemption_details_metadata_pkey PRIMARY KEY (exemption_key);


--
-- TOC entry 5452 (class 2606 OID 108323)
-- Name: faq_docs faq_docs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.faq_docs
    ADD CONSTRAINT faq_docs_pkey PRIMARY KEY (id);


--
-- TOC entry 5446 (class 2606 OID 93944)
-- Name: faqs faqs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.faqs
    ADD CONSTRAINT faqs_pkey PRIMARY KEY (id);


--
-- TOC entry 5448 (class 2606 OID 93946)
-- Name: faqs faqs_question_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.faqs
    ADD CONSTRAINT faqs_question_key UNIQUE (question);


--
-- TOC entry 5362 (class 2606 OID 25394)
-- Name: fx_rate_providers fx_rate_providers_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.fx_rate_providers
    ADD CONSTRAINT fx_rate_providers_pkey PRIMARY KEY (name);


--
-- TOC entry 5360 (class 2606 OID 25366)
-- Name: fx_rates_current fx_rates_current_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.fx_rates_current
    ADD CONSTRAINT fx_rates_current_pkey PRIMARY KEY (from_currency, to_currency);


--
-- TOC entry 5366 (class 2606 OID 26055)
-- Name: fx_rates_history fx_rates_history_from_currency_to_currency_effective_date_c_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.fx_rates_history
    ADD CONSTRAINT fx_rates_history_from_currency_to_currency_effective_date_c_key UNIQUE (from_currency, to_currency, effective_date, created_at);


--
-- TOC entry 5368 (class 2606 OID 26053)
-- Name: fx_rates_history fx_rates_history_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.fx_rates_history
    ADD CONSTRAINT fx_rates_history_pkey PRIMARY KEY (id);


--
-- TOC entry 5476 (class 2606 OID 180977)
-- Name: hubs hubs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.hubs
    ADD CONSTRAINT hubs_pkey PRIMARY KEY (id);


--
-- TOC entry 5461 (class 2606 OID 151524)
-- Name: images images_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.images
    ADD CONSTRAINT images_pkey PRIMARY KEY (id);


--
-- TOC entry 5463 (class 2606 OID 151526)
-- Name: images images_s3_location_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.images
    ADD CONSTRAINT images_s3_location_key UNIQUE (s3_location);


--
-- TOC entry 5246 (class 2606 OID 21827)
-- Name: industry_mcc_map industry_mcc_map_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.industry_mcc_map
    ADD CONSTRAINT industry_mcc_map_pkey PRIMARY KEY (id);


--
-- TOC entry 5474 (class 2606 OID 169918)
-- Name: job_listings job_listings_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.job_listings
    ADD CONSTRAINT job_listings_pkey PRIMARY KEY (id);


--
-- TOC entry 5418 (class 2606 OID 69682)
-- Name: languages languages_code_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.languages
    ADD CONSTRAINT languages_code_key UNIQUE (code);


--
-- TOC entry 5420 (class 2606 OID 69680)
-- Name: languages languages_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.languages
    ADD CONSTRAINT languages_pkey PRIMARY KEY (id);


--
-- TOC entry 5255 (class 2606 OID 21829)
-- Name: merchant_acquirer merchant_acquirer_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_acquirer
    ADD CONSTRAINT merchant_acquirer_pkey PRIMARY KEY (id);


--
-- TOC entry 5257 (class 2606 OID 21831)
-- Name: merchant_api_key merchant_api_key_key_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_api_key
    ADD CONSTRAINT merchant_api_key_key_key UNIQUE (key);


--
-- TOC entry 5259 (class 2606 OID 21833)
-- Name: merchant_api_key merchant_api_key_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_api_key
    ADD CONSTRAINT merchant_api_key_pkey PRIMARY KEY (id);


--
-- TOC entry 5249 (class 2606 OID 91686)
-- Name: merchant merchant_application_id_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant
    ADD CONSTRAINT merchant_application_id_key UNIQUE (application_id);


--
-- TOC entry 5261 (class 2606 OID 21835)
-- Name: merchant_bank_details merchant_bank_details_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_bank_details
    ADD CONSTRAINT merchant_bank_details_pkey PRIMARY KEY (id);


--
-- TOC entry 5263 (class 2606 OID 21837)
-- Name: merchant_document merchant_document_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_document
    ADD CONSTRAINT merchant_document_pkey PRIMARY KEY (id);


--
-- TOC entry 5251 (class 2606 OID 21839)
-- Name: merchant merchant_email_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant
    ADD CONSTRAINT merchant_email_key UNIQUE (email);


--
-- TOC entry 5253 (class 2606 OID 21841)
-- Name: merchant merchant_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant
    ADD CONSTRAINT merchant_pkey PRIMARY KEY (id);


--
-- TOC entry 5265 (class 2606 OID 21843)
-- Name: merchant_psc merchant_psc_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_psc
    ADD CONSTRAINT merchant_psc_pkey PRIMARY KEY (id);


--
-- TOC entry 5267 (class 2606 OID 21845)
-- Name: merchant_social_media merchant_social_media_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_social_media
    ADD CONSTRAINT merchant_social_media_pkey PRIMARY KEY (id);


--
-- TOC entry 5632 (class 2606 OID 200331)
-- Name: newsletter_subscriptions newsletter_subscriptions_email_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.newsletter_subscriptions
    ADD CONSTRAINT newsletter_subscriptions_email_key UNIQUE (email);


--
-- TOC entry 5634 (class 2606 OID 200329)
-- Name: newsletter_subscriptions newsletter_subscriptions_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.newsletter_subscriptions
    ADD CONSTRAINT newsletter_subscriptions_pkey PRIMARY KEY (id);


--
-- TOC entry 5269 (class 2606 OID 21847)
-- Name: onboarding_person onboarding_person_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.onboarding_person
    ADD CONSTRAINT onboarding_person_pkey PRIMARY KEY (id);


--
-- TOC entry 5271 (class 2606 OID 21849)
-- Name: onboarding_person onboarding_person_work_email_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.onboarding_person
    ADD CONSTRAINT onboarding_person_work_email_key UNIQUE (work_email);


--
-- TOC entry 5579 (class 2606 OID 183356)
-- Name: payment_method_country_currencies_audit payment_method_country_currencies_audit_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_method_country_currencies_audit
    ADD CONSTRAINT payment_method_country_currencies_audit_pkey PRIMARY KEY (audit_id);


--
-- TOC entry 5556 (class 2606 OID 183271)
-- Name: payment_method_country_currencies payment_method_country_currencies_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_method_country_currencies
    ADD CONSTRAINT payment_method_country_currencies_pkey PRIMARY KEY (id);


--
-- TOC entry 5575 (class 2606 OID 183345)
-- Name: payment_methods_audit payment_methods_audit_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_methods_audit
    ADD CONSTRAINT payment_methods_audit_pkey PRIMARY KEY (audit_id);


--
-- TOC entry 5550 (class 2606 OID 183258)
-- Name: payment_methods payment_methods_code_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_methods
    ADD CONSTRAINT payment_methods_code_key UNIQUE (code);


--
-- TOC entry 5552 (class 2606 OID 183256)
-- Name: payment_methods payment_methods_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_methods
    ADD CONSTRAINT payment_methods_pkey PRIMARY KEY (id);


--
-- TOC entry 5606 (class 2606 OID 188474)
-- Name: payment_provider_config_audit payment_provider_config_audit_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_provider_config_audit
    ADD CONSTRAINT payment_provider_config_audit_pkey PRIMARY KEY (audit_id);


--
-- TOC entry 5599 (class 2606 OID 188460)
-- Name: payment_provider_config payment_provider_config_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_provider_config
    ADD CONSTRAINT payment_provider_config_pkey PRIMARY KEY (id);


--
-- TOC entry 5273 (class 2606 OID 21851)
-- Name: payment_providers payment_providers_name_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_providers
    ADD CONSTRAINT payment_providers_name_key UNIQUE (name);


--
-- TOC entry 5275 (class 2606 OID 21853)
-- Name: payment_providers payment_providers_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_providers
    ADD CONSTRAINT payment_providers_pkey PRIMARY KEY (id);


--
-- TOC entry 5526 (class 2606 OID 181158)
-- Name: permissions permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.permissions
    ADD CONSTRAINT permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 5280 (class 2606 OID 21855)
-- Name: provider_audit_logs provider_audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_audit_logs
    ADD CONSTRAINT provider_audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5329 (class 2606 OID 22267)
-- Name: provider_exemption_config provider_exemption_config_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_exemption_config
    ADD CONSTRAINT provider_exemption_config_pkey PRIMARY KEY (exemption_config_id);


--
-- TOC entry 5337 (class 2606 OID 22447)
-- Name: provider_fees provider_fees_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_fees
    ADD CONSTRAINT provider_fees_pkey PRIMARY KEY (id);


--
-- TOC entry 5283 (class 2606 OID 21857)
-- Name: psc_document psc_document_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.psc_document
    ADD CONSTRAINT psc_document_pkey PRIMARY KEY (id);


--
-- TOC entry 5373 (class 2606 OID 177047)
-- Name: recon_internal_transactions recon_internal_transactions_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.recon_internal_transactions
    ADD CONSTRAINT recon_internal_transactions_pkey PRIMARY KEY (transaction_id);


--
-- TOC entry 5520 (class 2606 OID 181132)
-- Name: resources resources_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.resources
    ADD CONSTRAINT resources_pkey PRIMARY KEY (id);


--
-- TOC entry 5532 (class 2606 OID 181177)
-- Name: role_permissions role_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT role_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 5503 (class 2606 OID 181045)
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (id);


--
-- TOC entry 5444 (class 2606 OID 84839)
-- Name: states states_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.states
    ADD CONSTRAINT states_pkey PRIMARY KEY (id);


--
-- TOC entry 5364 (class 2606 OID 25904)
-- Name: supported_currencies supported_currencies_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.supported_currencies
    ADD CONSTRAINT supported_currencies_pkey PRIMARY KEY (currency_code);


--
-- TOC entry 5321 (class 2606 OID 22229)
-- Name: system_metadata_audit system_metadata_audit_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.system_metadata_audit
    ADD CONSTRAINT system_metadata_audit_pkey PRIMARY KEY (audit_id);


--
-- TOC entry 5317 (class 2606 OID 22217)
-- Name: system_metadata system_metadata_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.system_metadata
    ADD CONSTRAINT system_metadata_pkey PRIMARY KEY (id);


--
-- TOC entry 5623 (class 2606 OID 200232)
-- Name: ticket_comments ticket_comments_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.ticket_comments
    ADD CONSTRAINT ticket_comments_pkey PRIMARY KEY (id);


--
-- TOC entry 5617 (class 2606 OID 200208)
-- Name: ticket_files ticket_files_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.ticket_files
    ADD CONSTRAINT ticket_files_pkey PRIMARY KEY (id);


--
-- TOC entry 5613 (class 2606 OID 200188)
-- Name: tickets tickets_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.tickets
    ADD CONSTRAINT tickets_pkey PRIMARY KEY (id);


--
-- TOC entry 5450 (class 2606 OID 101579)
-- Name: token_ledger token_ledger_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.token_ledger
    ADD CONSTRAINT token_ledger_pkey PRIMARY KEY (ledger_id);


--
-- TOC entry 5401 (class 2606 OID 36792)
-- Name: transaction_3ds transaction_3ds_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_3ds
    ADD CONSTRAINT transaction_3ds_pkey PRIMARY KEY (id);


--
-- TOC entry 5397 (class 2606 OID 36707)
-- Name: transaction_additional_data transaction_additional_data_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_additional_data
    ADD CONSTRAINT transaction_additional_data_pkey PRIMARY KEY (transaction_id);


--
-- TOC entry 5290 (class 2606 OID 21859)
-- Name: transaction_audit_logs transaction_audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_audit_logs
    ADD CONSTRAINT transaction_audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5399 (class 2606 OID 36777)
-- Name: transaction_logs transaction_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_logs
    ADD CONSTRAINT transaction_logs_pkey PRIMARY KEY (log_id);


--
-- TOC entry 5297 (class 2606 OID 21866)
-- Name: transaction_metadata transaction_metadata_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_metadata
    ADD CONSTRAINT transaction_metadata_pkey PRIMARY KEY (id);


--
-- TOC entry 5285 (class 2606 OID 21870)
-- Name: transaction_bkp transaction_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_bkp
    ADD CONSTRAINT transaction_pkey PRIMARY KEY (id);


--
-- TOC entry 5305 (class 2606 OID 21872)
-- Name: transactions transactions_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transactions
    ADD CONSTRAINT transactions_pkey PRIMARY KEY (id);


--
-- TOC entry 5440 (class 2606 OID 69744)
-- Name: translation_history translation_history_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translation_history
    ADD CONSTRAINT translation_history_pkey PRIMARY KEY (id);


--
-- TOC entry 5424 (class 2606 OID 69700)
-- Name: translation_keys translation_keys_key_code_key; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translation_keys
    ADD CONSTRAINT translation_keys_key_code_key UNIQUE (key_code);


--
-- TOC entry 5426 (class 2606 OID 69698)
-- Name: translation_keys translation_keys_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translation_keys
    ADD CONSTRAINT translation_keys_pkey PRIMARY KEY (id);


--
-- TOC entry 5433 (class 2606 OID 69717)
-- Name: translations translations_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translations
    ADD CONSTRAINT translations_pkey PRIMARY KEY (id);


--
-- TOC entry 5571 (class 2606 OID 183321)
-- Name: client_payment_configs uk_client_payment_country; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_configs
    ADD CONSTRAINT uk_client_payment_country UNIQUE (client_id, payment_method_id, country_code);


--
-- TOC entry 5564 (class 2606 OID 183294)
-- Name: client_payment_method_currencies uk_client_payment_country_currency; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_method_currencies
    ADD CONSTRAINT uk_client_payment_country_currency UNIQUE (client_id, payment_method_id, country_code, currency_code);


--
-- TOC entry 5558 (class 2606 OID 183273)
-- Name: payment_method_country_currencies uk_payment_country_currency; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_method_country_currencies
    ADD CONSTRAINT uk_payment_country_currency UNIQUE (payment_method_id, country_code, currency_code);


--
-- TOC entry 5339 (class 2606 OID 25329)
-- Name: provider_fees unique_active_client_acquirer; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_fees
    ADD CONSTRAINT unique_active_client_acquirer UNIQUE (client_id, provider_id, effective_from);


--
-- TOC entry 5331 (class 2606 OID 33256)
-- Name: provider_exemption_config unique_provider_exemption; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_exemption_config
    ADD CONSTRAINT unique_provider_exemption UNIQUE (provider_id, exemption_key, client_id);


--
-- TOC entry 5528 (class 2606 OID 181160)
-- Name: permissions unique_resource_action; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.permissions
    ADD CONSTRAINT unique_resource_action UNIQUE (resource_id, action);


--
-- TOC entry 5522 (class 2606 OID 181134)
-- Name: resources unique_resource_per_hub; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.resources
    ADD CONSTRAINT unique_resource_per_hub UNIQUE (hub_id, name);


--
-- TOC entry 5505 (class 2606 OID 181047)
-- Name: roles unique_role_per_hub_scope; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT unique_role_per_hub_scope UNIQUE (hub_id, name, client_id);


--
-- TOC entry 5534 (class 2606 OID 181179)
-- Name: role_permissions unique_role_permission; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT unique_role_permission UNIQUE (role_id, permission_id);


--
-- TOC entry 5411 (class 2606 OID 92121)
-- Name: recon_staging_raw_transactions unique_transaction_id; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.recon_staging_raw_transactions
    ADD CONSTRAINT unique_transaction_id UNIQUE (transaction_id);


--
-- TOC entry 5435 (class 2606 OID 69719)
-- Name: translations unique_translation_per_language; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translations
    ADD CONSTRAINT unique_translation_per_language UNIQUE (translation_key_id, language_id);


--
-- TOC entry 5350 (class 2606 OID 22570)
-- Name: dispute_transactions unique_txn_provider_dispute; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.dispute_transactions
    ADD CONSTRAINT unique_txn_provider_dispute UNIQUE (transaction_id, provider_reference_id, dispute_type);


--
-- TOC entry 5310 (class 2606 OID 22145)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 5312 (class 2606 OID 30722)
-- Name: users users_unique_client_email_user; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_unique_client_email_user UNIQUE (client_id, email, client_user_id);


--
-- TOC entry 5382 (class 2606 OID 30589)
-- Name: webhook_deliveries webhook_deliveries_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_deliveries
    ADD CONSTRAINT webhook_deliveries_pkey PRIMARY KEY (id);


--
-- TOC entry 5387 (class 2606 OID 31213)
-- Name: webhook_delivery_audit_logs webhook_delivery_audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_delivery_audit_logs
    ADD CONSTRAINT webhook_delivery_audit_logs_pkey PRIMARY KEY (id);


--
-- TOC entry 5377 (class 2606 OID 30567)
-- Name: webhook_endpoints webhook_endpoints_pkey; Type: CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_endpoints
    ADD CONSTRAINT webhook_endpoints_pkey PRIMARY KEY (id);


--
-- TOC entry 5543 (class 1259 OID 181271)
-- Name: idx_audit_denied; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_denied ON ONLY public.access_audit_log USING btree (access_granted, "timestamp" DESC) WHERE (access_granted = false);


--
-- TOC entry 5590 (class 1259 OID 187949)
-- Name: access_audit_log_2025_11_access_granted_timestamp_idx; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX access_audit_log_2025_11_access_granted_timestamp_idx ON public.access_audit_log_2025_11 USING btree (access_granted, "timestamp" DESC) WHERE (access_granted = false);


--
-- TOC entry 5541 (class 1259 OID 181270)
-- Name: idx_audit_client; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_client ON ONLY public.access_audit_log USING btree (client_id, "timestamp" DESC) WHERE (client_id IS NOT NULL);


--
-- TOC entry 5591 (class 1259 OID 187948)
-- Name: access_audit_log_2025_11_client_id_timestamp_idx; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX access_audit_log_2025_11_client_id_timestamp_idx ON public.access_audit_log_2025_11 USING btree (client_id, "timestamp" DESC) WHERE (client_id IS NOT NULL);


--
-- TOC entry 5542 (class 1259 OID 195900)
-- Name: idx_audit_client_user; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_client_user ON ONLY public.access_audit_log USING btree (client_user_id, "timestamp" DESC) WHERE (client_user_id IS NOT NULL);


--
-- TOC entry 5592 (class 1259 OID 195901)
-- Name: access_audit_log_2025_11_client_user_id_timestamp_idx; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX access_audit_log_2025_11_client_user_id_timestamp_idx ON public.access_audit_log_2025_11 USING btree (client_user_id, "timestamp" DESC) WHERE (client_user_id IS NOT NULL);


--
-- TOC entry 5544 (class 1259 OID 181269)
-- Name: idx_audit_hub; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_hub ON ONLY public.access_audit_log USING btree (hub_id, "timestamp" DESC);


--
-- TOC entry 5593 (class 1259 OID 187947)
-- Name: access_audit_log_2025_11_hub_id_timestamp_idx; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX access_audit_log_2025_11_hub_id_timestamp_idx ON public.access_audit_log_2025_11 USING btree (hub_id, "timestamp" DESC);


--
-- TOC entry 5545 (class 1259 OID 181266)
-- Name: idx_audit_timestamp; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_timestamp ON ONLY public.access_audit_log USING btree ("timestamp" DESC);


--
-- TOC entry 5594 (class 1259 OID 187944)
-- Name: access_audit_log_2025_11_timestamp_idx; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX access_audit_log_2025_11_timestamp_idx ON public.access_audit_log_2025_11 USING btree ("timestamp" DESC);


--
-- TOC entry 5179 (class 1259 OID 21879)
-- Name: api_key_audit_logs_action; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX api_key_audit_logs_action ON public.api_key_audit_logs USING btree (action);


--
-- TOC entry 5180 (class 1259 OID 21880)
-- Name: api_key_audit_logs_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX api_key_audit_logs_client_id ON public.api_key_audit_logs USING btree (client_id);


--
-- TOC entry 5181 (class 1259 OID 21881)
-- Name: api_key_audit_logs_performed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX api_key_audit_logs_performed_at ON public.api_key_audit_logs USING btree (performed_at DESC);


--
-- TOC entry 5384 (class 1259 OID 31215)
-- Name: audit_logs_attempt_number; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX audit_logs_attempt_number ON public.webhook_delivery_audit_logs USING btree (delivery_id, attempt_number);


--
-- TOC entry 5385 (class 1259 OID 31214)
-- Name: audit_logs_delivery_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX audit_logs_delivery_id ON public.webhook_delivery_audit_logs USING btree (delivery_id);


--
-- TOC entry 5184 (class 1259 OID 21882)
-- Name: checkout_audit_logs_action; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX checkout_audit_logs_action ON public.checkout_audit_logs USING btree (action);


--
-- TOC entry 5185 (class 1259 OID 21883)
-- Name: checkout_audit_logs_checkout_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX checkout_audit_logs_checkout_id ON public.checkout_audit_logs USING btree (checkout_id);


--
-- TOC entry 5186 (class 1259 OID 21884)
-- Name: checkout_audit_logs_performed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX checkout_audit_logs_performed_at ON public.checkout_audit_logs USING btree (performed_at DESC);


--
-- TOC entry 5189 (class 1259 OID 21885)
-- Name: checkouts_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX checkouts_client_id ON public.checkouts USING btree (client_id);


--
-- TOC entry 5190 (class 1259 OID 21886)
-- Name: checkouts_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX checkouts_created_at ON public.checkouts USING btree (created_at);


--
-- TOC entry 5191 (class 1259 OID 21887)
-- Name: checkouts_expires_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX checkouts_expires_at ON public.checkouts USING btree (expires_at);


--
-- TOC entry 5192 (class 1259 OID 21888)
-- Name: checkouts_merchant_order; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX checkouts_merchant_order ON public.checkouts USING btree (client_id, merchant_order_id);


--
-- TOC entry 5195 (class 1259 OID 21889)
-- Name: checkouts_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX checkouts_status ON public.checkouts USING btree (status);


--
-- TOC entry 5196 (class 1259 OID 21890)
-- Name: checkouts_user_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX checkouts_user_id ON public.checkouts USING btree (user_id);


--
-- TOC entry 5197 (class 1259 OID 21891)
-- Name: client_api_keys_expires_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_api_keys_expires_at ON public.client_api_keys USING btree (expires_at);


--
-- TOC entry 5201 (class 1259 OID 21892)
-- Name: client_audit_logs_action; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_audit_logs_action ON public.client_audit_logs USING btree (action);


--
-- TOC entry 5202 (class 1259 OID 21893)
-- Name: client_audit_logs_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_audit_logs_client_id ON public.client_audit_logs USING btree (client_id);


--
-- TOC entry 5203 (class 1259 OID 21894)
-- Name: client_audit_logs_performed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_audit_logs_performed_at ON public.client_audit_logs USING btree (performed_at DESC);


--
-- TOC entry 5204 (class 1259 OID 21895)
-- Name: client_audit_logs_performed_by; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_audit_logs_performed_by ON public.client_audit_logs USING btree (performed_by);


--
-- TOC entry 5207 (class 1259 OID 21896)
-- Name: client_provider_audit_logs_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_provider_audit_logs_client_id ON public.client_provider_audit_logs USING btree (client_id);


--
-- TOC entry 5208 (class 1259 OID 21897)
-- Name: client_provider_audit_logs_config_key; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_provider_audit_logs_config_key ON public.client_provider_audit_logs USING btree (config_key);


--
-- TOC entry 5209 (class 1259 OID 21898)
-- Name: client_provider_audit_logs_performed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_provider_audit_logs_performed_at ON public.client_provider_audit_logs USING btree (performed_at DESC);


--
-- TOC entry 5212 (class 1259 OID 21899)
-- Name: client_provider_audit_logs_provider_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_provider_audit_logs_provider_id ON public.client_provider_audit_logs USING btree (provider_id);


--
-- TOC entry 5215 (class 1259 OID 21900)
-- Name: client_provider_configs_client_provider; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_provider_configs_client_provider ON public.client_provider_configs USING btree (client_id, provider_id);


--
-- TOC entry 5218 (class 1259 OID 21901)
-- Name: client_user_audit_logs_action; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_user_audit_logs_action ON public.client_user_audit_logs USING btree (action);


--
-- TOC entry 5219 (class 1259 OID 21902)
-- Name: client_user_audit_logs_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_user_audit_logs_client_id ON public.client_user_audit_logs USING btree (client_id);


--
-- TOC entry 5220 (class 1259 OID 21903)
-- Name: client_user_audit_logs_failed_logins; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_user_audit_logs_failed_logins ON public.client_user_audit_logs USING btree (client_user_id, action, login_result) WHERE (((action)::text = 'LOGIN'::text) AND ((login_result)::text = 'FAILED'::text));


--
-- TOC entry 5221 (class 1259 OID 21904)
-- Name: client_user_audit_logs_login_result; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_user_audit_logs_login_result ON public.client_user_audit_logs USING btree (login_result);


--
-- TOC entry 5222 (class 1259 OID 21905)
-- Name: client_user_audit_logs_performed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_user_audit_logs_performed_at ON public.client_user_audit_logs USING btree (performed_at DESC);


--
-- TOC entry 5225 (class 1259 OID 21906)
-- Name: client_user_audit_logs_risk_level; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_user_audit_logs_risk_level ON public.client_user_audit_logs USING btree (risk_level);


--
-- TOC entry 5226 (class 1259 OID 21907)
-- Name: client_user_audit_logs_user_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX client_user_audit_logs_user_id ON public.client_user_audit_logs USING btree (client_user_id);


--
-- TOC entry 5200 (class 1259 OID 21918)
-- Name: clients_api_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX clients_api_id ON public.client_api_keys USING btree (client_id);


--
-- TOC entry 5227 (class 1259 OID 21919)
-- Name: clients_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX clients_created_at ON public.clients USING btree (created_at);


--
-- TOC entry 5230 (class 1259 OID 21920)
-- Name: clients_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX clients_status ON public.clients USING btree (status);


--
-- TOC entry 5231 (class 1259 OID 21921)
-- Name: credit_card_audit_logs_card_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX credit_card_audit_logs_card_id ON public.credit_card_audit_logs USING btree (credit_card_id);


--
-- TOC entry 5232 (class 1259 OID 21922)
-- Name: credit_card_audit_logs_event_type; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX credit_card_audit_logs_event_type ON public.credit_card_audit_logs USING btree (event_type);


--
-- TOC entry 5233 (class 1259 OID 21923)
-- Name: credit_card_audit_logs_performed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX credit_card_audit_logs_performed_at ON public.credit_card_audit_logs USING btree (performed_at DESC);


--
-- TOC entry 5236 (class 1259 OID 21924)
-- Name: credit_card_audit_logs_user_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX credit_card_audit_logs_user_id ON public.credit_card_audit_logs USING btree (user_id);


--
-- TOC entry 5237 (class 1259 OID 21925)
-- Name: credit_cards_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX credit_cards_client_id ON public.credit_cards USING btree (client_id);


--
-- TOC entry 5238 (class 1259 OID 21926)
-- Name: credit_cards_expiry; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX credit_cards_expiry ON public.credit_cards USING btree (expiry_year, expiry_month);


--
-- TOC entry 5239 (class 1259 OID 21927)
-- Name: credit_cards_is_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX credit_cards_is_active ON public.credit_cards USING btree (is_active);


--
-- TOC entry 5240 (class 1259 OID 21928)
-- Name: credit_cards_last_four; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX credit_cards_last_four ON public.credit_cards USING btree (last_four);


--
-- TOC entry 5243 (class 1259 OID 22526)
-- Name: credit_cards_unique_fingerprint_user; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE UNIQUE INDEX credit_cards_unique_fingerprint_user ON public.credit_cards USING btree (fingerprint, user_id);


--
-- TOC entry 5244 (class 1259 OID 21929)
-- Name: credit_cards_user_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX credit_cards_user_id ON public.credit_cards USING btree (user_id);


--
-- TOC entry 5332 (class 1259 OID 25330)
-- Name: idx_acquirer_fees_acquirer_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_acquirer_fees_acquirer_id ON public.provider_fees USING btree (provider_id);


--
-- TOC entry 5333 (class 1259 OID 25331)
-- Name: idx_acquirer_fees_client_acquirer; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_acquirer_fees_client_acquirer ON public.provider_fees USING btree (client_id, provider_id);


--
-- TOC entry 5334 (class 1259 OID 22455)
-- Name: idx_acquirer_fees_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_acquirer_fees_client_id ON public.provider_fees USING btree (client_id);


--
-- TOC entry 5335 (class 1259 OID 22457)
-- Name: idx_acquirer_fees_effective_dates; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_acquirer_fees_effective_dates ON public.provider_fees USING btree (effective_from, effective_to);


--
-- TOC entry 5540 (class 1259 OID 181239)
-- Name: idx_admin_overrides_expires; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_admin_overrides_expires ON public.admin_user_permission_overrides USING btree (expires_at) WHERE (expires_at IS NOT NULL);


--
-- TOC entry 5513 (class 1259 OID 181121)
-- Name: idx_admin_user_roles_expires; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_admin_user_roles_expires ON public.admin_user_roles USING btree (expires_at) WHERE (expires_at IS NOT NULL);


--
-- TOC entry 5514 (class 1259 OID 181119)
-- Name: idx_admin_user_roles_role; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_admin_user_roles_role ON public.admin_user_roles USING btree (role_id);


--
-- TOC entry 5493 (class 1259 OID 181028)
-- Name: idx_admin_users_cognito; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_admin_users_cognito ON public.admin_users USING btree (cognito_sub);


--
-- TOC entry 5494 (class 1259 OID 181030)
-- Name: idx_admin_users_dept; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_admin_users_dept ON public.admin_users USING btree (department);


--
-- TOC entry 5495 (class 1259 OID 181029)
-- Name: idx_admin_users_email; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_admin_users_email ON public.admin_users USING btree (email);


--
-- TOC entry 5496 (class 1259 OID 181027)
-- Name: idx_admin_users_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_admin_users_status ON public.admin_users USING btree (status) WHERE ((status)::text = 'ACTIVE'::text);


--
-- TOC entry 5497 (class 1259 OID 181031)
-- Name: idx_admin_users_super; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_admin_users_super ON public.admin_users USING btree (is_super_admin) WHERE (is_super_admin = true);


--
-- TOC entry 5600 (class 1259 OID 188475)
-- Name: idx_audit_config_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_config_id ON public.payment_provider_config_audit USING btree (config_id);


--
-- TOC entry 5664 (class 1259 OID 201980)
-- Name: idx_audit_logs_action; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_logs_action ON public.audit_logs USING btree (action);


--
-- TOC entry 5665 (class 1259 OID 201979)
-- Name: idx_audit_logs_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_logs_created_at ON public.audit_logs USING btree (created_at DESC);


--
-- TOC entry 5666 (class 1259 OID 201978)
-- Name: idx_audit_logs_document_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_logs_document_id ON public.audit_logs USING btree (document_id);


--
-- TOC entry 5667 (class 1259 OID 201981)
-- Name: idx_audit_logs_user_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_logs_user_id ON public.audit_logs USING btree (user_id);


--
-- TOC entry 5601 (class 1259 OID 188477)
-- Name: idx_audit_modified_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_modified_at ON public.payment_provider_config_audit USING btree (modified_at DESC);


--
-- TOC entry 5602 (class 1259 OID 188478)
-- Name: idx_audit_modified_by; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_modified_by ON public.payment_provider_config_audit USING btree (modified_by);


--
-- TOC entry 5603 (class 1259 OID 188479)
-- Name: idx_audit_operation; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_operation ON public.payment_provider_config_audit USING btree (operation_type);


--
-- TOC entry 5604 (class 1259 OID 188476)
-- Name: idx_audit_provider; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_audit_provider ON public.payment_provider_config_audit USING btree (provider_name, property_name);


--
-- TOC entry 5468 (class 1259 OID 165434)
-- Name: idx_checkout_custom_config_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_checkout_custom_config_active ON public.checkout_custom_configurations USING btree (client_id, is_active);


--
-- TOC entry 5469 (class 1259 OID 165433)
-- Name: idx_checkout_custom_config_client; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_checkout_custom_config_client ON public.checkout_custom_configurations USING btree (client_id);


--
-- TOC entry 5470 (class 1259 OID 165435)
-- Name: idx_checkout_custom_config_colors; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_checkout_custom_config_colors ON public.checkout_custom_configurations USING gin (colors);


--
-- TOC entry 5471 (class 1259 OID 165436)
-- Name: idx_checkout_custom_config_fonts; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_checkout_custom_config_fonts ON public.checkout_custom_configurations USING gin (fonts);


--
-- TOC entry 5472 (class 1259 OID 165437)
-- Name: idx_checkout_custom_config_layout; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_checkout_custom_config_layout ON public.checkout_custom_configurations USING gin (layout);


--
-- TOC entry 5455 (class 1259 OID 127285)
-- Name: idx_client_descriptors_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_descriptors_client_id ON public.client_descriptors USING btree (client_id);


--
-- TOC entry 5456 (class 1259 OID 127286)
-- Name: idx_client_descriptors_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_descriptors_created_at ON public.client_descriptors USING btree (created_at);


--
-- TOC entry 5537 (class 1259 OID 181215)
-- Name: idx_client_overrides_expires; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_overrides_expires ON public.client_user_permission_overrides USING btree (expires_at) WHERE (expires_at IS NOT NULL);


--
-- TOC entry 5567 (class 1259 OID 183332)
-- Name: idx_client_payment_country; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_payment_country ON public.client_payment_configs USING btree (client_id, country_code);


--
-- TOC entry 5568 (class 1259 OID 183334)
-- Name: idx_client_payment_display_order; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_payment_display_order ON public.client_payment_configs USING btree (client_id, country_code, display_order);


--
-- TOC entry 5569 (class 1259 OID 183333)
-- Name: idx_client_payment_enabled; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_payment_enabled ON public.client_payment_configs USING btree (client_id, is_enabled);


--
-- TOC entry 5561 (class 1259 OID 183305)
-- Name: idx_client_pm_currency; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_pm_currency ON public.client_payment_method_currencies USING btree (client_id, payment_method_id, country_code);


--
-- TOC entry 5562 (class 1259 OID 183306)
-- Name: idx_client_pm_currency_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_pm_currency_active ON public.client_payment_method_currencies USING btree (client_id, is_active);


--
-- TOC entry 5508 (class 1259 OID 181092)
-- Name: idx_client_user_roles_client; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_user_roles_client ON public.client_user_roles USING btree (client_id);


--
-- TOC entry 5509 (class 1259 OID 181094)
-- Name: idx_client_user_roles_expires; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_user_roles_expires ON public.client_user_roles USING btree (expires_at) WHERE (expires_at IS NOT NULL);


--
-- TOC entry 5510 (class 1259 OID 181091)
-- Name: idx_client_user_roles_role; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_user_roles_role ON public.client_user_roles USING btree (role_id);


--
-- TOC entry 5483 (class 1259 OID 181005)
-- Name: idx_client_users_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_users_client_id ON public.client_users USING btree (client_id);


--
-- TOC entry 5484 (class 1259 OID 181007)
-- Name: idx_client_users_cognito; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_users_cognito ON public.client_users USING btree (cognito_sub);


--
-- TOC entry 5485 (class 1259 OID 181008)
-- Name: idx_client_users_email; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_users_email ON public.client_users USING btree (email);


--
-- TOC entry 5486 (class 1259 OID 181006)
-- Name: idx_client_users_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_client_users_status ON public.client_users USING btree (status) WHERE ((status)::text = 'ACTIVE'::text);


--
-- TOC entry 5587 (class 1259 OID 183386)
-- Name: idx_cpc_audit_changed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_cpc_audit_changed_at ON public.client_payment_configs_audit USING btree (changed_at);


--
-- TOC entry 5588 (class 1259 OID 183385)
-- Name: idx_cpc_audit_client; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_cpc_audit_client ON public.client_payment_configs_audit USING btree (client_id);


--
-- TOC entry 5589 (class 1259 OID 183384)
-- Name: idx_cpc_audit_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_cpc_audit_id ON public.client_payment_configs_audit USING btree (id);


--
-- TOC entry 5582 (class 1259 OID 183372)
-- Name: idx_cpmc_audit_changed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_cpmc_audit_changed_at ON public.client_payment_method_currencies_audit USING btree (changed_at);


--
-- TOC entry 5583 (class 1259 OID 183371)
-- Name: idx_cpmc_audit_client; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_cpmc_audit_client ON public.client_payment_method_currencies_audit USING btree (client_id);


--
-- TOC entry 5584 (class 1259 OID 183370)
-- Name: idx_cpmc_audit_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_cpmc_audit_id ON public.client_payment_method_currencies_audit USING btree (id);


--
-- TOC entry 5459 (class 1259 OID 127287)
-- Name: idx_descriptor_rules_max_length; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_descriptor_rules_max_length ON public.descriptor_rules USING btree (max_length);


--
-- TOC entry 5344 (class 1259 OID 22502)
-- Name: idx_dispute_transactions_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_dispute_transactions_client_id ON public.dispute_transactions USING btree (client_id);


--
-- TOC entry 5345 (class 1259 OID 24935)
-- Name: idx_dispute_transactions_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_dispute_transactions_created_at ON public.dispute_transactions USING btree (event_date);


--
-- TOC entry 5346 (class 1259 OID 22500)
-- Name: idx_dispute_transactions_dispute_type; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_dispute_transactions_dispute_type ON public.dispute_transactions USING btree (dispute_type);


--
-- TOC entry 5347 (class 1259 OID 22499)
-- Name: idx_dispute_transactions_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_dispute_transactions_status ON public.dispute_transactions USING btree (status);


--
-- TOC entry 5348 (class 1259 OID 22498)
-- Name: idx_dispute_transactions_transaction_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_dispute_transactions_transaction_id ON public.dispute_transactions USING btree (transaction_id);


--
-- TOC entry 5652 (class 1259 OID 201960)
-- Name: idx_document_verifications_companies_house_data; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_companies_house_data ON public.document_verifications USING gin (companies_house_data);


--
-- TOC entry 5653 (class 1259 OID 201958)
-- Name: idx_document_verifications_company_number; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_company_number ON public.document_verifications USING btree (ocr_company_number);


--
-- TOC entry 5654 (class 1259 OID 201955)
-- Name: idx_document_verifications_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_created_at ON public.document_verifications USING btree (created_at DESC);


--
-- TOC entry 5655 (class 1259 OID 201957)
-- Name: idx_document_verifications_decision; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_decision ON public.document_verifications USING btree (decision);


--
-- TOC entry 5656 (class 1259 OID 201953)
-- Name: idx_document_verifications_document_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_document_id ON public.document_verifications USING btree (document_id);


--
-- TOC entry 5657 (class 1259 OID 201956)
-- Name: idx_document_verifications_final_score; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_final_score ON public.document_verifications USING btree (final_score);


--
-- TOC entry 5658 (class 1259 OID 201962)
-- Name: idx_document_verifications_flags; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_flags ON public.document_verifications USING gin (flags);


--
-- TOC entry 5659 (class 1259 OID 201961)
-- Name: idx_document_verifications_forensic_details; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_forensic_details ON public.document_verifications USING gin (forensic_details);


--
-- TOC entry 5660 (class 1259 OID 201959)
-- Name: idx_document_verifications_merchant_company_number; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_merchant_company_number ON public.document_verifications USING btree (merchant_company_number);


--
-- TOC entry 5661 (class 1259 OID 201954)
-- Name: idx_document_verifications_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_document_verifications_status ON public.document_verifications USING btree (status);


--
-- TOC entry 5637 (class 1259 OID 200384)
-- Name: idx_email_campaigns_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_email_campaigns_created_at ON public.email_campaigns USING btree (created_at DESC);


--
-- TOC entry 5638 (class 1259 OID 200382)
-- Name: idx_email_campaigns_scheduled; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_email_campaigns_scheduled ON public.email_campaigns USING btree (scheduled_for) WHERE ((status)::text = ('SCHEDULED'::character varying)::text);


--
-- TOC entry 5639 (class 1259 OID 200383)
-- Name: idx_email_campaigns_sent_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_email_campaigns_sent_at ON public.email_campaigns USING btree (sent_at DESC);


--
-- TOC entry 5640 (class 1259 OID 200381)
-- Name: idx_email_campaigns_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_email_campaigns_status ON public.email_campaigns USING btree (status);


--
-- TOC entry 5641 (class 1259 OID 200380)
-- Name: idx_email_campaigns_type; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_email_campaigns_type ON public.email_campaigns USING btree (campaign_type);


--
-- TOC entry 5644 (class 1259 OID 200603)
-- Name: idx_email_insights_client_user_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_email_insights_client_user_id ON public.email_insights USING btree (client_user_id);


--
-- TOC entry 5645 (class 1259 OID 200605)
-- Name: idx_email_insights_client_user_receive; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_email_insights_client_user_receive ON public.email_insights USING btree (client_user_id, receive_emails);


--
-- TOC entry 5646 (class 1259 OID 200604)
-- Name: idx_email_insights_receive_emails; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_email_insights_receive_emails ON public.email_insights USING btree (receive_emails) WHERE (receive_emails = true);


--
-- TOC entry 5647 (class 1259 OID 200606)
-- Name: idx_email_insights_unique_user; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE UNIQUE INDEX idx_email_insights_unique_user ON public.email_insights USING btree (client_user_id);


--
-- TOC entry 5315 (class 1259 OID 22218)
-- Name: idx_entity_property; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_entity_property ON public.system_metadata USING btree (property_name);


--
-- TOC entry 5318 (class 1259 OID 22236)
-- Name: idx_entity_property_audit; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_entity_property_audit ON public.system_metadata_audit USING btree (property_name);


--
-- TOC entry 5324 (class 1259 OID 22276)
-- Name: idx_exemption_key; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_exemption_key ON public.provider_exemption_config USING btree (exemption_key);


--
-- TOC entry 5325 (class 1259 OID 22277)
-- Name: idx_is_enabled; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_is_enabled ON public.provider_exemption_config USING btree (is_enabled);


--
-- TOC entry 5415 (class 1259 OID 69684)
-- Name: idx_languages_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_languages_active ON public.languages USING btree (active) WHERE (active = true);


--
-- TOC entry 5416 (class 1259 OID 69683)
-- Name: idx_languages_code; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_languages_code ON public.languages USING btree (code);


--
-- TOC entry 5247 (class 1259 OID 91687)
-- Name: idx_merchant_application_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_merchant_application_id ON public.merchant USING btree (application_id);


--
-- TOC entry 5319 (class 1259 OID 22235)
-- Name: idx_metadata_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_metadata_id ON public.system_metadata_audit USING btree (metadata_id);


--
-- TOC entry 5624 (class 1259 OID 200348)
-- Name: idx_newsletter_subscriptions_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_newsletter_subscriptions_active ON public.newsletter_subscriptions USING btree (status, subscription_type) WHERE ((status)::text = ('ACTIVE'::character varying)::text);


--
-- TOC entry 5625 (class 1259 OID 200342)
-- Name: idx_newsletter_subscriptions_email; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_newsletter_subscriptions_email ON public.newsletter_subscriptions USING btree (email);


--
-- TOC entry 5626 (class 1259 OID 200346)
-- Name: idx_newsletter_subscriptions_internal; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_newsletter_subscriptions_internal ON public.newsletter_subscriptions USING btree (is_internal) WHERE (is_internal = true);


--
-- TOC entry 5627 (class 1259 OID 200345)
-- Name: idx_newsletter_subscriptions_source; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_newsletter_subscriptions_source ON public.newsletter_subscriptions USING btree (source);


--
-- TOC entry 5628 (class 1259 OID 200343)
-- Name: idx_newsletter_subscriptions_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_newsletter_subscriptions_status ON public.newsletter_subscriptions USING btree (status);


--
-- TOC entry 5629 (class 1259 OID 200347)
-- Name: idx_newsletter_subscriptions_subscribed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_newsletter_subscriptions_subscribed_at ON public.newsletter_subscriptions USING btree (subscribed_at DESC);


--
-- TOC entry 5630 (class 1259 OID 200344)
-- Name: idx_newsletter_subscriptions_type; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_newsletter_subscriptions_type ON public.newsletter_subscriptions USING btree (subscription_type);


--
-- TOC entry 5546 (class 1259 OID 183261)
-- Name: idx_payment_methods_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_payment_methods_active ON public.payment_methods USING btree (is_active);


--
-- TOC entry 5547 (class 1259 OID 183259)
-- Name: idx_payment_methods_code; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_payment_methods_code ON public.payment_methods USING btree (code);


--
-- TOC entry 5548 (class 1259 OID 183260)
-- Name: idx_payment_methods_type; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_payment_methods_type ON public.payment_methods USING btree (payment_type);


--
-- TOC entry 5523 (class 1259 OID 181166)
-- Name: idx_permissions_resource; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_permissions_resource ON public.permissions USING btree (resource_id);


--
-- TOC entry 5524 (class 1259 OID 181167)
-- Name: idx_permissions_sensitive; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_permissions_sensitive ON public.permissions USING btree (is_sensitive) WHERE (is_sensitive = true);


--
-- TOC entry 5572 (class 1259 OID 183347)
-- Name: idx_pm_audit_changed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_pm_audit_changed_at ON public.payment_methods_audit USING btree (changed_at);


--
-- TOC entry 5573 (class 1259 OID 183346)
-- Name: idx_pm_audit_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_pm_audit_id ON public.payment_methods_audit USING btree (id);


--
-- TOC entry 5553 (class 1259 OID 183279)
-- Name: idx_pm_country_currency; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_pm_country_currency ON public.payment_method_country_currencies USING btree (payment_method_id, country_code);


--
-- TOC entry 5554 (class 1259 OID 183280)
-- Name: idx_pm_country_currency_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_pm_country_currency_active ON public.payment_method_country_currencies USING btree (country_code, currency_code, is_active);


--
-- TOC entry 5576 (class 1259 OID 183358)
-- Name: idx_pmcc_audit_changed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_pmcc_audit_changed_at ON public.payment_method_country_currencies_audit USING btree (changed_at);


--
-- TOC entry 5577 (class 1259 OID 183357)
-- Name: idx_pmcc_audit_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_pmcc_audit_id ON public.payment_method_country_currencies_audit USING btree (id);


--
-- TOC entry 5326 (class 1259 OID 22275)
-- Name: idx_provider; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_provider ON public.provider_exemption_config USING btree (provider_id);


--
-- TOC entry 5595 (class 1259 OID 188462)
-- Name: idx_provider_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_provider_active ON public.payment_provider_config USING btree (provider_name, is_active);


--
-- TOC entry 5327 (class 1259 OID 24997)
-- Name: idx_provider_client; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_provider_client ON public.provider_exemption_config USING btree (provider_id, client_id);


--
-- TOC entry 5596 (class 1259 OID 188461)
-- Name: idx_provider_property; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_provider_property ON public.payment_provider_config USING btree (provider_name, property_name, is_active);


--
-- TOC entry 5369 (class 1259 OID 47351)
-- Name: idx_recon_internal_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_recon_internal_client_id ON public.recon_internal_transactions USING btree (client_id);


--
-- TOC entry 5370 (class 1259 OID 47352)
-- Name: idx_recon_internal_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_recon_internal_status ON public.recon_internal_transactions USING btree (recon_status);


--
-- TOC entry 5371 (class 1259 OID 47353)
-- Name: idx_recon_internal_tier; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_recon_internal_tier ON public.recon_internal_transactions USING btree (rule_tier);


--
-- TOC entry 5515 (class 1259 OID 181148)
-- Name: idx_resources_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_resources_active ON public.resources USING btree (is_active) WHERE (is_active = true);


--
-- TOC entry 5516 (class 1259 OID 181145)
-- Name: idx_resources_hub; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_resources_hub ON public.resources USING btree (hub_id);


--
-- TOC entry 5517 (class 1259 OID 181147)
-- Name: idx_resources_parent; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_resources_parent ON public.resources USING btree (parent_resource_id);


--
-- TOC entry 5518 (class 1259 OID 181146)
-- Name: idx_resources_type; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_resources_type ON public.resources USING btree (resource_type);


--
-- TOC entry 5529 (class 1259 OID 181191)
-- Name: idx_role_permissions_permission; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_role_permissions_permission ON public.role_permissions USING btree (permission_id);


--
-- TOC entry 5530 (class 1259 OID 181190)
-- Name: idx_role_permissions_role; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_role_permissions_role ON public.role_permissions USING btree (role_id);


--
-- TOC entry 5498 (class 1259 OID 181059)
-- Name: idx_roles_client; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_roles_client ON public.roles USING btree (client_id) WHERE (client_id IS NOT NULL);


--
-- TOC entry 5499 (class 1259 OID 181058)
-- Name: idx_roles_hub; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_roles_hub ON public.roles USING btree (hub_id);


--
-- TOC entry 5500 (class 1259 OID 181061)
-- Name: idx_roles_scope; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_roles_scope ON public.roles USING btree (scope);


--
-- TOC entry 5501 (class 1259 OID 181060)
-- Name: idx_roles_system; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_roles_system ON public.roles USING btree (is_system_role) WHERE (is_system_role = true);


--
-- TOC entry 5618 (class 1259 OID 200249)
-- Name: idx_ticket_comments_admin_user_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_ticket_comments_admin_user_id ON public.ticket_comments USING btree (admin_user_id) WHERE (admin_user_id IS NOT NULL);


--
-- TOC entry 5619 (class 1259 OID 200250)
-- Name: idx_ticket_comments_client_user_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_ticket_comments_client_user_id ON public.ticket_comments USING btree (client_user_id) WHERE (client_user_id IS NOT NULL);


--
-- TOC entry 5620 (class 1259 OID 200251)
-- Name: idx_ticket_comments_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_ticket_comments_created_at ON public.ticket_comments USING btree (created_at DESC);


--
-- TOC entry 5621 (class 1259 OID 200248)
-- Name: idx_ticket_comments_ticket_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_ticket_comments_ticket_id ON public.ticket_comments USING btree (ticket_id);


--
-- TOC entry 5614 (class 1259 OID 200219)
-- Name: idx_ticket_files_ticket_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_ticket_files_ticket_id ON public.ticket_files USING btree (ticket_id);


--
-- TOC entry 5615 (class 1259 OID 200220)
-- Name: idx_ticket_files_uploaded_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_ticket_files_uploaded_at ON public.ticket_files USING btree (uploaded_at DESC);


--
-- TOC entry 5607 (class 1259 OID 200197)
-- Name: idx_tickets_category; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_tickets_category ON public.tickets USING btree (category);


--
-- TOC entry 5608 (class 1259 OID 200194)
-- Name: idx_tickets_client_user_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_tickets_client_user_id ON public.tickets USING btree (client_user_id);


--
-- TOC entry 5609 (class 1259 OID 200198)
-- Name: idx_tickets_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_tickets_created_at ON public.tickets USING btree (created_at DESC);


--
-- TOC entry 5610 (class 1259 OID 200196)
-- Name: idx_tickets_priority; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_tickets_priority ON public.tickets USING btree (priority);


--
-- TOC entry 5611 (class 1259 OID 200195)
-- Name: idx_tickets_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_tickets_status ON public.tickets USING btree (status);


--
-- TOC entry 5302 (class 1259 OID 77817)
-- Name: idx_transactions_client_created_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_transactions_client_created_id ON public.transactions USING btree (client_id, created_at DESC);


--
-- TOC entry 5436 (class 1259 OID 69756)
-- Name: idx_translation_history_changed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translation_history_changed_at ON public.translation_history USING btree (changed_at DESC);


--
-- TOC entry 5437 (class 1259 OID 69757)
-- Name: idx_translation_history_changed_by; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translation_history_changed_by ON public.translation_history USING btree (changed_by);


--
-- TOC entry 5438 (class 1259 OID 69755)
-- Name: idx_translation_history_translation_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translation_history_translation_id ON public.translation_history USING btree (translation_id);


--
-- TOC entry 5421 (class 1259 OID 69701)
-- Name: idx_translation_keys_key_code; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translation_keys_key_code ON public.translation_keys USING btree (key_code);


--
-- TOC entry 5422 (class 1259 OID 69702)
-- Name: idx_translation_keys_namespace; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translation_keys_namespace ON public.translation_keys USING btree (namespace);


--
-- TOC entry 5427 (class 1259 OID 69730)
-- Name: idx_translations_key_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translations_key_id ON public.translations USING btree (translation_key_id);


--
-- TOC entry 5428 (class 1259 OID 69734)
-- Name: idx_translations_key_lang_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translations_key_lang_status ON public.translations USING btree (translation_key_id, language_id, status);


--
-- TOC entry 5429 (class 1259 OID 69731)
-- Name: idx_translations_language_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translations_language_id ON public.translations USING btree (language_id);


--
-- TOC entry 5430 (class 1259 OID 69732)
-- Name: idx_translations_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translations_status ON public.translations USING btree (status);


--
-- TOC entry 5431 (class 1259 OID 69733)
-- Name: idx_translations_unverified; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_translations_unverified ON public.translations USING btree (is_verified) WHERE (is_verified = false);


--
-- TOC entry 5303 (class 1259 OID 122478)
-- Name: idx_tx_client_created_id_desc; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX idx_tx_client_created_id_desc ON public.transactions USING btree (client_id, created_at DESC, id DESC);


--
-- TOC entry 5597 (class 1259 OID 188464)
-- Name: idx_unique_active_provider_property; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE UNIQUE INDEX idx_unique_active_provider_property ON public.payment_provider_config USING btree (provider_name, property_name) WHERE (is_active = true);


--
-- TOC entry 5276 (class 1259 OID 21930)
-- Name: payment_providers_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX payment_providers_status ON public.payment_providers USING btree (status);


--
-- TOC entry 5277 (class 1259 OID 21931)
-- Name: provider_audit_logs_action; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX provider_audit_logs_action ON public.provider_audit_logs USING btree (action);


--
-- TOC entry 5278 (class 1259 OID 21932)
-- Name: provider_audit_logs_performed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX provider_audit_logs_performed_at ON public.provider_audit_logs USING btree (performed_at DESC);


--
-- TOC entry 5281 (class 1259 OID 21933)
-- Name: provider_audit_logs_provider_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX provider_audit_logs_provider_id ON public.provider_audit_logs USING btree (provider_id);


--
-- TOC entry 5286 (class 1259 OID 21934)
-- Name: transaction_audit_logs_action; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_audit_logs_action ON public.transaction_audit_logs USING btree (action);


--
-- TOC entry 5287 (class 1259 OID 21935)
-- Name: transaction_audit_logs_error_code; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_audit_logs_error_code ON public.transaction_audit_logs USING btree (error_code);


--
-- TOC entry 5288 (class 1259 OID 21936)
-- Name: transaction_audit_logs_performed_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_audit_logs_performed_at ON public.transaction_audit_logs USING btree (performed_at DESC);


--
-- TOC entry 5291 (class 1259 OID 21937)
-- Name: transaction_audit_logs_retry_count; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_audit_logs_retry_count ON public.transaction_audit_logs USING btree (retry_count);


--
-- TOC entry 5292 (class 1259 OID 21938)
-- Name: transaction_audit_logs_transaction_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_audit_logs_transaction_id ON public.transaction_audit_logs USING btree (transaction_id);


--
-- TOC entry 5293 (class 1259 OID 21939)
-- Name: transaction_metadata_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_metadata_created_at ON public.transaction_metadata USING btree (created_at DESC);


--
-- TOC entry 5294 (class 1259 OID 21940)
-- Name: transaction_metadata_data_type; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_metadata_data_type ON public.transaction_metadata USING btree (data_type);


--
-- TOC entry 5295 (class 1259 OID 21941)
-- Name: transaction_metadata_key; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_metadata_key ON public.transaction_metadata USING btree (key);


--
-- TOC entry 5298 (class 1259 OID 21942)
-- Name: transaction_metadata_source; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_metadata_source ON public.transaction_metadata USING btree (source);


--
-- TOC entry 5299 (class 1259 OID 21943)
-- Name: transaction_metadata_transaction_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_metadata_transaction_id ON public.transaction_metadata USING btree (transaction_id);


--
-- TOC entry 5300 (class 1259 OID 21944)
-- Name: transaction_metadata_transaction_key; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX transaction_metadata_transaction_key ON public.transaction_metadata USING btree (transaction_id, key);


--
-- TOC entry 5301 (class 1259 OID 21945)
-- Name: transaction_metadata_unique; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE UNIQUE INDEX transaction_metadata_unique ON public.transaction_metadata USING btree (transaction_id, key, version);


--
-- TOC entry 5308 (class 1259 OID 22148)
-- Name: users_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX users_client_id ON public.users USING btree (client_id);


--
-- TOC entry 5412 (class 1259 OID 91742)
-- Name: ux_stg_transaction_id_matched; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE UNIQUE INDEX ux_stg_transaction_id_matched ON public.recon_staging_raw_transactions USING btree (transaction_id) WHERE (lower(COALESCE((recon_status)::text, ''::text)) = 'matched'::text);


--
-- TOC entry 5378 (class 1259 OID 30592)
-- Name: webhook_deliveries_created_at; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX webhook_deliveries_created_at ON public.webhook_deliveries USING btree (created_at DESC);


--
-- TOC entry 5379 (class 1259 OID 30590)
-- Name: webhook_deliveries_endpoint_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX webhook_deliveries_endpoint_id ON public.webhook_deliveries USING btree (webhook_endpoint_id);


--
-- TOC entry 5380 (class 1259 OID 30593)
-- Name: webhook_deliveries_next_retry; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX webhook_deliveries_next_retry ON public.webhook_deliveries USING btree (next_retry_at);


--
-- TOC entry 5383 (class 1259 OID 30591)
-- Name: webhook_deliveries_status; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX webhook_deliveries_status ON public.webhook_deliveries USING btree (status);


--
-- TOC entry 5374 (class 1259 OID 30568)
-- Name: webhook_endpoints_client_id; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX webhook_endpoints_client_id ON public.webhook_endpoints USING btree (client_id);


--
-- TOC entry 5375 (class 1259 OID 30569)
-- Name: webhook_endpoints_is_active; Type: INDEX; Schema: public; Owner: piadmin
--

CREATE INDEX webhook_endpoints_is_active ON public.webhook_endpoints USING btree (is_active);


--
-- TOC entry 5668 (class 0 OID 0)
-- Name: access_audit_log_2025_11_access_granted_timestamp_idx; Type: INDEX ATTACH; Schema: public; Owner: piadmin
--

ALTER INDEX public.idx_audit_denied ATTACH PARTITION public.access_audit_log_2025_11_access_granted_timestamp_idx;


--
-- TOC entry 5669 (class 0 OID 0)
-- Name: access_audit_log_2025_11_client_id_timestamp_idx; Type: INDEX ATTACH; Schema: public; Owner: piadmin
--

ALTER INDEX public.idx_audit_client ATTACH PARTITION public.access_audit_log_2025_11_client_id_timestamp_idx;


--
-- TOC entry 5670 (class 0 OID 0)
-- Name: access_audit_log_2025_11_client_user_id_timestamp_idx; Type: INDEX ATTACH; Schema: public; Owner: piadmin
--

ALTER INDEX public.idx_audit_client_user ATTACH PARTITION public.access_audit_log_2025_11_client_user_id_timestamp_idx;


--
-- TOC entry 5671 (class 0 OID 0)
-- Name: access_audit_log_2025_11_hub_id_timestamp_idx; Type: INDEX ATTACH; Schema: public; Owner: piadmin
--

ALTER INDEX public.idx_audit_hub ATTACH PARTITION public.access_audit_log_2025_11_hub_id_timestamp_idx;


--
-- TOC entry 5672 (class 0 OID 0)
-- Name: access_audit_log_2025_11_timestamp_idx; Type: INDEX ATTACH; Schema: public; Owner: piadmin
--

ALTER INDEX public.idx_audit_timestamp ATTACH PARTITION public.access_audit_log_2025_11_timestamp_idx;


--
-- TOC entry 5748 (class 2606 OID 200115)
-- Name: access_audit_log access_audit_log_admin_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE public.access_audit_log
    ADD CONSTRAINT access_audit_log_admin_user_id_fkey FOREIGN KEY (admin_user_id) REFERENCES public.admin_users(id) ON DELETE SET NULL;


--
-- TOC entry 5749 (class 2606 OID 181261)
-- Name: access_audit_log access_audit_log_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE public.access_audit_log
    ADD CONSTRAINT access_audit_log_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE SET NULL;


--
-- TOC entry 5750 (class 2606 OID 195915)
-- Name: access_audit_log access_audit_log_client_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE public.access_audit_log
    ADD CONSTRAINT access_audit_log_client_user_id_fkey FOREIGN KEY (client_user_id) REFERENCES public.client_users(id) ON DELETE SET NULL;


--
-- TOC entry 5751 (class 2606 OID 181246)
-- Name: access_audit_log access_audit_log_hub_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE public.access_audit_log
    ADD CONSTRAINT access_audit_log_hub_id_fkey FOREIGN KEY (hub_id) REFERENCES public.hubs(id) ON DELETE SET NULL;


--
-- TOC entry 5746 (class 2606 OID 181233)
-- Name: admin_user_permission_overrides admin_user_permission_overrides_permission_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_user_permission_overrides
    ADD CONSTRAINT admin_user_permission_overrides_permission_id_fkey FOREIGN KEY (permission_id) REFERENCES public.permissions(id) ON DELETE CASCADE;


--
-- TOC entry 5747 (class 2606 OID 200123)
-- Name: admin_user_permission_overrides admin_user_permission_overrides_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_user_permission_overrides
    ADD CONSTRAINT admin_user_permission_overrides_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.admin_users(id) ON DELETE CASCADE;


--
-- TOC entry 5737 (class 2606 OID 181113)
-- Name: admin_user_roles admin_user_roles_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_user_roles
    ADD CONSTRAINT admin_user_roles_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(id) ON DELETE CASCADE;


--
-- TOC entry 5738 (class 2606 OID 200128)
-- Name: admin_user_roles admin_user_roles_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_user_roles
    ADD CONSTRAINT admin_user_roles_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.admin_users(id) ON DELETE CASCADE;


--
-- TOC entry 5730 (class 2606 OID 200133)
-- Name: admin_users admin_users_created_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_users
    ADD CONSTRAINT admin_users_created_by_fkey FOREIGN KEY (created_by) REFERENCES public.admin_users(id) ON DELETE SET NULL;


--
-- TOC entry 5731 (class 2606 OID 200138)
-- Name: admin_users admin_users_updated_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.admin_users
    ADD CONSTRAINT admin_users_updated_by_fkey FOREIGN KEY (updated_by) REFERENCES public.admin_users(id) ON DELETE SET NULL;


--
-- TOC entry 5768 (class 2606 OID 201973)
-- Name: audit_logs audit_logs_document_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.audit_logs
    ADD CONSTRAINT audit_logs_document_id_fkey FOREIGN KEY (document_id) REFERENCES public.document_verifications(document_id) ON DELETE CASCADE;


--
-- TOC entry 5726 (class 2606 OID 165428)
-- Name: checkout_custom_configurations checkout_custom_configurations_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.checkout_custom_configurations
    ADD CONSTRAINT checkout_custom_configurations_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5699 (class 2606 OID 22133)
-- Name: client_preferences_a360 client_preferences_a360_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_preferences_a360
    ADD CONSTRAINT client_preferences_a360_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- TOC entry 5718 (class 2606 OID 57839)
-- Name: client_provider_volumes client_provider_configuration_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_provider_volumes
    ADD CONSTRAINT client_provider_configuration_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- TOC entry 5744 (class 2606 OID 181209)
-- Name: client_user_permission_overrides client_user_permission_overrides_permission_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_user_permission_overrides
    ADD CONSTRAINT client_user_permission_overrides_permission_id_fkey FOREIGN KEY (permission_id) REFERENCES public.permissions(id) ON DELETE CASCADE;


--
-- TOC entry 5745 (class 2606 OID 195923)
-- Name: client_user_permission_overrides client_user_permission_overrides_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_user_permission_overrides
    ADD CONSTRAINT client_user_permission_overrides_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.client_users(id) ON DELETE CASCADE;


--
-- TOC entry 5734 (class 2606 OID 181085)
-- Name: client_user_roles client_user_roles_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_user_roles
    ADD CONSTRAINT client_user_roles_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5735 (class 2606 OID 181080)
-- Name: client_user_roles client_user_roles_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_user_roles
    ADD CONSTRAINT client_user_roles_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(id) ON DELETE CASCADE;


--
-- TOC entry 5736 (class 2606 OID 195928)
-- Name: client_user_roles client_user_roles_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_user_roles
    ADD CONSTRAINT client_user_roles_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.client_users(id) ON DELETE CASCADE;


--
-- TOC entry 5728 (class 2606 OID 180995)
-- Name: client_users client_users_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_users
    ADD CONSTRAINT client_users_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5727 (class 2606 OID 177429)
-- Name: contract_log contract_log_provider_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.contract_log
    ADD CONSTRAINT contract_log_provider_id_fkey FOREIGN KEY (provider_id) REFERENCES public.payment_providers(id);


--
-- TOC entry 5719 (class 2606 OID 59717)
-- Name: contracts contracts_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.contracts
    ADD CONSTRAINT contracts_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- TOC entry 5704 (class 2606 OID 22514)
-- Name: dispute_transactions_audit dispute_transactions_audit_dispute_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.dispute_transactions_audit
    ADD CONSTRAINT dispute_transactions_audit_dispute_id_fkey FOREIGN KEY (dispute_id) REFERENCES public.dispute_transactions(id) ON DELETE CASCADE;


--
-- TOC entry 5765 (class 2606 OID 200370)
-- Name: email_campaigns email_campaigns_created_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.email_campaigns
    ADD CONSTRAINT email_campaigns_created_by_fkey FOREIGN KEY (created_by_admin_user_id) REFERENCES public.admin_users(id) ON DELETE RESTRICT;


--
-- TOC entry 5766 (class 2606 OID 200375)
-- Name: email_campaigns email_campaigns_updated_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.email_campaigns
    ADD CONSTRAINT email_campaigns_updated_by_fkey FOREIGN KEY (updated_by_admin_user_id) REFERENCES public.admin_users(id) ON DELETE SET NULL;


--
-- TOC entry 5767 (class 2606 OID 200598)
-- Name: email_insights email_insights_client_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.email_insights
    ADD CONSTRAINT email_insights_client_user_id_fkey FOREIGN KEY (client_user_id) REFERENCES public.client_users(id) ON DELETE CASCADE;


--
-- TOC entry 5700 (class 2606 OID 22158)
-- Name: addresses fk_addresses_user_id; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.addresses
    ADD CONSTRAINT fk_addresses_user_id FOREIGN KEY (user_id) REFERENCES public.users(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 5710 (class 2606 OID 31216)
-- Name: webhook_delivery_audit_logs fk_audit_logs_delivery; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_delivery_audit_logs
    ADD CONSTRAINT fk_audit_logs_delivery FOREIGN KEY (delivery_id) REFERENCES public.webhook_deliveries(id) ON DELETE CASCADE;


--
-- TOC entry 5673 (class 2606 OID 21963)
-- Name: checkouts fk_checkouts_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.checkouts
    ADD CONSTRAINT fk_checkouts_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE RESTRICT;


--
-- TOC entry 5674 (class 2606 OID 22163)
-- Name: checkouts fk_checkouts_user; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.checkouts
    ADD CONSTRAINT fk_checkouts_user FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE RESTRICT;


--
-- TOC entry 5729 (class 2606 OID 181000)
-- Name: client_users fk_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_users
    ADD CONSTRAINT fk_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5755 (class 2606 OID 183322)
-- Name: client_payment_configs fk_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_configs
    ADD CONSTRAINT fk_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5675 (class 2606 OID 21973)
-- Name: client_api_keys fk_client_api_keys_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_api_keys
    ADD CONSTRAINT fk_client_api_keys_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5753 (class 2606 OID 183295)
-- Name: client_payment_method_currencies fk_client_currency; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_method_currencies
    ADD CONSTRAINT fk_client_currency FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5717 (class 2606 OID 43764)
-- Name: client_custom_country_rules fk_client_custom_country_rules_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_custom_country_rules
    ADD CONSTRAINT fk_client_custom_country_rules_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5725 (class 2606 OID 127270)
-- Name: client_descriptors fk_client_descriptors_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_descriptors
    ADD CONSTRAINT fk_client_descriptors_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5715 (class 2606 OID 43720)
-- Name: client_force_3ds_bins fk_client_force_3ds_bins_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_force_3ds_bins
    ADD CONSTRAINT fk_client_force_3ds_bins_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5716 (class 2606 OID 43741)
-- Name: client_force_3ds_countries fk_client_force_3ds_countries_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_force_3ds_countries
    ADD CONSTRAINT fk_client_force_3ds_countries_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5754 (class 2606 OID 183300)
-- Name: client_payment_method_currencies fk_client_pm_currency; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_method_currencies
    ADD CONSTRAINT fk_client_pm_currency FOREIGN KEY (payment_method_id) REFERENCES public.payment_methods(id) ON DELETE CASCADE;


--
-- TOC entry 5676 (class 2606 OID 21978)
-- Name: client_provider_configs fk_client_provider_configs_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_provider_configs
    ADD CONSTRAINT fk_client_provider_configs_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5677 (class 2606 OID 21983)
-- Name: client_provider_configs fk_client_provider_configs_provider; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_provider_configs
    ADD CONSTRAINT fk_client_provider_configs_provider FOREIGN KEY (provider_id) REFERENCES public.payment_providers(id) ON DELETE CASCADE;


--
-- TOC entry 5714 (class 2606 OID 43699)
-- Name: client_sca_config fk_client_sca_config_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_sca_config
    ADD CONSTRAINT fk_client_sca_config_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5678 (class 2606 OID 21993)
-- Name: credit_cards fk_credit_cards_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.credit_cards
    ADD CONSTRAINT fk_credit_cards_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE RESTRICT;


--
-- TOC entry 5679 (class 2606 OID 22173)
-- Name: credit_cards fk_credit_cards_user; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.credit_cards
    ADD CONSTRAINT fk_credit_cards_user FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 5680 (class 2606 OID 22003)
-- Name: live_transactions_bkp fk_live_transactions_acquirer; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.live_transactions_bkp
    ADD CONSTRAINT fk_live_transactions_acquirer FOREIGN KEY (acquirer_id) REFERENCES public.acquirer(id);


--
-- TOC entry 5681 (class 2606 OID 22008)
-- Name: live_transactions_bkp fk_live_transactions_merchant; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.live_transactions_bkp
    ADD CONSTRAINT fk_live_transactions_merchant FOREIGN KEY (merchant_id) REFERENCES public.merchant(id);


--
-- TOC entry 5756 (class 2606 OID 183327)
-- Name: client_payment_configs fk_payment_method; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.client_payment_configs
    ADD CONSTRAINT fk_payment_method FOREIGN KEY (payment_method_id) REFERENCES public.payment_methods(id) ON DELETE RESTRICT;


--
-- TOC entry 5752 (class 2606 OID 183274)
-- Name: payment_method_country_currencies fk_payment_method_currency; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.payment_method_country_currencies
    ADD CONSTRAINT fk_payment_method_currency FOREIGN KEY (payment_method_id) REFERENCES public.payment_methods(id) ON DELETE CASCADE;


--
-- TOC entry 5703 (class 2606 OID 22450)
-- Name: provider_fees fk_provider_fees_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_fees
    ADD CONSTRAINT fk_provider_fees_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5720 (class 2606 OID 177407)
-- Name: contracts fk_provider_id; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.contracts
    ADD CONSTRAINT fk_provider_id FOREIGN KEY (provider_id) REFERENCES public.payment_providers(id);


--
-- TOC entry 5693 (class 2606 OID 22013)
-- Name: transaction_metadata fk_transaction_metadata_transaction; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_metadata
    ADD CONSTRAINT fk_transaction_metadata_transaction FOREIGN KEY (transaction_id) REFERENCES public.transactions(id) ON DELETE CASCADE;


--
-- TOC entry 5694 (class 2606 OID 22018)
-- Name: transactions fk_transactions_checkout; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transactions
    ADD CONSTRAINT fk_transactions_checkout FOREIGN KEY (checkout_id) REFERENCES public.checkouts(id) ON DELETE SET NULL;


--
-- TOC entry 5695 (class 2606 OID 22023)
-- Name: transactions fk_transactions_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transactions
    ADD CONSTRAINT fk_transactions_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE RESTRICT;


--
-- TOC entry 5696 (class 2606 OID 22028)
-- Name: transactions fk_transactions_credit_card; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transactions
    ADD CONSTRAINT fk_transactions_credit_card FOREIGN KEY (credit_card_id) REFERENCES public.credit_cards(id) ON DELETE SET NULL;


--
-- TOC entry 5697 (class 2606 OID 22033)
-- Name: transactions fk_transactions_provider; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transactions
    ADD CONSTRAINT fk_transactions_provider FOREIGN KEY (provider_id) REFERENCES public.payment_providers(id) ON DELETE RESTRICT;


--
-- TOC entry 5698 (class 2606 OID 22168)
-- Name: transactions fk_transactions_user; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transactions
    ADD CONSTRAINT fk_transactions_user FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE RESTRICT;


--
-- TOC entry 5709 (class 2606 OID 30594)
-- Name: webhook_deliveries fk_webhook_deliveries_endpoint_id; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_deliveries
    ADD CONSTRAINT fk_webhook_deliveries_endpoint_id FOREIGN KEY (webhook_endpoint_id) REFERENCES public.webhook_endpoints(id) ON DELETE CASCADE;


--
-- TOC entry 5708 (class 2606 OID 30570)
-- Name: webhook_endpoints fk_webhook_endpoints_client; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.webhook_endpoints
    ADD CONSTRAINT fk_webhook_endpoints_client FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5705 (class 2606 OID 25367)
-- Name: fx_rates_current fx_rates_current_from_currency_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.fx_rates_current
    ADD CONSTRAINT fx_rates_current_from_currency_fkey FOREIGN KEY (from_currency) REFERENCES public.currencies(code);


--
-- TOC entry 5706 (class 2606 OID 25372)
-- Name: fx_rates_current fx_rates_current_to_currency_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.fx_rates_current
    ADD CONSTRAINT fx_rates_current_to_currency_fkey FOREIGN KEY (to_currency) REFERENCES public.currencies(code);


--
-- TOC entry 5683 (class 2606 OID 22058)
-- Name: merchant_acquirer merchant_acquirer_acquirer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_acquirer
    ADD CONSTRAINT merchant_acquirer_acquirer_id_fkey FOREIGN KEY (acquirer_id) REFERENCES public.acquirer(id);


--
-- TOC entry 5684 (class 2606 OID 22063)
-- Name: merchant_acquirer merchant_acquirer_merchant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_acquirer
    ADD CONSTRAINT merchant_acquirer_merchant_id_fkey FOREIGN KEY (merchant_id) REFERENCES public.merchant(id);


--
-- TOC entry 5685 (class 2606 OID 22068)
-- Name: merchant_api_key merchant_api_key_merchant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_api_key
    ADD CONSTRAINT merchant_api_key_merchant_id_fkey FOREIGN KEY (merchant_id) REFERENCES public.merchant(id) ON DELETE CASCADE;


--
-- TOC entry 5686 (class 2606 OID 22073)
-- Name: merchant_bank_details merchant_bank_details_merchant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_bank_details
    ADD CONSTRAINT merchant_bank_details_merchant_id_fkey FOREIGN KEY (merchant_id) REFERENCES public.merchant(id);


--
-- TOC entry 5687 (class 2606 OID 22078)
-- Name: merchant_document merchant_document_merchant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_document
    ADD CONSTRAINT merchant_document_merchant_id_fkey FOREIGN KEY (merchant_id) REFERENCES public.merchant(id);


--
-- TOC entry 5682 (class 2606 OID 22083)
-- Name: merchant merchant_onboarding_person_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant
    ADD CONSTRAINT merchant_onboarding_person_id_fkey FOREIGN KEY (onboarding_person_id) REFERENCES public.onboarding_person(id) ON DELETE SET NULL;


--
-- TOC entry 5688 (class 2606 OID 22088)
-- Name: merchant_psc merchant_psc_merchant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_psc
    ADD CONSTRAINT merchant_psc_merchant_id_fkey FOREIGN KEY (merchant_id) REFERENCES public.merchant(id);


--
-- TOC entry 5689 (class 2606 OID 22093)
-- Name: merchant_social_media merchant_social_media_merchant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.merchant_social_media
    ADD CONSTRAINT merchant_social_media_merchant_id_fkey FOREIGN KEY (merchant_id) REFERENCES public.merchant(id);


--
-- TOC entry 5763 (class 2606 OID 200332)
-- Name: newsletter_subscriptions newsletter_subscriptions_created_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.newsletter_subscriptions
    ADD CONSTRAINT newsletter_subscriptions_created_by_fkey FOREIGN KEY (created_by_admin_user_id) REFERENCES public.admin_users(id) ON DELETE SET NULL;


--
-- TOC entry 5764 (class 2606 OID 200337)
-- Name: newsletter_subscriptions newsletter_subscriptions_updated_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.newsletter_subscriptions
    ADD CONSTRAINT newsletter_subscriptions_updated_by_fkey FOREIGN KEY (updated_by_admin_user_id) REFERENCES public.admin_users(id) ON DELETE SET NULL;


--
-- TOC entry 5741 (class 2606 OID 181161)
-- Name: permissions permissions_resource_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.permissions
    ADD CONSTRAINT permissions_resource_id_fkey FOREIGN KEY (resource_id) REFERENCES public.resources(id) ON DELETE CASCADE;


--
-- TOC entry 5702 (class 2606 OID 22270)
-- Name: provider_exemption_config provider_exemption_config_exemption_key_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.provider_exemption_config
    ADD CONSTRAINT provider_exemption_config_exemption_key_fkey FOREIGN KEY (exemption_key) REFERENCES public.exemption_details_metadata(exemption_key);


--
-- TOC entry 5690 (class 2606 OID 22098)
-- Name: psc_document psc_document_merchant_psc_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.psc_document
    ADD CONSTRAINT psc_document_merchant_psc_id_fkey FOREIGN KEY (merchant_psc_id) REFERENCES public.merchant_psc(id);


--
-- TOC entry 5739 (class 2606 OID 181135)
-- Name: resources resources_hub_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.resources
    ADD CONSTRAINT resources_hub_id_fkey FOREIGN KEY (hub_id) REFERENCES public.hubs(id) ON DELETE CASCADE;


--
-- TOC entry 5740 (class 2606 OID 181140)
-- Name: resources resources_parent_resource_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.resources
    ADD CONSTRAINT resources_parent_resource_id_fkey FOREIGN KEY (parent_resource_id) REFERENCES public.resources(id) ON DELETE CASCADE;


--
-- TOC entry 5742 (class 2606 OID 181185)
-- Name: role_permissions role_permissions_permission_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT role_permissions_permission_id_fkey FOREIGN KEY (permission_id) REFERENCES public.permissions(id) ON DELETE CASCADE;


--
-- TOC entry 5743 (class 2606 OID 181180)
-- Name: role_permissions role_permissions_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT role_permissions_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(id) ON DELETE CASCADE;


--
-- TOC entry 5732 (class 2606 OID 181053)
-- Name: roles roles_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id) ON DELETE CASCADE;


--
-- TOC entry 5733 (class 2606 OID 181048)
-- Name: roles roles_hub_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_hub_id_fkey FOREIGN KEY (hub_id) REFERENCES public.hubs(id) ON DELETE CASCADE;


--
-- TOC entry 5707 (class 2606 OID 25905)
-- Name: supported_currencies supported_currencies_currency_code_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.supported_currencies
    ADD CONSTRAINT supported_currencies_currency_code_fkey FOREIGN KEY (currency_code) REFERENCES public.currencies(code);


--
-- TOC entry 5701 (class 2606 OID 22230)
-- Name: system_metadata_audit system_metadata_audit_metadata_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.system_metadata_audit
    ADD CONSTRAINT system_metadata_audit_metadata_id_fkey FOREIGN KEY (metadata_id) REFERENCES public.system_metadata(id) ON DELETE CASCADE;


--
-- TOC entry 5760 (class 2606 OID 200238)
-- Name: ticket_comments ticket_comments_admin_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.ticket_comments
    ADD CONSTRAINT ticket_comments_admin_user_id_fkey FOREIGN KEY (admin_user_id) REFERENCES public.admin_users(id) ON DELETE SET NULL;


--
-- TOC entry 5761 (class 2606 OID 200243)
-- Name: ticket_comments ticket_comments_client_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.ticket_comments
    ADD CONSTRAINT ticket_comments_client_user_id_fkey FOREIGN KEY (client_user_id) REFERENCES public.client_users(id) ON DELETE SET NULL;


--
-- TOC entry 5762 (class 2606 OID 200233)
-- Name: ticket_comments ticket_comments_ticket_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.ticket_comments
    ADD CONSTRAINT ticket_comments_ticket_id_fkey FOREIGN KEY (ticket_id) REFERENCES public.tickets(id) ON DELETE CASCADE;


--
-- TOC entry 5758 (class 2606 OID 200214)
-- Name: ticket_files ticket_files_client_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.ticket_files
    ADD CONSTRAINT ticket_files_client_user_id_fkey FOREIGN KEY (uploaded_by_client_user_id) REFERENCES public.client_users(id) ON DELETE SET NULL;


--
-- TOC entry 5759 (class 2606 OID 200209)
-- Name: ticket_files ticket_files_ticket_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.ticket_files
    ADD CONSTRAINT ticket_files_ticket_id_fkey FOREIGN KEY (ticket_id) REFERENCES public.tickets(id) ON DELETE CASCADE;


--
-- TOC entry 5757 (class 2606 OID 200189)
-- Name: tickets tickets_client_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.tickets
    ADD CONSTRAINT tickets_client_user_id_fkey FOREIGN KEY (client_user_id) REFERENCES public.client_users(id) ON DELETE SET NULL;


--
-- TOC entry 5713 (class 2606 OID 36793)
-- Name: transaction_3ds transaction_3ds_transaction_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_3ds
    ADD CONSTRAINT transaction_3ds_transaction_id_fkey FOREIGN KEY (transaction_id) REFERENCES public.transactions(id);


--
-- TOC entry 5691 (class 2606 OID 22103)
-- Name: transaction_bkp transaction_acquirer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_bkp
    ADD CONSTRAINT transaction_acquirer_id_fkey FOREIGN KEY (acquirer_id) REFERENCES public.acquirer(id);


--
-- TOC entry 5711 (class 2606 OID 36708)
-- Name: transaction_additional_data transaction_additional_data_transaction_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_additional_data
    ADD CONSTRAINT transaction_additional_data_transaction_id_fkey FOREIGN KEY (transaction_id) REFERENCES public.transactions(id);


--
-- TOC entry 5712 (class 2606 OID 36778)
-- Name: transaction_logs transaction_logs_transaction_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_logs
    ADD CONSTRAINT transaction_logs_transaction_id_fkey FOREIGN KEY (transaction_id) REFERENCES public.transactions(id);


--
-- TOC entry 5692 (class 2606 OID 22110)
-- Name: transaction_bkp transaction_merchant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.transaction_bkp
    ADD CONSTRAINT transaction_merchant_id_fkey FOREIGN KEY (merchant_id) REFERENCES public.merchant(id);


--
-- TOC entry 5723 (class 2606 OID 69750)
-- Name: translation_history translation_history_language_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translation_history
    ADD CONSTRAINT translation_history_language_id_fkey FOREIGN KEY (language_id) REFERENCES public.languages(id) ON DELETE CASCADE;


--
-- TOC entry 5724 (class 2606 OID 69745)
-- Name: translation_history translation_history_translation_key_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translation_history
    ADD CONSTRAINT translation_history_translation_key_id_fkey FOREIGN KEY (translation_key_id) REFERENCES public.translation_keys(id) ON DELETE CASCADE;


--
-- TOC entry 5721 (class 2606 OID 69725)
-- Name: translations translations_language_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translations
    ADD CONSTRAINT translations_language_id_fkey FOREIGN KEY (language_id) REFERENCES public.languages(id) ON DELETE CASCADE;


--
-- TOC entry 5722 (class 2606 OID 69720)
-- Name: translations translations_translation_key_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: piadmin
--

ALTER TABLE ONLY public.translations
    ADD CONSTRAINT translations_translation_key_id_fkey FOREIGN KEY (translation_key_id) REFERENCES public.translation_keys(id) ON DELETE CASCADE;


--
-- TOC entry 5919 (class 0 OID 0)
-- Dependencies: 20
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;
GRANT USAGE ON SCHEMA public TO "pi-all-access-readonly";
GRANT USAGE ON SCHEMA public TO "pi-deepsearch-access-write";
GRANT USAGE ON SCHEMA public TO "pi-deepsearch-access";
GRANT USAGE ON SCHEMA public TO "pi-recon";
GRANT USAGE ON SCHEMA public TO mcp_server_user;
GRANT USAGE ON SCHEMA public TO "pi-master-readonly";


--
-- TOC entry 5920 (class 0 OID 0)
-- Dependencies: 419
-- Name: FUNCTION update_reconciliation_updated_at(); Type: ACL; Schema: public; Owner: piadmin
--

GRANT ALL ON FUNCTION public.update_reconciliation_updated_at() TO "pi-deepsearch-access-write";
GRANT ALL ON FUNCTION public.update_reconciliation_updated_at() TO "pi-deepsearch-access";


--
-- TOC entry 5921 (class 0 OID 0)
-- Dependencies: 347
-- Name: TABLE a360_metric_forecast_model_state_daily; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.a360_metric_forecast_model_state_daily TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.a360_metric_forecast_model_state_daily TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.a360_metric_forecast_model_state_daily TO "pi-recon";
GRANT SELECT ON TABLE public.a360_metric_forecast_model_state_daily TO "pi-master-readonly";


--
-- TOC entry 5922 (class 0 OID 0)
-- Dependencies: 379
-- Name: TABLE access_audit_log; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.access_audit_log TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.access_audit_log TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.access_audit_log TO "pi-master-readonly";


--
-- TOC entry 5923 (class 0 OID 0)
-- Dependencies: 396
-- Name: TABLE access_audit_log_2025_11; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.access_audit_log_2025_11 TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.access_audit_log_2025_11 TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.access_audit_log_2025_11 TO "pi-master-readonly";


--
-- TOC entry 5924 (class 0 OID 0)
-- Dependencies: 232
-- Name: SEQUENCE acquirer_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.acquirer_id_seq TO "pi-recon";


--
-- TOC entry 5925 (class 0 OID 0)
-- Dependencies: 233
-- Name: TABLE acquirer; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.acquirer TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.acquirer TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.acquirer TO "pi-recon";
GRANT SELECT ON TABLE public.acquirer TO "pi-master-readonly";


--
-- TOC entry 5926 (class 0 OID 0)
-- Dependencies: 285
-- Name: TABLE addresses; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.addresses TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.addresses TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.addresses TO "pi-recon";
GRANT SELECT ON TABLE public.addresses TO mcp_server_user;
GRANT SELECT ON TABLE public.addresses TO "pi-master-readonly";


--
-- TOC entry 5927 (class 0 OID 0)
-- Dependencies: 378
-- Name: TABLE admin_user_permission_overrides; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.admin_user_permission_overrides TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.admin_user_permission_overrides TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.admin_user_permission_overrides TO "pi-master-readonly";


--
-- TOC entry 5928 (class 0 OID 0)
-- Dependencies: 373
-- Name: TABLE admin_user_roles; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.admin_user_roles TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.admin_user_roles TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.admin_user_roles TO "pi-master-readonly";


--
-- TOC entry 5929 (class 0 OID 0)
-- Dependencies: 370
-- Name: TABLE admin_users; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.admin_users TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.admin_users TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.admin_users TO "pi-master-readonly";


--
-- TOC entry 5931 (class 0 OID 0)
-- Dependencies: 234
-- Name: TABLE api_key_audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.api_key_audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.api_key_audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.api_key_audit_logs TO "pi-recon";
GRANT SELECT ON TABLE public.api_key_audit_logs TO "pi-master-readonly";


--
-- TOC entry 5933 (class 0 OID 0)
-- Dependencies: 235
-- Name: SEQUENCE api_key_audit_logs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.api_key_audit_logs_id_seq TO "pi-recon";


--
-- TOC entry 5934 (class 0 OID 0)
-- Dependencies: 418
-- Name: TABLE audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.audit_logs TO "pi-master-readonly";


--
-- TOC entry 5936 (class 0 OID 0)
-- Dependencies: 236
-- Name: TABLE checkout_audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.checkout_audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.checkout_audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.checkout_audit_logs TO "pi-recon";
GRANT SELECT ON TABLE public.checkout_audit_logs TO "pi-master-readonly";


--
-- TOC entry 5938 (class 0 OID 0)
-- Dependencies: 237
-- Name: SEQUENCE checkout_audit_logs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.checkout_audit_logs_id_seq TO "pi-recon";


--
-- TOC entry 5939 (class 0 OID 0)
-- Dependencies: 364
-- Name: TABLE checkout_custom_configurations; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.checkout_custom_configurations TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.checkout_custom_configurations TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.checkout_custom_configurations TO "pi-master-readonly";


--
-- TOC entry 5940 (class 0 OID 0)
-- Dependencies: 238
-- Name: TABLE checkouts; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.checkouts TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.checkouts TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.checkouts TO "pi-recon";
GRANT SELECT ON TABLE public.checkouts TO "pi-master-readonly";


--
-- TOC entry 5941 (class 0 OID 0)
-- Dependencies: 239
-- Name: TABLE client_api_keys; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_api_keys TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_api_keys TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_api_keys TO "pi-recon";
GRANT SELECT ON TABLE public.client_api_keys TO "pi-master-readonly";


--
-- TOC entry 5942 (class 0 OID 0)
-- Dependencies: 315
-- Name: TABLE client_api_keys_v2; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_api_keys_v2 TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_api_keys_v2 TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_api_keys_v2 TO "pi-recon";
GRANT SELECT ON TABLE public.client_api_keys_v2 TO "pi-master-readonly";


--
-- TOC entry 5943 (class 0 OID 0)
-- Dependencies: 240
-- Name: TABLE client_audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_audit_logs TO "pi-recon";
GRANT SELECT ON TABLE public.client_audit_logs TO "pi-master-readonly";


--
-- TOC entry 5945 (class 0 OID 0)
-- Dependencies: 241
-- Name: SEQUENCE client_audit_logs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_audit_logs_id_seq TO "pi-recon";


--
-- TOC entry 5946 (class 0 OID 0)
-- Dependencies: 300
-- Name: TABLE client_configs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_configs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_configs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_configs TO "pi-recon";
GRANT SELECT ON TABLE public.client_configs TO "pi-master-readonly";


--
-- TOC entry 5948 (class 0 OID 0)
-- Dependencies: 299
-- Name: SEQUENCE client_configs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_configs_id_seq TO "pi-recon";


--
-- TOC entry 5949 (class 0 OID 0)
-- Dependencies: 330
-- Name: TABLE client_custom_country_rules; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_custom_country_rules TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_custom_country_rules TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_custom_country_rules TO "pi-recon";
GRANT SELECT ON TABLE public.client_custom_country_rules TO "pi-master-readonly";


--
-- TOC entry 5951 (class 0 OID 0)
-- Dependencies: 329
-- Name: SEQUENCE client_custom_country_rules_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_custom_country_rules_id_seq TO "pi-recon";


--
-- TOC entry 5952 (class 0 OID 0)
-- Dependencies: 358
-- Name: TABLE client_descriptors; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_descriptors TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_descriptors TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_descriptors TO "pi-recon";
GRANT SELECT ON TABLE public.client_descriptors TO "pi-master-readonly";


--
-- TOC entry 5954 (class 0 OID 0)
-- Dependencies: 356
-- Name: SEQUENCE client_descriptors_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_descriptors_id_seq TO "pi-recon";


--
-- TOC entry 5955 (class 0 OID 0)
-- Dependencies: 326
-- Name: TABLE client_force_3ds_bins; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_force_3ds_bins TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_force_3ds_bins TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_force_3ds_bins TO "pi-recon";
GRANT SELECT ON TABLE public.client_force_3ds_bins TO "pi-master-readonly";


--
-- TOC entry 5957 (class 0 OID 0)
-- Dependencies: 325
-- Name: SEQUENCE client_force_3ds_bins_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_force_3ds_bins_id_seq TO "pi-recon";


--
-- TOC entry 5958 (class 0 OID 0)
-- Dependencies: 328
-- Name: TABLE client_force_3ds_countries; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_force_3ds_countries TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_force_3ds_countries TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_force_3ds_countries TO "pi-recon";
GRANT SELECT ON TABLE public.client_force_3ds_countries TO "pi-master-readonly";


--
-- TOC entry 5960 (class 0 OID 0)
-- Dependencies: 327
-- Name: SEQUENCE client_force_3ds_countries_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_force_3ds_countries_id_seq TO "pi-recon";


--
-- TOC entry 5961 (class 0 OID 0)
-- Dependencies: 387
-- Name: TABLE client_payment_configs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_payment_configs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_payment_configs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_payment_configs TO "pi-master-readonly";


--
-- TOC entry 5962 (class 0 OID 0)
-- Dependencies: 395
-- Name: TABLE client_payment_configs_audit; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_payment_configs_audit TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_payment_configs_audit TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_payment_configs_audit TO "pi-master-readonly";


--
-- TOC entry 5965 (class 0 OID 0)
-- Dependencies: 385
-- Name: TABLE client_payment_method_currencies; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_payment_method_currencies TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_payment_method_currencies TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_payment_method_currencies TO "pi-master-readonly";


--
-- TOC entry 5966 (class 0 OID 0)
-- Dependencies: 393
-- Name: TABLE client_payment_method_currencies_audit; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_payment_method_currencies_audit TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_payment_method_currencies_audit TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_payment_method_currencies_audit TO "pi-master-readonly";


--
-- TOC entry 5969 (class 0 OID 0)
-- Dependencies: 283
-- Name: TABLE client_preferences_a360; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_preferences_a360 TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_preferences_a360 TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_preferences_a360 TO "pi-recon";
GRANT SELECT ON TABLE public.client_preferences_a360 TO "pi-master-readonly";


--
-- TOC entry 5970 (class 0 OID 0)
-- Dependencies: 242
-- Name: TABLE client_provider_audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_provider_audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_provider_audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_provider_audit_logs TO "pi-recon";
GRANT SELECT ON TABLE public.client_provider_audit_logs TO "pi-master-readonly";


--
-- TOC entry 5972 (class 0 OID 0)
-- Dependencies: 243
-- Name: SEQUENCE client_provider_audit_logs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_provider_audit_logs_id_seq TO "pi-recon";


--
-- TOC entry 5973 (class 0 OID 0)
-- Dependencies: 244
-- Name: TABLE client_provider_configs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_provider_configs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_provider_configs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_provider_configs TO "pi-recon";
GRANT SELECT ON TABLE public.client_provider_configs TO "pi-master-readonly";


--
-- TOC entry 5975 (class 0 OID 0)
-- Dependencies: 245
-- Name: SEQUENCE client_provider_configs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_provider_configs_id_seq TO "pi-recon";


--
-- TOC entry 5976 (class 0 OID 0)
-- Dependencies: 334
-- Name: TABLE client_provider_volumes; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_provider_volumes TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_provider_volumes TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_provider_volumes TO "pi-recon";
GRANT SELECT ON TABLE public.client_provider_volumes TO "pi-master-readonly";


--
-- TOC entry 5978 (class 0 OID 0)
-- Dependencies: 333
-- Name: SEQUENCE client_provider_configuration_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_provider_configuration_id_seq TO "pi-recon";


--
-- TOC entry 5979 (class 0 OID 0)
-- Dependencies: 324
-- Name: TABLE client_sca_config; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_sca_config TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_sca_config TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_sca_config TO "pi-recon";
GRANT SELECT ON TABLE public.client_sca_config TO "pi-master-readonly";


--
-- TOC entry 5981 (class 0 OID 0)
-- Dependencies: 323
-- Name: SEQUENCE client_sca_config_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_sca_config_id_seq TO "pi-recon";


--
-- TOC entry 5982 (class 0 OID 0)
-- Dependencies: 246
-- Name: TABLE client_user_audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_user_audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_user_audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_user_audit_logs TO "pi-recon";
GRANT SELECT ON TABLE public.client_user_audit_logs TO "pi-master-readonly";


--
-- TOC entry 5984 (class 0 OID 0)
-- Dependencies: 247
-- Name: SEQUENCE client_user_audit_logs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.client_user_audit_logs_id_seq TO "pi-recon";


--
-- TOC entry 5985 (class 0 OID 0)
-- Dependencies: 377
-- Name: TABLE client_user_permission_overrides; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_user_permission_overrides TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_user_permission_overrides TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_user_permission_overrides TO "pi-master-readonly";


--
-- TOC entry 5986 (class 0 OID 0)
-- Dependencies: 372
-- Name: TABLE client_user_roles; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_user_roles TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_user_roles TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_user_roles TO "pi-master-readonly";


--
-- TOC entry 5987 (class 0 OID 0)
-- Dependencies: 369
-- Name: TABLE client_users; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_users TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.client_users TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.client_users TO mcp_server_user;
GRANT SELECT ON TABLE public.client_users TO "pi-master-readonly";


--
-- TOC entry 5989 (class 0 OID 0)
-- Dependencies: 248
-- Name: TABLE clients; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.clients TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.clients TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.clients TO "pi-recon";
GRANT SELECT ON TABLE public.clients TO "pi-master-readonly";


--
-- TOC entry 5990 (class 0 OID 0)
-- Dependencies: 367
-- Name: TABLE contract_log; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.contract_log TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.contract_log TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.contract_log TO "pi-master-readonly";


--
-- TOC entry 5992 (class 0 OID 0)
-- Dependencies: 336
-- Name: TABLE contracts; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.contracts TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.contracts TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.contracts TO "pi-recon";
GRANT SELECT ON TABLE public.contracts TO "pi-master-readonly";


--
-- TOC entry 5994 (class 0 OID 0)
-- Dependencies: 335
-- Name: SEQUENCE contracts_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.contracts_id_seq TO "pi-recon";


--
-- TOC entry 5995 (class 0 OID 0)
-- Dependencies: 332
-- Name: TABLE countries; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.countries TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.countries TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.countries TO "pi-recon";
GRANT SELECT ON TABLE public.countries TO mcp_server_user;
GRANT SELECT ON TABLE public.countries TO "pi-master-readonly";


--
-- TOC entry 5996 (class 0 OID 0)
-- Dependencies: 249
-- Name: TABLE credit_card_audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.credit_card_audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.credit_card_audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.credit_card_audit_logs TO "pi-recon";
GRANT SELECT ON TABLE public.credit_card_audit_logs TO "pi-master-readonly";


--
-- TOC entry 5998 (class 0 OID 0)
-- Dependencies: 250
-- Name: SEQUENCE credit_card_audit_logs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.credit_card_audit_logs_id_seq TO "pi-recon";


--
-- TOC entry 5999 (class 0 OID 0)
-- Dependencies: 251
-- Name: TABLE credit_cards; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.credit_cards TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.credit_cards TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.credit_cards TO "pi-recon";
GRANT SELECT ON TABLE public.credit_cards TO mcp_server_user;
GRANT SELECT ON TABLE public.credit_cards TO "pi-master-readonly";


--
-- TOC entry 6000 (class 0 OID 0)
-- Dependencies: 301
-- Name: TABLE currencies; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.currencies TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.currencies TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.currencies TO "pi-recon";
GRANT SELECT ON TABLE public.currencies TO "pi-master-readonly";


--
-- TOC entry 6001 (class 0 OID 0)
-- Dependencies: 359
-- Name: TABLE descriptor_rules; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.descriptor_rules TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.descriptor_rules TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.descriptor_rules TO "pi-recon";
GRANT SELECT ON TABLE public.descriptor_rules TO "pi-master-readonly";


--
-- TOC entry 6003 (class 0 OID 0)
-- Dependencies: 357
-- Name: SEQUENCE descriptor_rules_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.descriptor_rules_id_seq TO "pi-recon";


--
-- TOC entry 6004 (class 0 OID 0)
-- Dependencies: 296
-- Name: TABLE dispute_transactions; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.dispute_transactions TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.dispute_transactions TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.dispute_transactions TO "pi-recon";
GRANT SELECT ON TABLE public.dispute_transactions TO mcp_server_user;
GRANT SELECT ON TABLE public.dispute_transactions TO "pi-master-readonly";


--
-- TOC entry 6005 (class 0 OID 0)
-- Dependencies: 298
-- Name: TABLE dispute_transactions_audit; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.dispute_transactions_audit TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.dispute_transactions_audit TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.dispute_transactions_audit TO "pi-recon";
GRANT SELECT ON TABLE public.dispute_transactions_audit TO "pi-master-readonly";


--
-- TOC entry 6007 (class 0 OID 0)
-- Dependencies: 297
-- Name: SEQUENCE dispute_transactions_audit_audit_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.dispute_transactions_audit_audit_id_seq TO "pi-recon";


--
-- TOC entry 6009 (class 0 OID 0)
-- Dependencies: 295
-- Name: SEQUENCE dispute_transactions_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.dispute_transactions_id_seq TO "pi-recon";


--
-- TOC entry 6010 (class 0 OID 0)
-- Dependencies: 416
-- Name: TABLE document_verifications; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.document_verifications TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.document_verifications TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.document_verifications TO "pi-master-readonly";


--
-- TOC entry 6012 (class 0 OID 0)
-- Dependencies: 412
-- Name: TABLE email_campaigns; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.email_campaigns TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.email_campaigns TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.email_campaigns TO "pi-master-readonly";


--
-- TOC entry 6014 (class 0 OID 0)
-- Dependencies: 414
-- Name: TABLE email_insights; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.email_insights TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.email_insights TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.email_insights TO "pi-master-readonly";


--
-- TOC entry 6016 (class 0 OID 0)
-- Dependencies: 317
-- Name: TABLE employee_credentials; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.employee_credentials TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.employee_credentials TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.employee_credentials TO "pi-recon";
GRANT SELECT ON TABLE public.employee_credentials TO "pi-master-readonly";


--
-- TOC entry 6018 (class 0 OID 0)
-- Dependencies: 316
-- Name: SEQUENCE employee_credentials_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.employee_credentials_id_seq TO "pi-recon";


--
-- TOC entry 6019 (class 0 OID 0)
-- Dependencies: 290
-- Name: TABLE exemption_details_metadata; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.exemption_details_metadata TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.exemption_details_metadata TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.exemption_details_metadata TO "pi-recon";
GRANT SELECT ON TABLE public.exemption_details_metadata TO "pi-master-readonly";


--
-- TOC entry 6020 (class 0 OID 0)
-- Dependencies: 354
-- Name: TABLE faq_docs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.faq_docs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.faq_docs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.faq_docs TO "pi-recon";
GRANT SELECT ON TABLE public.faq_docs TO "pi-master-readonly";


--
-- TOC entry 6022 (class 0 OID 0)
-- Dependencies: 353
-- Name: SEQUENCE faq_docs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.faq_docs_id_seq TO "pi-recon";


--
-- TOC entry 6023 (class 0 OID 0)
-- Dependencies: 351
-- Name: TABLE faqs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.faqs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.faqs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.faqs TO "pi-recon";
GRANT SELECT ON TABLE public.faqs TO "pi-master-readonly";


--
-- TOC entry 6025 (class 0 OID 0)
-- Dependencies: 350
-- Name: SEQUENCE faqs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.faqs_id_seq TO "pi-recon";


--
-- TOC entry 6026 (class 0 OID 0)
-- Dependencies: 303
-- Name: TABLE fx_rate_providers; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.fx_rate_providers TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.fx_rate_providers TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.fx_rate_providers TO "pi-recon";
GRANT SELECT ON TABLE public.fx_rate_providers TO "pi-master-readonly";


--
-- TOC entry 6027 (class 0 OID 0)
-- Dependencies: 302
-- Name: TABLE fx_rates_current; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.fx_rates_current TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.fx_rates_current TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.fx_rates_current TO "pi-recon";
GRANT SELECT ON TABLE public.fx_rates_current TO "pi-master-readonly";


--
-- TOC entry 6028 (class 0 OID 0)
-- Dependencies: 306
-- Name: TABLE fx_rates_history; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.fx_rates_history TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.fx_rates_history TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.fx_rates_history TO "pi-recon";
GRANT SELECT ON TABLE public.fx_rates_history TO "pi-master-readonly";


--
-- TOC entry 6030 (class 0 OID 0)
-- Dependencies: 305
-- Name: SEQUENCE fx_rates_history_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.fx_rates_history_id_seq TO "pi-recon";


--
-- TOC entry 6031 (class 0 OID 0)
-- Dependencies: 368
-- Name: TABLE hubs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.hubs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.hubs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.hubs TO "pi-master-readonly";


--
-- TOC entry 6032 (class 0 OID 0)
-- Dependencies: 363
-- Name: TABLE images; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.images TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.images TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.images TO "pi-master-readonly";


--
-- TOC entry 6034 (class 0 OID 0)
-- Dependencies: 252
-- Name: TABLE industry_mcc_map; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.industry_mcc_map TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.industry_mcc_map TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.industry_mcc_map TO "pi-recon";
GRANT SELECT ON TABLE public.industry_mcc_map TO "pi-master-readonly";


--
-- TOC entry 6036 (class 0 OID 0)
-- Dependencies: 253
-- Name: SEQUENCE industry_mcc_map_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.industry_mcc_map_id_seq TO "pi-recon";


--
-- TOC entry 6037 (class 0 OID 0)
-- Dependencies: 365
-- Name: TABLE job_listings; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.job_listings TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.job_listings TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.job_listings TO "pi-master-readonly";


--
-- TOC entry 6038 (class 0 OID 0)
-- Dependencies: 338
-- Name: TABLE languages; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.languages TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.languages TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.languages TO "pi-recon";
GRANT SELECT ON TABLE public.languages TO "pi-master-readonly";


--
-- TOC entry 6040 (class 0 OID 0)
-- Dependencies: 337
-- Name: SEQUENCE languages_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.languages_id_seq TO "pi-recon";


--
-- TOC entry 6041 (class 0 OID 0)
-- Dependencies: 254
-- Name: SEQUENCE transaction_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.transaction_id_seq TO "pi-recon";


--
-- TOC entry 6042 (class 0 OID 0)
-- Dependencies: 255
-- Name: TABLE live_transactions_bkp; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.live_transactions_bkp TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.live_transactions_bkp TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.live_transactions_bkp TO "pi-recon";
GRANT SELECT ON TABLE public.live_transactions_bkp TO "pi-master-readonly";


--
-- TOC entry 6043 (class 0 OID 0)
-- Dependencies: 256
-- Name: SEQUENCE merchant_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.merchant_id_seq TO "pi-recon";


--
-- TOC entry 6044 (class 0 OID 0)
-- Dependencies: 257
-- Name: TABLE merchant; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.merchant TO "pi-recon";
GRANT SELECT ON TABLE public.merchant TO mcp_server_user;
GRANT SELECT ON TABLE public.merchant TO "pi-master-readonly";


--
-- TOC entry 6045 (class 0 OID 0)
-- Dependencies: 258
-- Name: SEQUENCE merchant_acquirer_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.merchant_acquirer_id_seq TO "pi-recon";


--
-- TOC entry 6046 (class 0 OID 0)
-- Dependencies: 259
-- Name: TABLE merchant_acquirer; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_acquirer TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_acquirer TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.merchant_acquirer TO "pi-recon";
GRANT SELECT ON TABLE public.merchant_acquirer TO "pi-master-readonly";


--
-- TOC entry 6047 (class 0 OID 0)
-- Dependencies: 260
-- Name: TABLE merchant_api_key; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_api_key TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_api_key TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.merchant_api_key TO "pi-recon";
GRANT SELECT ON TABLE public.merchant_api_key TO "pi-master-readonly";


--
-- TOC entry 6049 (class 0 OID 0)
-- Dependencies: 261
-- Name: SEQUENCE merchant_api_key_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.merchant_api_key_id_seq TO "pi-recon";


--
-- TOC entry 6050 (class 0 OID 0)
-- Dependencies: 262
-- Name: TABLE merchant_bank_details; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_bank_details TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_bank_details TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.merchant_bank_details TO "pi-recon";
GRANT SELECT ON TABLE public.merchant_bank_details TO "pi-master-readonly";


--
-- TOC entry 6052 (class 0 OID 0)
-- Dependencies: 263
-- Name: SEQUENCE merchant_bank_details_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.merchant_bank_details_id_seq TO "pi-recon";


--
-- TOC entry 6053 (class 0 OID 0)
-- Dependencies: 264
-- Name: SEQUENCE merchant_document_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.merchant_document_id_seq TO "pi-recon";


--
-- TOC entry 6054 (class 0 OID 0)
-- Dependencies: 265
-- Name: TABLE merchant_document; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_document TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_document TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.merchant_document TO "pi-recon";
GRANT SELECT ON TABLE public.merchant_document TO "pi-master-readonly";


--
-- TOC entry 6055 (class 0 OID 0)
-- Dependencies: 266
-- Name: SEQUENCE merchant_psc_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.merchant_psc_id_seq TO "pi-recon";


--
-- TOC entry 6056 (class 0 OID 0)
-- Dependencies: 267
-- Name: TABLE merchant_psc; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_psc TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_psc TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.merchant_psc TO "pi-recon";
GRANT SELECT ON TABLE public.merchant_psc TO "pi-master-readonly";


--
-- TOC entry 6057 (class 0 OID 0)
-- Dependencies: 268
-- Name: SEQUENCE merchant_social_media_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.merchant_social_media_id_seq TO "pi-recon";


--
-- TOC entry 6058 (class 0 OID 0)
-- Dependencies: 269
-- Name: TABLE merchant_social_media; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_social_media TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.merchant_social_media TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.merchant_social_media TO "pi-recon";
GRANT SELECT ON TABLE public.merchant_social_media TO "pi-master-readonly";


--
-- TOC entry 6059 (class 0 OID 0)
-- Dependencies: 410
-- Name: TABLE newsletter_subscriptions; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.newsletter_subscriptions TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.newsletter_subscriptions TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.newsletter_subscriptions TO "pi-master-readonly";


--
-- TOC entry 6061 (class 0 OID 0)
-- Dependencies: 270
-- Name: TABLE onboarding_person; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.onboarding_person TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.onboarding_person TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.onboarding_person TO "pi-recon";
GRANT SELECT ON TABLE public.onboarding_person TO "pi-master-readonly";


--
-- TOC entry 6063 (class 0 OID 0)
-- Dependencies: 271
-- Name: SEQUENCE onboarding_person_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.onboarding_person_id_seq TO "pi-recon";


--
-- TOC entry 6064 (class 0 OID 0)
-- Dependencies: 383
-- Name: TABLE payment_method_country_currencies; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_method_country_currencies TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_method_country_currencies TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.payment_method_country_currencies TO "pi-master-readonly";


--
-- TOC entry 6065 (class 0 OID 0)
-- Dependencies: 391
-- Name: TABLE payment_method_country_currencies_audit; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_method_country_currencies_audit TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_method_country_currencies_audit TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.payment_method_country_currencies_audit TO "pi-master-readonly";


--
-- TOC entry 6068 (class 0 OID 0)
-- Dependencies: 381
-- Name: TABLE payment_methods; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_methods TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_methods TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.payment_methods TO "pi-master-readonly";


--
-- TOC entry 6069 (class 0 OID 0)
-- Dependencies: 389
-- Name: TABLE payment_methods_audit; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_methods_audit TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_methods_audit TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.payment_methods_audit TO "pi-master-readonly";


--
-- TOC entry 6072 (class 0 OID 0)
-- Dependencies: 398
-- Name: TABLE payment_provider_config; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_provider_config TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_provider_config TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.payment_provider_config TO "pi-master-readonly";


--
-- TOC entry 6073 (class 0 OID 0)
-- Dependencies: 400
-- Name: TABLE payment_provider_config_audit; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_provider_config_audit TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_provider_config_audit TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.payment_provider_config_audit TO "pi-master-readonly";


--
-- TOC entry 6076 (class 0 OID 0)
-- Dependencies: 272
-- Name: TABLE payment_providers; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_providers TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.payment_providers TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.payment_providers TO "pi-recon";
GRANT SELECT ON TABLE public.payment_providers TO mcp_server_user;
GRANT SELECT ON TABLE public.payment_providers TO "pi-master-readonly";


--
-- TOC entry 6077 (class 0 OID 0)
-- Dependencies: 375
-- Name: TABLE permissions; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.permissions TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.permissions TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.permissions TO "pi-master-readonly";


--
-- TOC entry 6078 (class 0 OID 0)
-- Dependencies: 273
-- Name: TABLE provider_audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.provider_audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.provider_audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.provider_audit_logs TO "pi-recon";
GRANT SELECT ON TABLE public.provider_audit_logs TO "pi-master-readonly";


--
-- TOC entry 6080 (class 0 OID 0)
-- Dependencies: 274
-- Name: SEQUENCE provider_audit_logs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.provider_audit_logs_id_seq TO "pi-recon";


--
-- TOC entry 6081 (class 0 OID 0)
-- Dependencies: 292
-- Name: TABLE provider_exemption_config; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.provider_exemption_config TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.provider_exemption_config TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.provider_exemption_config TO "pi-recon";
GRANT SELECT ON TABLE public.provider_exemption_config TO mcp_server_user;
GRANT SELECT ON TABLE public.provider_exemption_config TO "pi-master-readonly";


--
-- TOC entry 6083 (class 0 OID 0)
-- Dependencies: 291
-- Name: SEQUENCE provider_exemption_config_exemption_config_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.provider_exemption_config_exemption_config_id_seq TO "pi-recon";


--
-- TOC entry 6084 (class 0 OID 0)
-- Dependencies: 294
-- Name: TABLE provider_fees; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.provider_fees TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.provider_fees TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.provider_fees TO "pi-recon";
GRANT SELECT ON TABLE public.provider_fees TO "pi-master-readonly";


--
-- TOC entry 6086 (class 0 OID 0)
-- Dependencies: 293
-- Name: SEQUENCE provider_fees_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.provider_fees_id_seq TO "pi-recon";


--
-- TOC entry 6087 (class 0 OID 0)
-- Dependencies: 275
-- Name: SEQUENCE psc_document_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.psc_document_id_seq TO "pi-recon";


--
-- TOC entry 6088 (class 0 OID 0)
-- Dependencies: 276
-- Name: TABLE psc_document; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.psc_document TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.psc_document TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.psc_document TO "pi-recon";
GRANT SELECT ON TABLE public.psc_document TO "pi-master-readonly";


--
-- TOC entry 6089 (class 0 OID 0)
-- Dependencies: 282
-- Name: TABLE transactions; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transactions TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transactions TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.transactions TO "pi-recon";
GRANT SELECT ON TABLE public.transactions TO mcp_server_user;
GRANT SELECT ON TABLE public.transactions TO "pi-master-readonly";


--
-- TOC entry 6090 (class 0 OID 0)
-- Dependencies: 345
-- Name: TABLE psp_daily_active_acquirers; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.psp_daily_active_acquirers TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.psp_daily_active_acquirers TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.psp_daily_active_acquirers TO "pi-recon";
GRANT SELECT ON TABLE public.psp_daily_active_acquirers TO "pi-master-readonly";


--
-- TOC entry 6091 (class 0 OID 0)
-- Dependencies: 346
-- Name: TABLE psp_daily_success_components; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.psp_daily_success_components TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.psp_daily_success_components TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.psp_daily_success_components TO "pi-recon";
GRANT SELECT ON TABLE public.psp_daily_success_components TO "pi-master-readonly";


--
-- TOC entry 6092 (class 0 OID 0)
-- Dependencies: 307
-- Name: TABLE recon_internal_transactions; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.recon_internal_transactions TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.recon_internal_transactions TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.recon_internal_transactions TO "pi-recon";
GRANT SELECT ON TABLE public.recon_internal_transactions TO "pi-master-readonly";


--
-- TOC entry 6093 (class 0 OID 0)
-- Dependencies: 360
-- Name: TABLE recon_matched_transactions; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.recon_matched_transactions TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.recon_matched_transactions TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.recon_matched_transactions TO "pi-recon";
GRANT SELECT ON TABLE public.recon_matched_transactions TO "pi-master-readonly";


--
-- TOC entry 6094 (class 0 OID 0)
-- Dependencies: 331
-- Name: TABLE recon_staging_raw_transactions; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.recon_staging_raw_transactions TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.recon_staging_raw_transactions TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.recon_staging_raw_transactions TO "pi-recon";
GRANT SELECT ON TABLE public.recon_staging_raw_transactions TO "pi-master-readonly";


--
-- TOC entry 6095 (class 0 OID 0)
-- Dependencies: 361
-- Name: TABLE recon_unmatched_transactions; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.recon_unmatched_transactions TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.recon_unmatched_transactions TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.recon_unmatched_transactions TO "pi-recon";
GRANT SELECT ON TABLE public.recon_unmatched_transactions TO "pi-master-readonly";


--
-- TOC entry 6096 (class 0 OID 0)
-- Dependencies: 374
-- Name: TABLE resources; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.resources TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.resources TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.resources TO "pi-master-readonly";


--
-- TOC entry 6097 (class 0 OID 0)
-- Dependencies: 376
-- Name: TABLE role_permissions; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.role_permissions TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.role_permissions TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.role_permissions TO "pi-master-readonly";


--
-- TOC entry 6098 (class 0 OID 0)
-- Dependencies: 371
-- Name: TABLE roles; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.roles TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.roles TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.roles TO "pi-master-readonly";


--
-- TOC entry 6099 (class 0 OID 0)
-- Dependencies: 355
-- Name: TABLE shield_configs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.shield_configs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.shield_configs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.shield_configs TO "pi-recon";
GRANT SELECT ON TABLE public.shield_configs TO "pi-master-readonly";


--
-- TOC entry 6100 (class 0 OID 0)
-- Dependencies: 349
-- Name: TABLE states; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.states TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.states TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.states TO "pi-recon";
GRANT SELECT ON TABLE public.states TO "pi-master-readonly";


--
-- TOC entry 6101 (class 0 OID 0)
-- Dependencies: 348
-- Name: TABLE states_tmp; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.states_tmp TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.states_tmp TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.states_tmp TO "pi-recon";
GRANT SELECT ON TABLE public.states_tmp TO "pi-master-readonly";


--
-- TOC entry 6102 (class 0 OID 0)
-- Dependencies: 304
-- Name: TABLE supported_currencies; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.supported_currencies TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.supported_currencies TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.supported_currencies TO "pi-recon";
GRANT SELECT ON TABLE public.supported_currencies TO "pi-master-readonly";


--
-- TOC entry 6103 (class 0 OID 0)
-- Dependencies: 287
-- Name: TABLE system_metadata; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.system_metadata TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.system_metadata TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.system_metadata TO "pi-recon";
GRANT SELECT ON TABLE public.system_metadata TO "pi-master-readonly";


--
-- TOC entry 6104 (class 0 OID 0)
-- Dependencies: 289
-- Name: TABLE system_metadata_audit; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.system_metadata_audit TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.system_metadata_audit TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.system_metadata_audit TO "pi-recon";
GRANT SELECT ON TABLE public.system_metadata_audit TO "pi-master-readonly";


--
-- TOC entry 6106 (class 0 OID 0)
-- Dependencies: 288
-- Name: SEQUENCE system_metadata_audit_audit_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.system_metadata_audit_audit_id_seq TO "pi-recon";


--
-- TOC entry 6108 (class 0 OID 0)
-- Dependencies: 286
-- Name: SEQUENCE system_metadata_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.system_metadata_id_seq TO "pi-recon";


--
-- TOC entry 6109 (class 0 OID 0)
-- Dependencies: 408
-- Name: TABLE ticket_comments; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.ticket_comments TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.ticket_comments TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.ticket_comments TO "pi-master-readonly";


--
-- TOC entry 6111 (class 0 OID 0)
-- Dependencies: 406
-- Name: TABLE ticket_files; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.ticket_files TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.ticket_files TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.ticket_files TO "pi-master-readonly";


--
-- TOC entry 6113 (class 0 OID 0)
-- Dependencies: 404
-- Name: TABLE tickets; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.tickets TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.tickets TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.tickets TO "pi-master-readonly";


--
-- TOC entry 6115 (class 0 OID 0)
-- Dependencies: 352
-- Name: TABLE token_ledger; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.token_ledger TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.token_ledger TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.token_ledger TO "pi-recon";
GRANT SELECT ON TABLE public.token_ledger TO "pi-master-readonly";


--
-- TOC entry 6116 (class 0 OID 0)
-- Dependencies: 322
-- Name: TABLE transaction_3ds; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_3ds TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_3ds TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.transaction_3ds TO "pi-recon";
GRANT SELECT ON TABLE public.transaction_3ds TO "pi-master-readonly";


--
-- TOC entry 6118 (class 0 OID 0)
-- Dependencies: 321
-- Name: SEQUENCE transaction_3ds_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.transaction_3ds_id_seq TO "pi-recon";


--
-- TOC entry 6119 (class 0 OID 0)
-- Dependencies: 318
-- Name: TABLE transaction_additional_data; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_additional_data TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_additional_data TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.transaction_additional_data TO "pi-recon";
GRANT SELECT ON TABLE public.transaction_additional_data TO "pi-master-readonly";


--
-- TOC entry 6120 (class 0 OID 0)
-- Dependencies: 278
-- Name: TABLE transaction_audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.transaction_audit_logs TO "pi-recon";
GRANT SELECT ON TABLE public.transaction_audit_logs TO "pi-master-readonly";


--
-- TOC entry 6122 (class 0 OID 0)
-- Dependencies: 279
-- Name: SEQUENCE transaction_audit_logs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.transaction_audit_logs_id_seq TO "pi-recon";


--
-- TOC entry 6123 (class 0 OID 0)
-- Dependencies: 277
-- Name: TABLE transaction_bkp; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_bkp TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_bkp TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.transaction_bkp TO "pi-recon";
GRANT SELECT ON TABLE public.transaction_bkp TO "pi-master-readonly";


--
-- TOC entry 6124 (class 0 OID 0)
-- Dependencies: 320
-- Name: TABLE transaction_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.transaction_logs TO "pi-recon";
GRANT SELECT ON TABLE public.transaction_logs TO "pi-master-readonly";


--
-- TOC entry 6126 (class 0 OID 0)
-- Dependencies: 319
-- Name: SEQUENCE transaction_logs_log_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.transaction_logs_log_id_seq TO "pi-recon";


--
-- TOC entry 6127 (class 0 OID 0)
-- Dependencies: 280
-- Name: TABLE transaction_metadata; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_metadata TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.transaction_metadata TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.transaction_metadata TO "pi-recon";
GRANT SELECT ON TABLE public.transaction_metadata TO "pi-master-readonly";


--
-- TOC entry 6129 (class 0 OID 0)
-- Dependencies: 281
-- Name: SEQUENCE transaction_metadata_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.transaction_metadata_id_seq TO "pi-recon";


--
-- TOC entry 6130 (class 0 OID 0)
-- Dependencies: 344
-- Name: TABLE translation_history; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.translation_history TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.translation_history TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.translation_history TO "pi-recon";
GRANT SELECT ON TABLE public.translation_history TO "pi-master-readonly";


--
-- TOC entry 6132 (class 0 OID 0)
-- Dependencies: 343
-- Name: SEQUENCE translation_history_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.translation_history_id_seq TO "pi-recon";


--
-- TOC entry 6133 (class 0 OID 0)
-- Dependencies: 340
-- Name: TABLE translation_keys; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.translation_keys TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.translation_keys TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.translation_keys TO "pi-recon";
GRANT SELECT ON TABLE public.translation_keys TO "pi-master-readonly";


--
-- TOC entry 6135 (class 0 OID 0)
-- Dependencies: 339
-- Name: SEQUENCE translation_keys_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.translation_keys_id_seq TO "pi-recon";


--
-- TOC entry 6136 (class 0 OID 0)
-- Dependencies: 342
-- Name: TABLE translations; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.translations TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.translations TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.translations TO "pi-recon";
GRANT SELECT ON TABLE public.translations TO "pi-master-readonly";


--
-- TOC entry 6138 (class 0 OID 0)
-- Dependencies: 341
-- Name: SEQUENCE translations_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.translations_id_seq TO "pi-recon";


--
-- TOC entry 6139 (class 0 OID 0)
-- Dependencies: 284
-- Name: TABLE users; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.users TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.users TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.users TO "pi-recon";
GRANT SELECT ON TABLE public.users TO mcp_server_user;
GRANT SELECT ON TABLE public.users TO "pi-master-readonly";


--
-- TOC entry 6140 (class 0 OID 0)
-- Dependencies: 312
-- Name: TABLE webhook_deliveries; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.webhook_deliveries TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.webhook_deliveries TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.webhook_deliveries TO "pi-recon";
GRANT SELECT ON TABLE public.webhook_deliveries TO "pi-master-readonly";


--
-- TOC entry 6142 (class 0 OID 0)
-- Dependencies: 310
-- Name: SEQUENCE webhook_deliveries_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.webhook_deliveries_id_seq TO "pi-recon";


--
-- TOC entry 6144 (class 0 OID 0)
-- Dependencies: 311
-- Name: SEQUENCE webhook_deliveries_webhook_endpoint_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.webhook_deliveries_webhook_endpoint_id_seq TO "pi-recon";


--
-- TOC entry 6145 (class 0 OID 0)
-- Dependencies: 314
-- Name: TABLE webhook_delivery_audit_logs; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.webhook_delivery_audit_logs TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.webhook_delivery_audit_logs TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.webhook_delivery_audit_logs TO "pi-recon";
GRANT SELECT ON TABLE public.webhook_delivery_audit_logs TO "pi-master-readonly";


--
-- TOC entry 6147 (class 0 OID 0)
-- Dependencies: 313
-- Name: SEQUENCE webhook_delivery_audit_logs_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.webhook_delivery_audit_logs_id_seq TO "pi-recon";


--
-- TOC entry 6148 (class 0 OID 0)
-- Dependencies: 309
-- Name: TABLE webhook_endpoints; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.webhook_endpoints TO "pi-deepsearch-access-write";
GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.webhook_endpoints TO "pi-deepsearch-access";
GRANT SELECT ON TABLE public.webhook_endpoints TO "pi-recon";
GRANT SELECT ON TABLE public.webhook_endpoints TO "pi-master-readonly";


--
-- TOC entry 6150 (class 0 OID 0)
-- Dependencies: 308
-- Name: SEQUENCE webhook_endpoints_id_seq; Type: ACL; Schema: public; Owner: piadmin
--

GRANT SELECT,USAGE ON SEQUENCE public.webhook_endpoints_id_seq TO "pi-recon";


--
-- TOC entry 2659 (class 826 OID 22122)
-- Name: DEFAULT PRIVILEGES FOR FUNCTIONS; Type: DEFAULT ACL; Schema: public; Owner: piadmin
--

ALTER DEFAULT PRIVILEGES FOR ROLE piadmin IN SCHEMA public GRANT ALL ON FUNCTIONS TO "pi-deepsearch-access-write";
ALTER DEFAULT PRIVILEGES FOR ROLE piadmin IN SCHEMA public GRANT ALL ON FUNCTIONS TO "pi-deepsearch-access";


--
-- TOC entry 2660 (class 826 OID 22120)
-- Name: DEFAULT PRIVILEGES FOR TABLES; Type: DEFAULT ACL; Schema: public; Owner: piadmin
--

ALTER DEFAULT PRIVILEGES FOR ROLE piadmin IN SCHEMA public GRANT SELECT,INSERT,DELETE,UPDATE ON TABLES TO "pi-deepsearch-access-write";
ALTER DEFAULT PRIVILEGES FOR ROLE piadmin IN SCHEMA public GRANT SELECT,INSERT,DELETE,UPDATE ON TABLES TO "pi-deepsearch-access";
ALTER DEFAULT PRIVILEGES FOR ROLE piadmin IN SCHEMA public GRANT SELECT ON TABLES TO "pi-master-readonly";


-- Completed on 2025-11-27 09:00:25 IST

--
-- PostgreSQL database dump complete
--

